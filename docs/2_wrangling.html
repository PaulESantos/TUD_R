<!DOCTYPE html>
<html lang="en"><head>
<script src="2_wrangling_files/libs/clipboard/clipboard.min.js"></script>
<script src="2_wrangling_files/libs/quarto-html/tabby.min.js"></script>
<script src="2_wrangling_files/libs/quarto-html/popper.min.js"></script>
<script src="2_wrangling_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="2_wrangling_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2_wrangling_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="2_wrangling_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="2_wrangling_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.191">

  <meta name="author" content="Cédric Scherer // R Course TU Dresden // Feb 27–Mar 3, 2023">
  <title>&nbsp;Reproducible Data Analysis with R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="2_wrangling_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="2_wrangling_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #000000; background-color: #ffffff; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #000000; } /* Normal */
    code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
    code span.an { color: #ca60ca; } /* Annotation */
    code span.at { color: #0057ae; } /* Attribute */
    code span.bn { color: #b08000; } /* BaseN */
    code span.bu { color: #644a9b; } /* BuiltIn */
    code span.cf { color: #000000; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #924c9d; } /* Char */
    code span.cn { color: #aa5500; } /* Constant */
    code span.co { color: #898887; } /* Comment */
    code span.cv { color: #0095ff; } /* CommentVar */
    code span.do { color: #607880; } /* Documentation */
    code span.dt { color: #0057ae; } /* DataType */
    code span.dv { color: #b08000; } /* DecVal */
    code span.er { color: #bf0303; text-decoration: underline; } /* Error */
    code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
    code span.fl { color: #b08000; } /* Float */
    code span.fu { color: #644a9b; } /* Function */
    code span.im { color: #644a9b; } /* Import */
    code span.in { color: #b08000; } /* Information */
    code span.kw { color: #000000; font-weight: bold; } /* Keyword */
    code span.op { color: #000000; } /* Operator */
    code span.ot { color: #006e28; } /* Other */
    code span.pp { color: #006e28; } /* Preprocessor */
    code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
    code span.sc { color: #ff5500; } /* SpecialChar */
    code span.ss { color: #ff5500; } /* SpecialString */
    code span.st { color: #bf0303; } /* String */
    code span.va { color: #0057ae; } /* Variable */
    code span.vs { color: #bf0303; } /* VerbatimString */
    code span.wa { color: #bf0303; } /* Warning */
  </style>
  <link rel="stylesheet" href="2_wrangling_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="2_wrangling_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="2_wrangling_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="2_wrangling_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="2_wrangling_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="2_wrangling_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="2_wrangling_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">&nbsp;Reproducible Data Analysis with R</h1>
  <p class="subtitle">— Data Wrangling with the <code>{tidyverse}</code> —</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<b style="color:#28a87d;"><a href="https://www.cedricscherer.com">Cédric Scherer</a></b> <strong>//</strong> R Course TU Dresden <strong>//</strong> Feb 27–Mar 3, 2023 
</div>
</div>
</div>

</section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-workflow.png" alt="A conceptional representation of the data science workflow:the first step is data import, afterwards the data gets tidied (prepared, shaped). Then follows an iterative process of visualization, transformation and modeling. Once the final analysis is done, the results need to be communicated." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-import-done.png" alt="The same conceptional representation of the data science workflow with the step import being highlighted in green (as we have already covered the step)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-tidy.png" alt="The same conceptional representation of the data science workflow with the step tidy being highlighted in yellow (as it is coming next)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-tidy-transform.png" alt="The same conceptional representation of the data science workflow with the steps tidy and transform being highlighted in yellow (as they are coming next)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section>
<section id="data-wrangling-with-the-tidyverse" class="title-slide slide level1 center">
<h1>Data Wrangling with the {tidyverse}</h1>

</section>
<section id="section" class="slide level2" data-background-image="img/2_wrangling/tidyverse-packages.png" data-background-position="center" data-background-size="100%">
<h2></h2>
<div class="footer">

</div>
</section>
<section id="the-tidyverse" class="slide level2">
<h2>The {tidyverse}</h2>
<p><br></p>

<img data-src="img/2_wrangling/tidyverse-packages-workflow.png" alt="An overview of the tidyverse packages sorted by the different data science steps." class="r-stretch quarto-figure-center"></section>
<section id="the-tidyverse-1" class="slide level2">
<h2>The {tidyverse}</h2>
<p><br></p>

<img data-src="img/2_wrangling/tidyverse-packages-workflow-used-already.png" alt="An overview of the tidyverse packages sorted by the different data science steps. The packages readr, readxl, tibble, and tidyr are highlighted as we have already used them." class="r-stretch quarto-figure-center"></section>
<section id="the-tidyverse-2" class="slide level2">
<h2>The {tidyverse}</h2>
<p><br></p>

<img data-src="img/2_wrangling/tidyverse-packages-workflow-using.png" alt="An overview of the tidyverse packages sorted by the different data science steps. All packages that we are going to use are highlighted in green." class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="data-wrangling-the-setup" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— The Setup —</b></h1>

</section>
<section id="our-example-data-babynames" class="slide level2">
<h2>Our Example Data: <code>babynames</code></h2>
<ul>
<li><p>Count and proportional data of baby names used for at least five children in the US<br>per sex and year from 1880 to 2017</p></li>
<li><p>1,924,665 rows (observations) and 4 columns (variables)</p></li>
<li><p>Data source: <a href="http://www.ssa.gov/oact/babynames/limits.html">US Social Security Administration (SSA)</a></p></li>
<li><p>Available as data set <code>babynames</code> in the <code>{babynames}</code> package:<br> <code>install.packages("babynames")</code> (includes 3 more data sets)</p></li>
<li><p>See also <code>??babynames</code></p></li>
</ul>
</section>
<section id="our-example-data-babynames-1" class="slide level2">
<h2>Our Example Data: <code>babynames</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="1|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("babynames")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(babynames)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-3_d0578c094dfcf94eda54f012be480098">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(babynames)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,924,665
Columns: 5
$ year &lt;dbl&gt; 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880, 1880,…
$ sex  &lt;chr&gt; "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", …
$ name &lt;chr&gt; "Mary", "Anna", "Emma", "Elizabeth", "Minnie", "Margaret", "Ida", "Alice", "Bertha", "Sarah", "…
$ n    &lt;int&gt; 7065, 2604, 2003, 1939, 1746, 1578, 1472, 1414, 1320, 1288, 1258, 1226, 1156, 1063, 1045, 1040,…
$ prop &lt;dbl&gt; 0.07238359, 0.02667896, 0.02052149, 0.01986579, 0.01788843, 0.01616720, 0.01508119, 0.01448696,…</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="2_wrangling_files/figure-revealjs/babynames-ggplot-decades-1.png" width="3300" class="r-stretch quarto-figure-center"></section>
<section id="excourse-integer-division" class="slide level2">
<h2>Excourse: Integer Division</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-5_af4b1bdedec91cae43eb8f674fc0aaad">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="dv">1</span> <span class="sc">%/%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="dv">11</span> <span class="sc">%/%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="dv">17</span> <span class="sc">%/%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-6_f1aa900307564946bdbab0a0c71afa74">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="dv">2019</span> <span class="sc">%/%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 201</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="dv">2020</span> <span class="sc">%/%</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 202</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-7_97b794a44105c49297c05ada9a9f1e22">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="dv">2019</span> <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2010</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="dv">2020</span> <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2020</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="2_wrangling_files/figure-revealjs/babynames-ggplot-post-wwii-1.png" width="3000" class="r-stretch quarto-figure-center"></section>
<section id="the-tidyverse-package-collections" class="slide level2">
<h2>The {tidyverse} Package Collections</h2>
<p>The <strong><code>{tidyverse}</code></strong> package collection installs all core packages:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-9_691586a9224b70c2ba7d55be46fe478b">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>installs <code>tibble</code>, <code>tidyr</code>, <code>dplyr</code>, <code>forcats</code>, <code>stringr</code>, <code>ggplot2</code>, and <code>purrr</code><br>and their dependency packages<br><br></p>
</div>
<div class="fragment">
<p>→ often trouble with package versions, thus we install each package on its own</p>
</div>
</section></section>
<section>
<section id="data-wrangling-with-the-dplyr-package" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— with the {dplyr} Package —</b></h1>

</section>
<section class="slide level2">


<img data-src="img/2_wrangling/ah_dplyr_wrangling.png" alt="Allison Horsts illustration of the data wrangling process, illustrated by a monster riding the dplyr monster as a cowboy, successfully catching data monsters." class="r-stretch quarto-figure-center"><p class="caption">Illustration by <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a></p></section>
<section id="why-should-i-care-about-dplyr" class="slide level2">
<h2>Why should I care about <code>{dplyr}</code>?</h2>
<h3 class="incremental" id="section-1"></h3>
<ul>
<li>contains a set of convenient functions to perform common transformation and summary operations</li>
<li>compared to base R functions:
<ul>
<li>syntax is more consistent</li>
<li>constrained options</li>
<li>always return a <code>data.frame</code> (actually, a <code>tibble</code>)</li>
<li>uses efficient data storage backends</li>
<li>can work with databases and data tables</li>
</ul></li>
</ul>
</section>
<section id="the-main-verbs-of-dplyr" class="slide level2">
<h2>The Main Verbs of <code>{dplyr}</code></h2>
<br>

<table style="width:100%;font-size:18pt">
<tbody><tr>
<th>
Verb<span style="color:#606060;">(Function)</span>
</th>
<th>
Explanation
</th>
</tr>
<tr>
<td>
<code style="font-weight:700">filter()</code>
</td>
<td>
Pick rows with matching criteria
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">select()</code>
</td>
<td>
Pick columns with matching criteria
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">arrange()</code>
</td>
<td>
Reorder rows
</td>
</tr><tr>
<td>
<code style="font-weight:700">mutate()</code>
</td>
<td>
Create new variables
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">summarize()</code> or <code style="font-weight:700">summarise()</code>
</td>
<td>
Sum up variables
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">group_by()</code>
</td>
<td>
Create subsets
</td>
</tr>

</tbody></table>
</section>
<section id="consistent-syntax-of-dplyr" class="slide level2">
<h2>Consistent Syntax of {dplyr}</h2>
<br>
<p style="text-align:center;">
</p><p><b style="font-size:32pt;">All functions take the same main arguments:</b></p>
<p><br><code style="font-size:54pt;">verb(data, condition)</code><br><br></p>
<span style="font-size:25pt;color:grey">The first argument is your data, subsequent arguments say<br>what to do with the data frame, using the variable names.</span>
<p></p>
</section>
<section id="load-dplyr" class="slide level2">
<h2>Load {dplyr}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># install.packages("dplyr")</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
filter()
</div>
<div class="fctsub">
— Pick Rows with Matching Criteria —
</div>
</section>
<section id="pick-rows-with-matching-criteria" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-11_7e46728a9af312b4d8fa8a48cff5f967">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">filter</span>(babynames, year <span class="sc">==</span> <span class="dv">2000</span>, n <span class="sc">&gt;</span> <span class="dv">25000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
   year sex   name        n   prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt;  &lt;dbl&gt;
1  2000 F     Emily   25953 0.0130
2  2000 M     Jacob   34471 0.0165
3  2000 M     Michael 32035 0.0153
4  2000 M     Matthew 28572 0.0137
5  2000 M     Joshua  27538 0.0132</code></pre>
</div>
</div>
</section>
<section id="pick-rows-with-matching-criteria-1" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-12_4e2cc16688f413bf524c4f311e1afd32">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">filter</span>(babynames, year <span class="sc">==</span> <span class="dv">2000</span>, n <span class="sc">&gt;</span> <span class="dv">25000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-13_a852b5a5bc5eda18df47072f7c4bdf04">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>babynames[babynames<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2000</span> <span class="sc">&amp;</span> babynames<span class="sc">$</span>n <span class="sc">&gt;</span> <span class="dv">25000</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
   year sex   name        n   prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt;  &lt;dbl&gt;
1  2000 F     Emily   25953 0.0130
2  2000 M     Jacob   34471 0.0165
3  2000 M     Michael 32035 0.0153
4  2000 M     Matthew 28572 0.0137
5  2000 M     Joshua  27538 0.0132</code></pre>
</div>
</div>
</section>
<section id="pick-rows-with-matching-criteria-2" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong><br>
→&nbsp;&nbsp;join filtering conditions with <code>&amp;</code> (and) and <code>|</code> (or):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-14_2086e647b50a4eb4c6abff76342efbce">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">filter</span>(babynames, (name <span class="sc">==</span> <span class="st">"Cedric"</span> <span class="sc">|</span> name <span class="sc">==</span> <span class="st">"Clarissa"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 293 × 5
    year sex   name         n      prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;     &lt;dbl&gt;
 1  1880 F     Clarissa    10 0.000102 
 2  1882 F     Clarissa    13 0.000112 
 3  1883 F     Clarissa    17 0.000142 
 4  1884 F     Clarissa    18 0.000131 
 5  1885 F     Clarissa    11 0.0000775
 6  1886 F     Clarissa    15 0.0000976
 7  1887 F     Clarissa    17 0.000109 
 8  1888 F     Clarissa    12 0.0000633
 9  1889 F     Clarissa    20 0.000106 
10  1890 F     Clarissa    25 0.000124 
# … with 283 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-rows-with-matching-criteria-3" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong><br>
→&nbsp;&nbsp;join filtering conditions with <code>&amp;</code> (and) and <code>|</code> (or):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-15_6c369df69ddccd47b46502810e2f9bcc">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">filter</span>(babynames, (name <span class="sc">==</span> <span class="st">"Cedric"</span> <span class="sc">|</span> name <span class="sc">==</span> <span class="st">"Clarissa"</span>) <span class="sc">&amp;</span> year <span class="sc">%in%</span> <span class="dv">1900</span><span class="sc">:</span><span class="dv">1905</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
   year sex   name         n      prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;     &lt;dbl&gt;
1  1900 F     Clarissa    20 0.0000629
2  1901 F     Clarissa    33 0.000130 
3  1902 F     Clarissa    25 0.0000892
4  1903 F     Clarissa    21 0.0000755
5  1903 M     Cedric       7 0.0000541
6  1904 F     Clarissa    32 0.000109 
7  1904 M     Cedric       8 0.0000578
8  1905 F     Clarissa    15 0.0000484
9  1905 M     Cedric       5 0.0000349</code></pre>
</div>
</div>
</section>
<section id="pick-rows-with-matching-criteria-4" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong><br>
→&nbsp;&nbsp;filter conditions out with <code>!=</code> (not equal):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-16_48ff20ce7fe3db44138dd5a8619fb28c">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">filter</span>(babynames, name <span class="sc">!=</span> <span class="st">"Mary"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,397 × 5
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Anna       2604 0.0267
 2  1880 F     Emma       2003 0.0205
 3  1880 F     Elizabeth  1939 0.0199
 4  1880 F     Minnie     1746 0.0179
 5  1880 F     Margaret   1578 0.0162
 6  1880 F     Ida        1472 0.0151
 7  1880 F     Alice      1414 0.0145
 8  1880 F     Bertha     1320 0.0135
 9  1880 F     Sarah      1288 0.0132
10  1880 F     Annie      1258 0.0129
# … with 1,924,387 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-rows-with-matching-criteria-5" class="slide level2">
<h2>Pick Rows with Matching Criteria</h2>
<p><code>filter(data, condition)</code> allows you to select a subset of <strong>rows</strong><br>
→&nbsp;&nbsp;reverse filter conditions with <code>!</code>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-17_b718e760a2157ff8254f140d1bb83018">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">filter</span>(babynames, <span class="sc">!</span>name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Anna"</span>, <span class="st">"Emma"</span>, <span class="st">"Elizabeth"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,923,865 × 5
    year sex   name         n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary      7065 0.0724
 2  1880 F     Minnie    1746 0.0179
 3  1880 F     Margaret  1578 0.0162
 4  1880 F     Ida       1472 0.0151
 5  1880 F     Alice     1414 0.0145
 6  1880 F     Bertha    1320 0.0135
 7  1880 F     Sarah     1288 0.0132
 8  1880 F     Annie     1258 0.0129
 9  1880 F     Clara     1226 0.0126
10  1880 F     Ella      1156 0.0118
# … with 1,923,855 more rows</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
select()
</div>
<div class="fctsub">
— Pick Columns with Matching Criteria —
</div>
</section>
<section id="pick-columns-with-matching-criteria" class="slide level2">
<h2>Pick Columns with Matching Criteria</h2>
<p><code>select(data, condition)</code> allows you to select a subset of <strong>columns</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-18_7310bc8763d72dbd331dbb7b5b1b3688">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">select</span>(babynames, year, name, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 3
    year name          n
   &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1  1880 Mary       7065
 2  1880 Anna       2604
 3  1880 Emma       2003
 4  1880 Elizabeth  1939
 5  1880 Minnie     1746
 6  1880 Margaret   1578
 7  1880 Ida        1472
 8  1880 Alice      1414
 9  1880 Bertha     1320
10  1880 Sarah      1288
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-columns-with-matching-criteria-1" class="slide level2">
<h2>Pick Columns with Matching Criteria</h2>
<p><code>select(data, condition)</code> allows you to select a subset of <strong>columns</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-19_69860ed65cbcea964c6b6e04dd2c9f07">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">select</span>(babynames, year, name, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-20_46b932ecfcf21f50aa375f2151f5d02c">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>babynames[, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"name"</span>, <span class="st">"n"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 3
    year name          n
   &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1  1880 Mary       7065
 2  1880 Anna       2604
 3  1880 Emma       2003
 4  1880 Elizabeth  1939
 5  1880 Minnie     1746
 6  1880 Margaret   1578
 7  1880 Ida        1472
 8  1880 Alice      1414
 9  1880 Bertha     1320
10  1880 Sarah      1288
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-columns-with-matching-criteria-2" class="slide level2">
<h2>Pick Columns with Matching Criteria</h2>
<p><code>select(data, condition)</code> allows you to select a subset of <strong>columns</strong>:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-21_0640fa0d294079de85c83f30d5c28188" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">select</span>(babynames, year, name, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 3
    year name          n
   &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1  1880 Mary       7065
 2  1880 Anna       2604
 3  1880 Emma       2003
 4  1880 Elizabeth  1939
 5  1880 Minnie     1746
 6  1880 Margaret   1578
 7  1880 Ida        1472
 8  1880 Alice      1414
 9  1880 Bertha     1320
10  1880 Sarah      1288
# … with 1,924,655 more rows</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-22_7ffeeaaf94fed93771bc4f7120b54bd3" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">select</span>(babynames, <span class="sc">-</span>prop, <span class="sc">-</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 3
    year name          n
   &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;
 1  1880 Mary       7065
 2  1880 Anna       2604
 3  1880 Emma       2003
 4  1880 Elizabeth  1939
 5  1880 Minnie     1746
 6  1880 Margaret   1578
 7  1880 Ida        1472
 8  1880 Alice      1414
 9  1880 Bertha     1320
10  1880 Sarah      1288
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="pick-columns-with-matching-criteria-3" class="slide level2">
<h2>Pick Columns with Matching Criteria</h2>
<p><code>select(data, condition)</code> can also be used to <strong>reorder columns</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-23_35b116a48a1cc6b7ff338912d1075195">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">select</span>(babynames, name, n, prop, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
   name          n   prop sex    year
   &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
 1 Mary       7065 0.0724 F      1880
 2 Anna       2604 0.0267 F      1880
 3 Emma       2003 0.0205 F      1880
 4 Elizabeth  1939 0.0199 F      1880
 5 Minnie     1746 0.0179 F      1880
 6 Margaret   1578 0.0162 F      1880
 7 Ida        1472 0.0151 F      1880
 8 Alice      1414 0.0145 F      1880
 9 Bertha     1320 0.0135 F      1880
10 Sarah      1288 0.0132 F      1880
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-columns-with-matching-criteria-4" class="slide level2">
<h2>Pick Columns with Matching Criteria</h2>
<p><code>select(data, condition)</code> can also be used to <strong>reorder columns</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-24_b58be3c852116f078e457036db0b6e7c">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">select</span>(babynames, n, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
       n  year sex   name        prop
   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
 1  7065  1880 F     Mary      0.0724
 2  2604  1880 F     Anna      0.0267
 3  2003  1880 F     Emma      0.0205
 4  1939  1880 F     Elizabeth 0.0199
 5  1746  1880 F     Minnie    0.0179
 6  1578  1880 F     Margaret  0.0162
 7  1472  1880 F     Ida       0.0151
 8  1414  1880 F     Alice     0.0145
 9  1320  1880 F     Bertha    0.0135
10  1288  1880 F     Sarah     0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
arrange()
</div>
<div class="fctsub">
— Reorder Rows —
</div>
</section>
<section id="reorder-rows" class="slide level2">
<h2>Reorder Rows</h2>
<p><code>arrange(data, condition)</code> allows you to order rows by variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-25_c8697768a7f649c7cab515a462cdb2c0">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">arrange</span>(babynames, prop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name            n       prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;int&gt;      &lt;dbl&gt;
 1  2007 M     Aaban           5 0.00000226
 2  2007 M     Aareon          5 0.00000226
 3  2007 M     Aaris           5 0.00000226
 4  2007 M     Abd             5 0.00000226
 5  2007 M     Abdulazeez      5 0.00000226
 6  2007 M     Abdulhadi       5 0.00000226
 7  2007 M     Abdulhamid      5 0.00000226
 8  2007 M     Abdulkadir      5 0.00000226
 9  2007 M     Abdulraheem     5 0.00000226
10  2007 M     Abdulrahim      5 0.00000226
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="reorder-rows-1" class="slide level2">
<h2>Reorder Rows</h2>
<p><code>arrange(data, condition)</code> allows you to order rows by variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-26_5ea441c65aeaf7494f90677303d679ea">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">arrange</span>(babynames, prop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-27_24a391709151f0c47aaad6c4e8e524a8">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>babynames[<span class="fu">order</span>(babynames<span class="sc">$</span>prop), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name            n       prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;int&gt;      &lt;dbl&gt;
 1  2007 M     Aaban           5 0.00000226
 2  2007 M     Aareon          5 0.00000226
 3  2007 M     Aaris           5 0.00000226
 4  2007 M     Abd             5 0.00000226
 5  2007 M     Abdulazeez      5 0.00000226
 6  2007 M     Abdulhadi       5 0.00000226
 7  2007 M     Abdulhamid      5 0.00000226
 8  2007 M     Abdulkadir      5 0.00000226
 9  2007 M     Abdulraheem     5 0.00000226
10  2007 M     Abdulrahim      5 0.00000226
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="reorder-rows-2" class="slide level2">
<h2>Reorder Rows</h2>
<p><code>arrange(data, condition)</code> allows you to order rows by variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-28_f21090d337f25c139e97674792dbdda4">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">arrange</span>(babynames, <span class="sc">-</span>year, <span class="sc">-</span>prop)  <span class="do">## only works for numeric</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name         n    prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;   &lt;dbl&gt;
 1  2017 F     Emma     19738 0.0105 
 2  2017 F     Olivia   18632 0.00994
 3  2017 M     Liam     18728 0.00954
 4  2017 M     Noah     18326 0.00933
 5  2017 F     Ava      15902 0.00848
 6  2017 F     Isabella 15100 0.00805
 7  2017 F     Sophia   14831 0.00791
 8  2017 M     William  14904 0.00759
 9  2017 M     James    14232 0.00725
10  2017 F     Mia      13437 0.00717
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="reorder-rows-3" class="slide level2">
<h2>Reorder Rows</h2>
<p><code>arrange(data, condition)</code> allows you to order rows by variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-29_1bdb19df8bdf731b48cc10deefbf5b96">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">arrange</span>(babynames, <span class="fu">desc</span>(year), <span class="fu">desc</span>(prop))  <span class="do">## the "official" way</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name         n    prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;   &lt;dbl&gt;
 1  2017 F     Emma     19738 0.0105 
 2  2017 F     Olivia   18632 0.00994
 3  2017 M     Liam     18728 0.00954
 4  2017 M     Noah     18326 0.00933
 5  2017 F     Ava      15902 0.00848
 6  2017 F     Isabella 15100 0.00805
 7  2017 F     Sophia   14831 0.00791
 8  2017 M     William  14904 0.00759
 9  2017 M     James    14232 0.00725
10  2017 F     Mia      13437 0.00717
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="reorder-rows-4" class="slide level2">
<h2>Reorder Rows</h2>
<p><code>arrange(data, condition)</code> allows you to order rows by variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-30_898179baa0f24cf116d8e3ddedc40fa6">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">arrange</span>(babynames, <span class="fu">desc</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name          n       prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;      &lt;dbl&gt;
 1  2010 M     Zzyzx         5 0.00000244
 2  2014 M     Zyyon         6 0.00000293
 3  2010 F     Zyyanna       6 0.00000306
 4  2015 M     Zyvon         7 0.00000343
 5  2009 M     Zyvion        5 0.00000236
 6  2016 F     Zyva          8 0.00000415
 7  2017 F     Zyva          9 0.0000048 
 8  2015 M     Zyus          5 0.00000245
 9  2002 M     Zytavious     6 0.0000029 
10  2004 M     Zytavious     6 0.00000284
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
mutate()
</div>
<div class="fctsub">
— Create New Variables —
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/ah_dplyr_mutate.png" alt="Allison Horsts illustration of the data wrangling process, illustrated by a monster riding the dplyr monster as a cowboy, successfully catching data monsters." class="r-stretch quarto-figure-center"><p class="caption">Illustration by <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a></p></section>
<section id="create-new-variables" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing columns</strong> or not based on your data:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-31_24ff54cdffce4a54a98085e527b48a53">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">mutate</span>(babynames, <span class="at">decade =</span> year <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 6
    year sex   name          n   prop decade
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724   1880
 2  1880 F     Anna       2604 0.0267   1880
 3  1880 F     Emma       2003 0.0205   1880
 4  1880 F     Elizabeth  1939 0.0199   1880
 5  1880 F     Minnie     1746 0.0179   1880
 6  1880 F     Margaret   1578 0.0162   1880
 7  1880 F     Ida        1472 0.0151   1880
 8  1880 F     Alice      1414 0.0145   1880
 9  1880 F     Bertha     1320 0.0135   1880
10  1880 F     Sarah      1288 0.0132   1880
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-1" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing columns</strong> or not based on your data:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-32_e27dd9fa7799406ae81af568f789d061">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">mutate</span>(babynames, <span class="at">decade =</span> year <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-33_22ce06ce5229e6ab42f93b618f0ebd80">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">head</span>(<span class="fu">transform</span>(babynames, <span class="at">decade =</span> year <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  year sex      name    n       prop decade
1 1880   F      Mary 7065 0.07238359   1880
2 1880   F      Anna 2604 0.02667896   1880
3 1880   F      Emma 2003 0.02052149   1880
4 1880   F Elizabeth 1939 0.01986579   1880
5 1880   F    Minnie 1746 0.01788843   1880
6 1880   F  Margaret 1578 0.01616720   1880</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-2" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing columns</strong> or not based on your data:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-34_583950dc84eb1181935b61bdef7883f4">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">mutate</span>(babynames, <span class="at">name =</span> stringr<span class="sc">::</span><span class="fu">str_to_lower</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     mary       7065 0.0724
 2  1880 F     anna       2604 0.0267
 3  1880 F     emma       2003 0.0205
 4  1880 F     elizabeth  1939 0.0199
 5  1880 F     minnie     1746 0.0179
 6  1880 F     margaret   1578 0.0162
 7  1880 F     ida        1472 0.0151
 8  1880 F     alice      1414 0.0145
 9  1880 F     bertha     1320 0.0135
10  1880 F     sarah      1288 0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-3" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br>based on existing columns or <strong>not based on your data</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-35_7c0c24738c45e27f884e879224b9cbc8">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">mutate</span>(babynames, <span class="at">note =</span> <span class="st">"Please check!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 6
    year sex   name          n   prop note         
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;        
 1  1880 F     Mary       7065 0.0724 Please check!
 2  1880 F     Anna       2604 0.0267 Please check!
 3  1880 F     Emma       2003 0.0205 Please check!
 4  1880 F     Elizabeth  1939 0.0199 Please check!
 5  1880 F     Minnie     1746 0.0179 Please check!
 6  1880 F     Margaret   1578 0.0162 Please check!
 7  1880 F     Ida        1472 0.0151 Please check!
 8  1880 F     Alice      1414 0.0145 Please check!
 9  1880 F     Bertha     1320 0.0135 Please check!
10  1880 F     Sarah      1288 0.0132 Please check!
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-4" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing columns</strong> or not based on your data:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/dplyr-mutate-5_ba138c92ca264f991f793d171de0a45a">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="fu">mutate</span>(babynames, <span class="at">note =</span> <span class="fu">if_else</span>(year <span class="sc">&lt;</span> <span class="dv">1900</span>, <span class="st">"Please check!"</span>, <span class="st">"Ok"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 6
    year sex   name          n   prop note         
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;        
 1  1880 F     Mary       7065 0.0724 Please check!
 2  1880 F     Anna       2604 0.0267 Please check!
 3  1880 F     Emma       2003 0.0205 Please check!
 4  1880 F     Elizabeth  1939 0.0199 Please check!
 5  1880 F     Minnie     1746 0.0179 Please check!
 6  1880 F     Margaret   1578 0.0162 Please check!
 7  1880 F     Ida        1472 0.0151 Please check!
 8  1880 F     Alice      1414 0.0145 Please check!
 9  1880 F     Bertha     1320 0.0135 Please check!
10  1880 F     Sarah      1288 0.0132 Please check!
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-5" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br>based on existing columns or <strike>not</strike> <strong>based on your data</strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-36_08b743514d963072c5718c07f60a85e8">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="fu">mutate</span>(babynames, <span class="at">id =</span> <span class="fu">row_number</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 6
    year sex   name          n   prop    id
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;
 1  1880 F     Mary       7065 0.0724     1
 2  1880 F     Anna       2604 0.0267     2
 3  1880 F     Emma       2003 0.0205     3
 4  1880 F     Elizabeth  1939 0.0199     4
 5  1880 F     Minnie     1746 0.0179     5
 6  1880 F     Margaret   1578 0.0162     6
 7  1880 F     Ida        1472 0.0151     7
 8  1880 F     Alice      1414 0.0145     8
 9  1880 F     Bertha     1320 0.0135     9
10  1880 F     Sarah      1288 0.0132    10
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-6" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br>based on existing and even newly created columns in the same step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-37_05bf69f4809adc57cf93b3577fd8bae1">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># install.packages("ggplot2")  ## contains the `mpg` data set</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>mpg <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span>mpg  <span class="do">## we need some more numeric columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-38_1e13f10d4f20821c445b7e498f83fd8d">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>mpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 11
   manufacturer model      displ  year   cyl trans      drv     cty   hwy fl    class  
   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
 1 audi         a4           1.8  1999     4 auto(l5)   f        18    29 p     compact
 2 audi         a4           1.8  1999     4 manual(m5) f        21    29 p     compact
 3 audi         a4           2    2008     4 manual(m6) f        20    31 p     compact
 4 audi         a4           2    2008     4 auto(av)   f        21    30 p     compact
 5 audi         a4           2.8  1999     6 auto(l5)   f        16    26 p     compact
 6 audi         a4           2.8  1999     6 manual(m5) f        18    26 p     compact
 7 audi         a4           3.1  2008     6 auto(av)   f        18    27 p     compact
 8 audi         a4 quattro   1.8  1999     4 manual(m5) 4        18    26 p     compact
 9 audi         a4 quattro   1.8  1999     4 auto(l5)   4        16    25 p     compact
10 audi         a4 quattro   2    2008     4 manual(m6) 4        20    28 p     compact
# … with 224 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="create-new-variables-7" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing and even newly created columns</strong> in the same step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-39_29d769e673cb8249c8745da689fe2aad">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>mpg2 <span class="ot">&lt;-</span> <span class="fu">select</span>(mpg, model, hwy, cty) <span class="do">## only to fit my slide</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-40_a7b1cf2e4439c33cfdfa7d4d0335994f">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>mpg2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 3
   model        hwy   cty
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt;
 1 a4            29    18
 2 a4            29    21
 3 a4            31    20
 4 a4            30    21
 5 a4            26    16
 6 a4            26    18
 7 a4            27    18
 8 a4 quattro    26    18
 9 a4 quattro    25    16
10 a4 quattro    28    20
# … with 224 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="create-new-variables-8" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing and even newly created columns</strong> in the same step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-41_01b5db4ef42b18b1122727777d5b2664">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">mutate</span>(mpg2, <span class="at">diff =</span> hwy <span class="sc">-</span> cty, <span class="at">perc =</span> diff <span class="sc">/</span> hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 5
   model        hwy   cty  diff  perc
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
 1 a4            29    18    11 0.379
 2 a4            29    21     8 0.276
 3 a4            31    20    11 0.355
 4 a4            30    21     9 0.3  
 5 a4            26    16    10 0.385
 6 a4            26    18     8 0.308
 7 a4            27    18     9 0.333
 8 a4 quattro    26    18     8 0.308
 9 a4 quattro    25    16     9 0.36 
10 a4 quattro    28    20     8 0.286
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-9" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate(data, condition)</code> allows you to create new variables (columns)<br><strong>based on existing and even newly created columns</strong> in the same step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-42_99e6d44a9eb068c16b5e9a02bdf84643">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="fu">mutate</span>(mpg2, <span class="at">diff =</span> hwy <span class="sc">-</span> cty, <span class="at">perc =</span> diff <span class="sc">/</span> hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-43_2696c57f029e78cda85438350ff29d59">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>mpg_diff <span class="ot">&lt;-</span> <span class="fu">transform</span>(mpg2, <span class="at">diff =</span> hwy <span class="sc">-</span> cty)</span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="fu">head</span>(<span class="fu">transform</span>(mpg_diff, <span class="at">perc =</span> diff <span class="sc">/</span> hwy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  model hwy cty diff      perc
1    a4  29  18   11 0.3793103
2    a4  29  21    8 0.2758621
3    a4  31  20   11 0.3548387
4    a4  30  21    9 0.3000000
5    a4  26  16   10 0.3846154
6    a4  26  18    8 0.3076923</code></pre>
</div>
</div>
<div class="footer">

</div>
</section>
<section id="create-new-variables-10" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate()</code> in combination with <code>across()</code> allows you to transform all columns in one step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-44_f858a561d124815558ed8eeaba3264d3">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">mutate</span>(mpg2, <span class="fu">across</span>(<span class="fu">everything</span>(), as.double))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 3
   model   hwy   cty
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1    NA    29    18
 2    NA    29    21
 3    NA    31    20
 4    NA    30    21
 5    NA    26    16
 6    NA    26    18
 7    NA    27    18
 8    NA    26    18
 9    NA    25    16
10    NA    28    20
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-11" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate()</code> in combination with <code>across()</code> and <code>where()</code> allows you to conditionally create new columns in one step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-45_8afd95c33081d256bbc7b30bfd4e5462">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">mutate</span>(mpg2, <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), as.double))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 3
   model        hwy   cty
   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
 1 a4            29    18
 2 a4            29    21
 3 a4            31    20
 4 a4            30    21
 5 a4            26    16
 6 a4            26    18
 7 a4            27    18
 8 a4 quattro    26    18
 9 a4 quattro    25    16
10 a4 quattro    28    20
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="create-new-variables-12" class="slide level2">
<h2>Create New Variables</h2>
<p><code>mutate()</code> in combination with <code>across()</code> and <code>where()</code> allows you to conditionally create new columns in one step:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-46_2410d41a5e82521e756b8dce549071d0">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">mutate</span>(mpg2, <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="fu">list</span>(<span class="at">avg =</span> mean, <span class="at">log_2 =</span> log2)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 7
   model        hwy   cty hwy_avg hwy_log_2 cty_avg cty_log_2
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1 a4            29    18    23.4      4.86    16.9      4.17
 2 a4            29    21    23.4      4.86    16.9      4.39
 3 a4            31    20    23.4      4.95    16.9      4.32
 4 a4            30    21    23.4      4.91    16.9      4.39
 5 a4            26    16    23.4      4.70    16.9      4   
 6 a4            26    18    23.4      4.70    16.9      4.17
 7 a4            27    18    23.4      4.75    16.9      4.17
 8 a4 quattro    26    18    23.4      4.70    16.9      4.17
 9 a4 quattro    25    16    23.4      4.64    16.9      4   
10 a4 quattro    28    20    23.4      4.81    16.9      4.32
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
summarize()
</div>
<div class="fctsub">
— Sum Up Variables —
</div>
</section>
<section id="sum-up-variables" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-47_87b4a93121a5b9e876fcf307d45c7be8">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a><span class="fu">summarize</span>(babynames, <span class="at">unique_children =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  unique_children
            &lt;int&gt;
1       348120517</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-1" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to create new variables (columns)<br>based on existing columns or not based on your data:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-48_3f9c204254b66923726e74f3d7377617">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">summarize</span>(babynames, <span class="at">unique_children =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-49_5fdcf49aa06e2da684198ebd568ce86e">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">sum</span>(babynames<span class="sc">$</span>n, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 348120517</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-2" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-50_9dbc494b65dfedb76e605b75483940ef">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">summarize</span>(babynames, <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
        n
    &lt;int&gt;
1 1924665</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-3" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-51_0d5d9360390bd318306503a5dee00581">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">summarize</span>(babynames, <span class="fu">across</span>(is.numeric, mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
   year     n     prop
  &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 1975.  181. 0.000136</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-4" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-52_5f19876af435124ad835db6cc2e9ed9d">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a><span class="fu">summarize</span>(babynames, <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">"n"</span>, <span class="st">"prop"</span>), mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
      n     prop
  &lt;dbl&gt;    &lt;dbl&gt;
1  181. 0.000136</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-5" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-53_2c9f35315ec25361eeca527ab246b392">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">summarize</span>(babynames, <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">"n"</span>, <span class="st">"prop"</span>), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
      n     prop
  &lt;dbl&gt;    &lt;dbl&gt;
1  181. 0.000136</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-6" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-54_a2f1b05e046faa2398e105d69e3d141d">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">summarize</span>(babynames, <span class="fu">across</span>(<span class="fu">c</span>(<span class="st">"n"</span>, <span class="st">"prop"</span>), <span class="sc">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
      n     prop
  &lt;dbl&gt;    &lt;dbl&gt;
1  181. 0.000136</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-7" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-55_31e4dba2849a54b5300bbaed13e9a50e">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">summarize</span>(mpg2, <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="fu">list</span>(<span class="at">avg =</span> mean, <span class="at">max =</span> max)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  hwy_avg hwy_max cty_avg cty_max
    &lt;dbl&gt;   &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;
1    23.4      44    16.9      35</code></pre>
</div>
</div>
</section>
<section id="sum-up-variables-8" class="slide level2">
<h2>Sum Up Variables</h2>
<p><code>summarize(data, condition)</code> allows you to calculate summary statistics for particular variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-56_d3d4a3adb6c63ec12ef65830c235542b">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="fu">summarize</span>(mpg2, <span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="fu">list</span>(<span class="at">avg =</span> <span class="sc">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">max =</span> <span class="sc">~</span><span class="fu">max</span>(.))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  hwy_avg hwy_max cty_avg cty_max
    &lt;dbl&gt;   &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;
1    23.4      44    16.9      35</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/dplyr.png" alt="The dplyr hex logo." width="300" class="r-stretch quarto-figure-center"><div class="fct">
group_by()
</div>
<div class="fctsub">
— Create Subsets —
</div>
</section>
<section id="create-subsets" class="slide level2">
<h2>Create Subsets</h2>
<p><code>group_by(data, condition)</code> allows you to break down your data into specified groups based on variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-57_f88f432a8abf5a88939b919583c8f527">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">group_by</span>(babynames, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
# Groups:   sex [2]
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724
 2  1880 F     Anna       2604 0.0267
 3  1880 F     Emma       2003 0.0205
 4  1880 F     Elizabeth  1939 0.0199
 5  1880 F     Minnie     1746 0.0179
 6  1880 F     Margaret   1578 0.0162
 7  1880 F     Ida        1472 0.0151
 8  1880 F     Alice      1414 0.0145
 9  1880 F     Bertha     1320 0.0135
10  1880 F     Sarah      1288 0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="create-subsets-1" class="slide level2">
<h2>Create Subsets</h2>
<p><code>group_by(data, condition)</code> allows you to break down your data into specified groups based on variables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-58_3ccaf194af70561d24b75dd8746531ac">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">group_by</span>(babynames, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
# Groups:   sex, year [276]
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724
 2  1880 F     Anna       2604 0.0267
 3  1880 F     Emma       2003 0.0205
 4  1880 F     Elizabeth  1939 0.0199
 5  1880 F     Minnie     1746 0.0179
 6  1880 F     Margaret   1578 0.0162
 7  1880 F     Ida        1472 0.0151
 8  1880 F     Alice      1414 0.0145
 9  1880 F     Bertha     1320 0.0135
10  1880 F     Sarah      1288 0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="remove-subsets" class="slide level2">
<h2>Remove Subsets</h2>
<p>… and <code>ungroup()</code> lets you remove any subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-59_543656fb978756e301852d9b1831ce64">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babynames, sex, year)</span>
<span id="cb113-2"><a href="#cb113-2"></a><span class="fu">ungroup</span>(grouped)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724
 2  1880 F     Anna       2604 0.0267
 3  1880 F     Emma       2003 0.0205
 4  1880 F     Elizabeth  1939 0.0199
 5  1880 F     Minnie     1746 0.0179
 6  1880 F     Margaret   1578 0.0162
 7  1880 F     Ida        1472 0.0151
 8  1880 F     Alice      1414 0.0145
 9  1880 F     Bertha     1320 0.0135
10  1880 F     Sarah      1288 0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
</section>
<section id="section-2" class="slide level2" data-background-image="img/2_wrangling/superpower2_mod.png" data-background-position="center">
<h2></h2>
<br><br><br><br><br><br><br>
<div class="fct" style="color:#FFD166;font-size:2.8em;line-height:0.7;">
group_by()
</div>
<div class="fctsub" style="color:#FFD166;font-size:2.8em;">
SUPERPOWER!
</div>
<div class="footer">

</div>
</section>
<section id="section-3" class="slide level2" data-background-image="img/2_wrangling/superpower2_mod.png" data-background-position="center">
<h2></h2>
<br><br><br><br><br><br><br>
<div class="fct" style="color:#FFD166;font-size:2.8em;line-height:0.7;">
group_by()
</div>
<div class="fctsub" style="color:#FFD166;font-size:2.8em;margin-bottom:10px;">
SUPERPOWER!
</div>
<div class="fctsub" style="color:#FEFEFE;font-size:1em;">
Verbs will be automatically applied “by group”
</div>
<div class="footer">

</div>
</section>
<section id="applying-verbs-across-groups" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-60_586133d3487fe7e5c256bef4e11384e1">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>(names_group <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babynames, sex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,924,665 × 5
# Groups:   sex [2]
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724
 2  1880 F     Anna       2604 0.0267
 3  1880 F     Emma       2003 0.0205
 4  1880 F     Elizabeth  1939 0.0199
 5  1880 F     Minnie     1746 0.0179
 6  1880 F     Margaret   1578 0.0162
 7  1880 F     Ida        1472 0.0151
 8  1880 F     Alice      1414 0.0145
 9  1880 F     Bertha     1320 0.0135
10  1880 F     Sarah      1288 0.0132
# … with 1,924,655 more rows</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-61_b25cd65692b80adcb2085ae3b28b8ab3">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">summarize</span>(names_group, <span class="at">sum =</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex         sum
  &lt;chr&gt;     &lt;int&gt;
1 F     172371079
2 M     175749438</code></pre>
</div>
</div>
</div>
<div class="footer">

</div>
</section>
<section id="applying-verbs-across-groups-1" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-62_11e5e5823a9ef684fa4d88e62d3c5cb7">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>babies1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-63_7c384d957c526d2550b2f61e6e356417">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a>babies2 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies1, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-64_4c362e26ef94a9aec02103292ae16241">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>babies2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 5
# Groups:   year [2]
    year sex   name          n   prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724
 2  1880 F     Anna       2604 0.0267
 3  1880 F     Emma       2003 0.0205
 4  1880 F     Elizabeth  1939 0.0199
 5  1880 F     Minnie     1746 0.0179
 6  1880 F     Margaret   1578 0.0162
 7  1880 F     Ida        1472 0.0151
 8  1880 F     Alice      1414 0.0145
 9  1880 F     Bertha     1320 0.0135
10  1880 F     Sarah      1288 0.0132
# … with 34,459 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-2" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-65_c3a3abf748652c2e78ec6cffbe1605fe">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>babies1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-66_2653493f81e04485c0904382f5047016">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a>babies2 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies1, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-67_fc08a47777200374b49c02fb234d097a">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>babies3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(babies2, <span class="at">n_year =</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-68_f380b1e8e32e506c265a5f9340e4bcde">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>babies3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 6
# Groups:   year [2]
    year sex   name          n   prop n_year
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt;
 1  1880 F     Mary       7065 0.0724 201484
 2  1880 F     Anna       2604 0.0267 201484
 3  1880 F     Emma       2003 0.0205 201484
 4  1880 F     Elizabeth  1939 0.0199 201484
 5  1880 F     Minnie     1746 0.0179 201484
 6  1880 F     Margaret   1578 0.0162 201484
 7  1880 F     Ida        1472 0.0151 201484
 8  1880 F     Alice      1414 0.0145 201484
 9  1880 F     Bertha     1320 0.0135 201484
10  1880 F     Sarah      1288 0.0132 201484
# … with 34,459 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-3" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-69_d326e8afecf853d739dac06d5a738c31">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a>babies1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-70_577a458b67d25e5c51e442fc6eabb240">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>babies2 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies1, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-71_7133e1b7aeeceb492505c866ea936676">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>babies3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(babies2, <span class="at">n_year =</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-72_1a3b5fc80222e6a0cbbb9bfddf8e1bfa">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">summarize</span>(babies2, <span class="at">n_year =</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
   year  n_year
  &lt;dbl&gt;   &lt;int&gt;
1  1880  201484
2  2017 3546301</code></pre>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-4" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-73_148f3feb9da9e7604f8dfaf58227f9b1">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-74_3418b6d54aad5dfad6c244999bb0b026">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1"></a>babies4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 6
# Groups:   sex, year [4]
    year sex   name          n   prop n_year
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt;
 1  1880 F     Mary       7065 0.0724 201484
 2  1880 F     Anna       2604 0.0267 201484
 3  1880 F     Emma       2003 0.0205 201484
 4  1880 F     Elizabeth  1939 0.0199 201484
 5  1880 F     Minnie     1746 0.0179 201484
 6  1880 F     Margaret   1578 0.0162 201484
 7  1880 F     Ida        1472 0.0151 201484
 8  1880 F     Alice      1414 0.0145 201484
 9  1880 F     Bertha     1320 0.0135 201484
10  1880 F     Sarah      1288 0.0132 201484
# … with 34,459 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-5" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-75_bf928f9978ed27d695c340d4826dda6c">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-76_c63b83659d62af6dbc1c1659111d7a1b">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(babies4, <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> n_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-77_0ed685e52a698280473ea9ba0fe94b59">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1"></a>babies5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 8
# Groups:   sex, year [4]
    year sex   name          n   prop n_year n_sex_year prop_sex_year
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt;      &lt;int&gt;         &lt;dbl&gt;
 1  1880 F     Mary       7065 0.0724 201484      90993         0.452
 2  1880 F     Anna       2604 0.0267 201484      90993         0.452
 3  1880 F     Emma       2003 0.0205 201484      90993         0.452
 4  1880 F     Elizabeth  1939 0.0199 201484      90993         0.452
 5  1880 F     Minnie     1746 0.0179 201484      90993         0.452
 6  1880 F     Margaret   1578 0.0162 201484      90993         0.452
 7  1880 F     Ida        1472 0.0151 201484      90993         0.452
 8  1880 F     Alice      1414 0.0145 201484      90993         0.452
 9  1880 F     Bertha     1320 0.0135 201484      90993         0.452
10  1880 F     Sarah      1288 0.0132 201484      90993         0.452
# … with 34,459 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-6" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-78_2447682a36cb904fdccde22b0aad5214">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-79_18a5f5f494508067eeeec9be03bef873">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(babies4, <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> n_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-80_62a82d890004d63ebe57eb3734c0d810">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1"></a>babies5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 4
# Groups:   sex, year [4]
   sex    year n_sex_year prop_sex_year
   &lt;chr&gt; &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;
 1 F      1880      90993         0.452
 2 F      1880      90993         0.452
 3 F      1880      90993         0.452
 4 F      1880      90993         0.452
 5 F      1880      90993         0.452
 6 F      1880      90993         0.452
 7 F      1880      90993         0.452
 8 F      1880      90993         0.452
 9 F      1880      90993         0.452
10 F      1880      90993         0.452
# … with 34,459 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-7" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-81_139842d924661b3c312b552105cd0ae8">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-82_380a0180591109dbd3c5c2de679bcaad">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(babies4, <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-83_7c442c4f443dd61edc605d8a27fa80e3">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1"></a>babies5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   sex [2]
  sex    year n_sex_year prop_sex_year
  &lt;chr&gt; &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;
1 F      1880      90993         0.452
2 F      2017    1711811         0.483
3 M      1880     110491         0.548
4 M      2017    1834490         0.517</code></pre>
</div>
</div>
</div>
</section>
<section id="applying-verbs-across-groups-8" class="slide level2">
<h2>Applying Verbs Across Groups</h2>
<p><code>group_by()</code> in combination with other <strong><code>{dplyr}</code></strong> verbs allows you to calculate summary statistics for specified groups without the need to create new subsets:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-84_258a9471c7d1dcbafbe1d3d86c210802">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-85_a63004f5a79b36689c13c99a478d4804">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">summarize</span>(babies4, <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> n_year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-86_88439781bfc81ec618a8341e3658b0ff">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1"></a>babies5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   sex, year [4]
  sex    year n_sex_year prop_sex_year
  &lt;chr&gt; &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;
1 F      1880      90993         0.452
2 F      2017    1711811         0.483
3 M      1880     110491         0.548
4 M      2017    1834490         0.517</code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="exercise">
<div>
<ul>
<li class="fragment">Search for your own name in the <code>babynames</code> data set</li>
<li class="fragment">Find the year when your name was most popular</li>
<li class="fragment">Report the number of babies with your name born in your birth year</li>
<li class="fragment">Count the number of babies born in your birth year</li>
<li class="fragment">Calculate the proportion of babies born with the name “Mary” in the 1880s versus the 2000s</li>
</ul>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-1" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-87_c1fa70c701cc18d66a9a800d807ee63c">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Cedric"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 5
    year sex   name       n      prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;
 1  1890 M     Cedric     5 0.0000418
 2  1893 M     Cedric     9 0.0000744
 3  1895 M     Cedric     5 0.0000395
 4  1896 M     Cedric     7 0.0000542
 5  1897 M     Cedric     8 0.0000656
 6  1899 M     Cedric     5 0.0000434
 7  1903 M     Cedric     7 0.0000541
 8  1904 M     Cedric     8 0.0000578
 9  1905 M     Cedric     5 0.0000349
10  1906 M     Cedric     8 0.0000555
# … with 142 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-2" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-88_91cbb6d99522004e69bed46952d0193e">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1"></a>cedrics <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Cedric"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-89_e2e92d4761eda135fa3a9df4d2efeff8">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">filter</span>(cedrics, n <span class="sc">==</span> <span class="fu">max</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
   year sex   name       n     prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;    &lt;dbl&gt;
1  1982 M     Cedric   976 0.000517</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-90_29f10419dfe5520fbeb40920898a9c07">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="fu">arrange</span>(cedrics, <span class="sc">-</span>n)  <span class="do">## sorting by `-n` provides the answer as well</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 152 × 5
    year sex   name       n     prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;    &lt;dbl&gt;
 1  1982 M     Cedric   976 0.000517
 2  1981 M     Cedric   910 0.000489
 3  1980 M     Cedric   907 0.000489
 4  1977 M     Cedric   903 0.000528
 5  1974 M     Cedric   901 0.000553
 6  1972 M     Cedric   895 0.000534
 7  1984 M     Cedric   884 0.000471
 8  1973 M     Cedric   883 0.000547
 9  1970 M     Cedric   879 0.000461
10  1975 M     Cedric   871 0.000537
# … with 142 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-3" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-91_3fef1d67d518a03aa9a73bce70a7db9e">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Cedric"</span>, year <span class="sc">==</span> <span class="dv">1986</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
   year sex   name       n       prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;      &lt;dbl&gt;
1  1986 F     Cedric    11 0.00000596
2  1986 M     Cedric   706 0.000368  </code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-92_64a35ddde083835c1c96c0e07572d615">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Cedric"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">1986</span>)  <span class="do">## using `&amp;` instead</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
   year sex   name       n       prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;      &lt;dbl&gt;
1  1986 F     Cedric    11 0.00000596
2  1986 M     Cedric   706 0.000368  </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-93_bb37766c18f1cb076870bf9d5d2a8403">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="fu">filter</span>(cedrics, year <span class="sc">==</span> <span class="dv">1986</span>)  <span class="do">## using the subset from the task before</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
   year sex   name       n       prop
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt;      &lt;dbl&gt;
1  1986 F     Cedric    11 0.00000596
2  1986 M     Cedric   706 0.000368  </code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-4" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-94_5d8177556ad3b00d71d8edf681e5c3ac">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a>names_1986 <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, year <span class="sc">==</span> <span class="dv">1986</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-95_fea599e23df4b6a3a15940e10718743c">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a><span class="fu">summarize</span>(names_1986, <span class="at">n =</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
        n
    &lt;int&gt;
1 3555871</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-96_1a597cf638731055b8992d3b0b1b2e01">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a><span class="fu">sum</span>(names_1986<span class="sc">$</span>n)  <span class="do">## basic sum -&gt; returns an integer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3555871</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-97_88f4a92d6d7f397001f8bb2627fe1bce">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="fu">summarize</span>(<span class="fu">filter</span>(babynames, year <span class="sc">==</span> <span class="dv">1986</span>), <span class="at">n =</span> <span class="fu">sum</span>(n))  <span class="do">## nested version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
        n
    &lt;int&gt;
1 3555871</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-98_324308e6c3c323e51e8dd4d4a767378c">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a><span class="fu">sum</span>(<span class="fu">filter</span>(babynames, year <span class="sc">==</span> <span class="dv">1986</span>)<span class="sc">$</span>n)  <span class="do">## you should rather not do this</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3555871</code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-5" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-99_085811e1dce5b2c3aec35ec73b5ae87b">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a>maries_selected <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Mary"</span>, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1880</span><span class="sc">:</span><span class="dv">1889</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2009</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-100_9aa1f956abae40be5e6bb879c101a623">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a>maries_selected</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 38 × 5
    year sex   name      n     prop
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;    &lt;dbl&gt;
 1  1880 F     Mary   7065 0.0724  
 2  1880 M     Mary     27 0.000228
 3  1881 F     Mary   6919 0.0700  
 4  1881 M     Mary     29 0.000268
 5  1882 F     Mary   8148 0.0704  
 6  1882 M     Mary     30 0.000246
 7  1883 F     Mary   8012 0.0667  
 8  1883 M     Mary     32 0.000284
 9  1884 F     Mary   9217 0.0670  
10  1884 M     Mary     36 0.000293
# … with 28 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-6" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-101_353e9846188ad986927efc5b93a27421">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a>maries_selected <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Mary"</span>, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1880</span><span class="sc">:</span><span class="dv">1889</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2009</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-102_20338c4c33fe5a5fef01b7a618eb7ce0">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1"></a>maries_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(maries_selected, <span class="at">decade =</span> year <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-103_2c82d8d08eadf263193fb6f234e52d85">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a>maries_grouped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 38 × 6
# Groups:   decade [2]
    year sex   name      n     prop decade
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1  1880 F     Mary   7065 0.0724     1880
 2  1880 M     Mary     27 0.000228   1880
 3  1881 F     Mary   6919 0.0700     1880
 4  1881 M     Mary     29 0.000268   1880
 5  1882 F     Mary   8148 0.0704     1880
 6  1882 M     Mary     30 0.000246   1880
 7  1883 F     Mary   8012 0.0667     1880
 8  1883 M     Mary     32 0.000284   1880
 9  1884 F     Mary   9217 0.0670     1880
10  1884 M     Mary     36 0.000293   1880
# … with 28 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-dplyr-verbs-7" class="slide level2">
<h2>Your Turn: {dplyr} Verbs</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-104_d13468145b33e85ea9bf8b128cd1600a">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a>maries_selected <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, name <span class="sc">==</span> <span class="st">"Mary"</span>, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1880</span><span class="sc">:</span><span class="dv">1889</span>, <span class="dv">2000</span><span class="sc">:</span><span class="dv">2009</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-105_09e02b42ac3ce0d3729c93942aa2ac44">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1"></a>maries_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(maries_selected, <span class="at">decade =</span> year <span class="sc">%/%</span> <span class="dv">10</span> <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-106_53491297e67508dff7a576baf1b04b15">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="fu">summarize</span>(maries_grouped, <span class="at">prop_avg =</span> <span class="fu">mean</span>(prop))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  decade prop_avg
   &lt;dbl&gt;    &lt;dbl&gt;
1   1880  0.0333 
2   2000  0.00127</code></pre>
</div>
</div>
</section>
<section id="readability-of-code" class="slide level2">
<h2>Readability of Code</h2>
<p>Have a look again at this chunk of code:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-107_2933ae710cd2a1331620f5eb5ba277bf">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1"></a>babies1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year))</span>
<span id="cb185-2"><a href="#cb185-2"></a>babies2 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies1, year)</span>
<span id="cb185-3"><a href="#cb185-3"></a>babies3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(babies2, <span class="at">n_year =</span> <span class="fu">sum</span>(n))</span>
<span id="cb185-4"><a href="#cb185-4"></a>babies4 <span class="ot">&lt;-</span> <span class="fu">group_by</span>(babies3, sex, year)</span>
<span id="cb185-5"><a href="#cb185-5"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(babies4, <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>There is a lot redundancy and also no need to save each step as an object.</p>
</div>
</section>
<section id="readability-of-code-1" class="slide level2">
<h2>Readability of Code</h2>
<p>One could rewrite the code like this:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-108_2b4689719cc222152afe7e0ff0b358a1">
<div class="sourceCode cell-code" id="cb186" data-code-line-numbers="1|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1"></a>babies3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(<span class="fu">group_by</span>(<span class="fu">filter</span>(babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year)), year), <span class="at">n_year =</span> <span class="fu">sum</span>(n))</span>
<span id="cb186-2"><a href="#cb186-2"></a>babies5 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(<span class="fu">group_by</span>(babies3, sex, year), <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="readability-of-code-2" class="slide level2">
<h2>Readability of Code</h2>
<p>One could rewrite the code like this:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-109_b73dfddadde0c99dd62b74aa0fc1ae93">
<div class="sourceCode cell-code" id="cb187" data-code-line-numbers="1|2,9,10|3,7,8|4,5,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1"></a>babies3 <span class="ot">&lt;-</span> </span>
<span id="cb187-2"><a href="#cb187-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb187-3"><a href="#cb187-3"></a>    <span class="fu">group_by</span>(</span>
<span id="cb187-4"><a href="#cb187-4"></a>      <span class="fu">filter</span>(</span>
<span id="cb187-5"><a href="#cb187-5"></a>        babynames, year <span class="sc">%in%</span> <span class="fu">range</span>(year)</span>
<span id="cb187-6"><a href="#cb187-6"></a>      ), </span>
<span id="cb187-7"><a href="#cb187-7"></a>      year</span>
<span id="cb187-8"><a href="#cb187-8"></a>    ), </span>
<span id="cb187-9"><a href="#cb187-9"></a>    <span class="at">n_year =</span> <span class="fu">sum</span>(n)</span>
<span id="cb187-10"><a href="#cb187-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-110_7bafe2f89d5251dc4d996e6f92a9280f">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1"></a>babies5 <span class="ot">&lt;-</span> </span>
<span id="cb188-2"><a href="#cb188-2"></a>  <span class="fu">summarize</span>(</span>
<span id="cb188-3"><a href="#cb188-3"></a>    <span class="fu">group_by</span>(</span>
<span id="cb188-4"><a href="#cb188-4"></a>      babies3, sex, year</span>
<span id="cb188-5"><a href="#cb188-5"></a>    ), </span>
<span id="cb188-6"><a href="#cb188-6"></a>    <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), </span>
<span id="cb188-7"><a href="#cb188-7"></a>    <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year)</span>
<span id="cb188-8"><a href="#cb188-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section>
<section>
<section id="data-wrangling-ceci-nest-pas-une-pipe" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Ceci n’est pas une pipe —</b></h1>

</section>
<section class="slide level2">

<p style="font-size:22pt;">
<code> teach(<br> &nbsp;&nbsp;dvb(<br> &nbsp;&nbsp;&nbsp;&nbsp;breakfast(<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shower(<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wake_up(<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cédric, <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.0<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp == 38<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;), <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c(“cereals”, “tea”), <br> &nbsp;&nbsp;&nbsp;&nbsp;),<br> &nbsp;&nbsp;&nbsp;&nbsp;price = “EUR2.70”, <br> &nbsp;&nbsp;&nbsp;&nbsp;line = 12,<br> &nbsp;&nbsp;&nbsp;&nbsp;depart = “08:10”<br> &nbsp;&nbsp;),<br> &nbsp;&nbsp;course = “Reproducible Data Analysis with R”<br> ) </code>
</p>
</section>
<section class="slide level2">

<p style="font-size:22pt;">
<code> Cédric %&gt;% <br> &nbsp;&nbsp;wake_up(7.0) %&gt;% <br> &nbsp;&nbsp;shower(temp == 38) %&gt;% <br> &nbsp;&nbsp;breakfast(c(“cereals”, “tea”)) %&gt;% <br> &nbsp;&nbsp;dvb( <br> &nbsp;&nbsp;&nbsp;&nbsp;price = “EUR2.70”,<br> &nbsp;&nbsp;&nbsp;&nbsp;train = 12,<br> &nbsp;&nbsp;&nbsp;&nbsp;depart = “08:10”<br> &nbsp;&nbsp;) %&gt;% <br> &nbsp;&nbsp;teach(course = “Reproducible Data Analysis with R”)</code>
</p>
</section>
<section class="slide level2">

<p><br></p>

<img data-src="img/2_wrangling/magritte.png" alt="The famous painting &quot;The Treachery of Images&quot; (French: &quot;La Trahison des Images&quot;) by René Magritte from 1929." class="r-stretch quarto-figure-center"><p class="caption">“The Treachery of Images” by Réne Magritte                        </p></section>
<section class="slide level2">

<p><br></p>

<img data-src="img/2_wrangling/magritte-magrittr.png" alt="The famous painting &quot;The Treachery of Images&quot; (French: &quot;La Trahison des Images&quot;) by René Magritte from 1929." class="r-stretch quarto-figure-center"><p class="caption">“The Treachery of Images” by Réne Magritte &amp; the inspired hex logo</p></section>
<section id="readability-of-code-the-pipe" class="slide level2">
<h2>Readability of Code: The Pipe</h2>
<p>With the pipe one can rewrite the code like this:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-111_cd656ba8b0dff65bd187475412150487">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1"></a>babies5 <span class="ot">&lt;-</span> </span>
<span id="cb189-2"><a href="#cb189-2"></a>  babynames <span class="sc">%&gt;%</span> </span>
<span id="cb189-3"><a href="#cb189-3"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">range</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb189-4"><a href="#cb189-4"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb189-5"><a href="#cb189-5"></a>  <span class="fu">mutate</span>(<span class="at">n_year =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb189-6"><a href="#cb189-6"></a>  <span class="fu">group_by</span>(sex, year) <span class="sc">%&gt;%</span> </span>
<span id="cb189-7"><a href="#cb189-7"></a>  <span class="fu">summarize</span>(</span>
<span id="cb189-8"><a href="#cb189-8"></a>    <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), </span>
<span id="cb189-9"><a href="#cb189-9"></a>    <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year)</span>
<span id="cb189-10"><a href="#cb189-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-112_37a1823ec936202b0897489e499b405c">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1"></a>babies5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   sex [2]
  sex    year n_sex_year prop_sex_year
  &lt;chr&gt; &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;
1 F      1880      90993         0.452
2 F      2017    1711811         0.483
3 M      1880     110491         0.548
4 M      2017    1834490         0.517</code></pre>
</div>
</div>
</div>
</section>
<section id="readability-of-code-the-pipe-1" class="slide level2">
<h2>Readability of Code: The Pipe</h2>
<p>Putting the object and data on their own lines allows you to inspect the output:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-113_e26524759f5fd1187a55542c96e9c88e">
<div class="sourceCode cell-code" id="cb192" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1"></a><span class="co"># babies5 &lt;- </span></span>
<span id="cb192-2"><a href="#cb192-2"></a>  babynames <span class="sc">%&gt;%</span> </span>
<span id="cb192-3"><a href="#cb192-3"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">range</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb192-4"><a href="#cb192-4"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb192-5"><a href="#cb192-5"></a>  <span class="fu">mutate</span>(<span class="at">n_year =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb192-6"><a href="#cb192-6"></a>  <span class="fu">group_by</span>(sex, year) <span class="sc">%&gt;%</span> </span>
<span id="cb192-7"><a href="#cb192-7"></a>  <span class="fu">summarize</span>(</span>
<span id="cb192-8"><a href="#cb192-8"></a>    <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), </span>
<span id="cb192-9"><a href="#cb192-9"></a>    <span class="at">prop_sex_year =</span> n_sex_year <span class="sc">/</span> <span class="fu">unique</span>(n_year)</span>
<span id="cb192-10"><a href="#cb192-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   sex [2]
  sex    year n_sex_year prop_sex_year
  &lt;chr&gt; &lt;dbl&gt;      &lt;int&gt;         &lt;dbl&gt;
1 F      1880      90993         0.452
2 F      2017    1711811         0.483
3 M      1880     110491         0.548
4 M      2017    1834490         0.517</code></pre>
</div>
</div>
</section>
<section id="readability-of-code-the-pipe-2" class="slide level2">
<h2>Readability of Code: The Pipe</h2>
<p>This way, you can also easily inactivate verbs or single conditions:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-114_69a6b020f4b5b1f3aa9d19afe24252e5">
<div class="sourceCode cell-code" id="cb194" data-code-line-numbers="6,7,8,9,10|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1"></a><span class="co"># babies5 &lt;- </span></span>
<span id="cb194-2"><a href="#cb194-2"></a>  babynames <span class="sc">%&gt;%</span> </span>
<span id="cb194-3"><a href="#cb194-3"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">range</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb194-4"><a href="#cb194-4"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb194-5"><a href="#cb194-5"></a>  <span class="fu">mutate</span>(<span class="at">n_year =</span> <span class="fu">sum</span>(n)) <span class="co"># %&gt;% </span></span>
<span id="cb194-6"><a href="#cb194-6"></a>  <span class="co"># group_by(sex, year) %&gt;% </span></span>
<span id="cb194-7"><a href="#cb194-7"></a>  <span class="co"># summarize(</span></span>
<span id="cb194-8"><a href="#cb194-8"></a>  <span class="co">#   n_sex_year = sum(n), </span></span>
<span id="cb194-9"><a href="#cb194-9"></a>  <span class="co">#   prop_sex_year = n_sex_year / unique(n_year)</span></span>
<span id="cb194-10"><a href="#cb194-10"></a>  <span class="co"># )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 6
# Groups:   year [2]
    year sex   name          n   prop n_year
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt;
 1  1880 F     Mary       7065 0.0724 201484
 2  1880 F     Anna       2604 0.0267 201484
 3  1880 F     Emma       2003 0.0205 201484
 4  1880 F     Elizabeth  1939 0.0199 201484
 5  1880 F     Minnie     1746 0.0179 201484
 6  1880 F     Margaret   1578 0.0162 201484
 7  1880 F     Ida        1472 0.0151 201484
 8  1880 F     Alice      1414 0.0145 201484
 9  1880 F     Bertha     1320 0.0135 201484
10  1880 F     Sarah      1288 0.0132 201484
# … with 34,459 more rows</code></pre>
</div>
</div>
<div class="footer">

</div>
</section>
<section id="readability-of-code-the-pipe-3" class="slide level2">
<h2>Readability of Code: The Pipe</h2>
<p>This way, you can also easily inactivate verbs or single conditions:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-115_4c42c4e2181e6956016384666e7d0d5e">
<div class="sourceCode cell-code" id="cb196" data-code-line-numbers="5|5,11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1"></a><span class="co"># babies5 &lt;- </span></span>
<span id="cb196-2"><a href="#cb196-2"></a>  babynames <span class="sc">%&gt;%</span> </span>
<span id="cb196-3"><a href="#cb196-3"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">range</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb196-4"><a href="#cb196-4"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb196-5"><a href="#cb196-5"></a>  <span class="fu">mutate</span>(<span class="at">n_year =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb196-6"><a href="#cb196-6"></a>  <span class="co"># group_by(sex, year) %&gt;% </span></span>
<span id="cb196-7"><a href="#cb196-7"></a>  <span class="co"># summarize(</span></span>
<span id="cb196-8"><a href="#cb196-8"></a>  <span class="co">#   n_sex_year = sum(n), </span></span>
<span id="cb196-9"><a href="#cb196-9"></a>  <span class="co">#   prop_sex_year = n_sex_year / unique(n_year)</span></span>
<span id="cb196-10"><a href="#cb196-10"></a>  <span class="co"># ) %&gt;% </span></span>
<span id="cb196-11"><a href="#cb196-11"></a>  {}  <span class="do">## some love it—some hate it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34,469 × 6
# Groups:   year [2]
    year sex   name          n   prop n_year
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt;
 1  1880 F     Mary       7065 0.0724 201484
 2  1880 F     Anna       2604 0.0267 201484
 3  1880 F     Emma       2003 0.0205 201484
 4  1880 F     Elizabeth  1939 0.0199 201484
 5  1880 F     Minnie     1746 0.0179 201484
 6  1880 F     Margaret   1578 0.0162 201484
 7  1880 F     Ida        1472 0.0151 201484
 8  1880 F     Alice      1414 0.0145 201484
 9  1880 F     Bertha     1320 0.0135 201484
10  1880 F     Sarah      1288 0.0132 201484
# … with 34,459 more rows</code></pre>
</div>
</div>
<div class="footer">

</div>
</section>
<section id="readability-of-code-the-pipe-4" class="slide level2">
<h2>Readability of Code: The Pipe</h2>
<p>This way, you can also easily inactivate verbs or single conditions:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-116_d6710f977e9ba5e6846b322ce83423bc">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1"></a><span class="co">#babies5 &lt;- </span></span>
<span id="cb198-2"><a href="#cb198-2"></a>  babynames <span class="sc">%&gt;%</span> </span>
<span id="cb198-3"><a href="#cb198-3"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">range</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb198-4"><a href="#cb198-4"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb198-5"><a href="#cb198-5"></a>  <span class="fu">mutate</span>(<span class="at">n_year =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb198-6"><a href="#cb198-6"></a>  <span class="co">#group_by(sex, year) %&gt;% </span></span>
<span id="cb198-7"><a href="#cb198-7"></a>  <span class="fu">summarize</span>(</span>
<span id="cb198-8"><a href="#cb198-8"></a>    <span class="at">n_sex_year =</span> <span class="fu">sum</span>(n), </span>
<span id="cb198-9"><a href="#cb198-9"></a>    <span class="co">#prop_sex_year = n_sex_year / unique(n_year)</span></span>
<span id="cb198-10"><a href="#cb198-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
   year n_sex_year
  &lt;dbl&gt;      &lt;int&gt;
1  1880     201484
2  2017    3546301</code></pre>
</div>
</div>
</section>
<section id="your-turn-data-wrangling" class="slide level2">
<h2>Your Turn: Data Wrangling</h2>
<div class="exercise">
<ul>
<li>Shape the <code>babynames</code> data as necessary for the Post-WWII visualization:</li>
</ul>
</div>

<img data-src="2_wrangling_files/figure-revealjs/babynames-ggplot-post-wwii-exercise-1.png" width="3000" class="r-stretch quarto-figure-center"></section>
<section id="your-turn-data-wrangling-1" class="slide level2">
<h2>Your Turn: Data Wrangling</h2>
<div class="exercise">
<div>
<ul>
<li class="fragment">Inspect the <code>flights</code> data set from the <strong><code>{nycflights13}</code></strong> package.</li>
<li class="fragment">Count the number of flights recorded in June and July 2013.</li>
<li class="fragment">Find out how many flights did catch up their departure delay.</li>
<li class="fragment">Create a table that contains the average delays per origin and month,<br>ordered by maximum arrival delay.
<ul>
<li class="fragment">Bonus: Store delays with 1 digit only.</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="shape-the-babynames-data" class="slide level2">
<h2>Shape the <code>babynames</code> Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-118_8fc46338bb7068696aca9ef1e4eb7aa7">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="#cb200-2"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">1945</span>) <span class="sc">%&gt;%</span></span>
<span id="cb200-3"><a href="#cb200-3"></a>  <span class="fu">group_by</span>(year, sex) <span class="sc">%&gt;%</span></span>
<span id="cb200-4"><a href="#cb200-4"></a>  <span class="fu">summarize</span>(<span class="at">unique_names =</span> <span class="fu">n_distinct</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 144 × 3
# Groups:   year [72]
    year sex   unique_names
   &lt;dbl&gt; &lt;chr&gt;        &lt;int&gt;
 1  1946 F             5686
 2  1946 M             4019
 3  1947 F             6103
 4  1947 M             4268
 5  1948 F             6040
 6  1948 M             4199
 7  1949 F             6065
 8  1949 M             4203
 9  1950 F             6111
10  1950 M             4191
# … with 134 more rows</code></pre>
</div>
</div>
</section>
<section id="shape-the-babynames-data-1" class="slide level2">
<h2>Shape the <code>babynames</code> Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-119_de1db28920a87b2a58fd6b98cc65b501">
<div class="sourceCode cell-code" id="cb202" data-code-line-numbers="5,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb202-2"><a href="#cb202-2"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">1945</span>) <span class="sc">%&gt;%</span></span>
<span id="cb202-3"><a href="#cb202-3"></a>  <span class="fu">group_by</span>(year, sex) <span class="sc">%&gt;%</span></span>
<span id="cb202-4"><a href="#cb202-4"></a>  <span class="fu">summarize</span>(<span class="at">unique_names =</span> <span class="fu">n_distinct</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb202-5"><a href="#cb202-5"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb202-6"><a href="#cb202-6"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">if_else</span>(sex <span class="sc">==</span> <span class="st">"M"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 144 × 3
    year sex    unique_names
   &lt;dbl&gt; &lt;chr&gt;         &lt;int&gt;
 1  1946 female         5686
 2  1946 male           4019
 3  1947 female         6103
 4  1947 male           4268
 5  1948 female         6040
 6  1948 male           4199
 7  1949 female         6065
 8  1949 male           4203
 9  1950 female         6111
10  1950 male           4191
# … with 134 more rows</code></pre>
</div>
</div>
</section>
<section id="the-nycflights-data-package" class="slide level2">
<h2>The {nycflights} Data Package</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-120_0a728642a2160ac273db2c7dfdd470b1">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1"></a><span class="co"># install.packages("nycflights)</span></span>
<span id="cb204-2"><a href="#cb204-2"></a><span class="fu">library</span>(nycflights13)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-121_0e514f06394f61dbac3c4b43a238250e">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1"></a>tibble<span class="sc">::</span><span class="fu">glimpse</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 336,776
Columns: 19
$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…
$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, 558, 558, 558, 559, 559, 559, …
$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, 600, 600, 600, 600, 559, 600, …
$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1, 0, -1, 0, 0, 1, -8, -3, -4, …
$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849, 853, 924, 923, 941, 702, 854,…
$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851, 856, 917, 937, 910, 706, 902,…
$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -14, 31, -4, -8, -7, 12, -6, -8,…
$ carrier        &lt;chr&gt; "UA", "UA", "AA", "B6", "DL", "UA", "B6", "EV", "B6", "AA", "B6", "B6", "UA", "UA", "…
$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 49, 71, 194, 1124, 707, 1806, 1…
$ tailnum        &lt;chr&gt; "N14228", "N24211", "N619AA", "N804JB", "N668DN", "N39463", "N516JB", "N829AS", "N593…
$ origin         &lt;chr&gt; "EWR", "LGA", "JFK", "JFK", "LGA", "EWR", "EWR", "LGA", "JFK", "LGA", "JFK", "JFK", "…
$ dest           &lt;chr&gt; "IAH", "IAH", "MIA", "BQN", "ATL", "ORD", "FLL", "IAD", "MCO", "ORD", "PBI", "TPA", "…
$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 158, 345, 361, 257, 44, 337, 15…
$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, 1028, 1005, 2475, 2565, 1389, …
$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6…
$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0, 0, 0, 0, 10, 5, 10, 10, 7, 0…
$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 05:00:00, …</code></pre>
</div>
</div>
</div>
</section>
<section id="flights-in-june-and-july-2013" class="slide level2">
<h2>Flights in June and July 2013</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-122_182efe2812d69553245606f2610e3c8d">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1"></a><span class="fu">filter</span>(flights, month <span class="sc">==</span> <span class="dv">6</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 57,668 × 19
    year month   day dep_time sched_dep_…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier flight tailnum origin dest 
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;        &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
 1  2013     6     1        2         2359       3     341     350      -9 B6         739 N618JB  JFK    PSE  
 2  2013     6     1      451          500      -9     624     640     -16 US        1431 N538UW  EWR    CLT  
 3  2013     6     1      506          515      -9     715     800     -45 UA        1686 N35407  EWR    IAH  
 4  2013     6     1      534          545     -11     800     829     -29 UA        1451 N27724  LGA    IAH  
 5  2013     6     1      538          545      -7     925     922       3 B6         725 N806JB  JFK    BQN  
 6  2013     6     1      539          540      -1     832     840      -8 AA         701 N5EAAA  JFK    MIA  
 7  2013     6     1      546          600     -14     850     910     -20 UA         540 N492UA  EWR    RSW  
 8  2013     6     1      551          600      -9     828     850     -22 AA         707 N3EUAA  LGA    DFW  
 9  2013     6     1      552          600      -8     647     655      -8 US        1911 N946UW  LGA    PHL  
10  2013     6     1      553          600      -7     700     711     -11 EV        5716 N835AS  JFK    IAD  
# … with 57,658 more rows, 5 more variables: air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
#   time_hour &lt;dttm&gt;, and abbreviated variable names ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time,
#   ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="flights-in-june-and-july-2013-1" class="slide level2">
<h2>Flights in June and July 2013</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-123_6e0bd7b7d93b45e12082b0a797f86e6f">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1"></a><span class="fu">filter</span>(flights, month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 57,668 × 19
    year month   day dep_time sched_dep_…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier flight tailnum origin dest 
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;        &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
 1  2013     6     1        2         2359       3     341     350      -9 B6         739 N618JB  JFK    PSE  
 2  2013     6     1      451          500      -9     624     640     -16 US        1431 N538UW  EWR    CLT  
 3  2013     6     1      506          515      -9     715     800     -45 UA        1686 N35407  EWR    IAH  
 4  2013     6     1      534          545     -11     800     829     -29 UA        1451 N27724  LGA    IAH  
 5  2013     6     1      538          545      -7     925     922       3 B6         725 N806JB  JFK    BQN  
 6  2013     6     1      539          540      -1     832     840      -8 AA         701 N5EAAA  JFK    MIA  
 7  2013     6     1      546          600     -14     850     910     -20 UA         540 N492UA  EWR    RSW  
 8  2013     6     1      551          600      -9     828     850     -22 AA         707 N3EUAA  LGA    DFW  
 9  2013     6     1      552          600      -8     647     655      -8 US        1911 N946UW  LGA    PHL  
10  2013     6     1      553          600      -7     700     711     -11 EV        5716 N835AS  JFK    IAD  
# … with 57,658 more rows, 5 more variables: air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
#   time_hour &lt;dttm&gt;, and abbreviated variable names ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time,
#   ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="catch-up-delay" class="slide level2">
<h2>Catch-Up Delay</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-124_69ed4ce324f7f89504be02e793ababb0">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1"></a><span class="fu">filter</span>(flights, dep_delay <span class="sc">&gt;</span> <span class="dv">0</span>, arr_delay <span class="sc">&lt;=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 35,442 × 19
    year month   day dep_time sched_dep_…¹ dep_d…² arr_t…³ sched…⁴ arr_d…⁵ carrier flight tailnum origin dest 
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;        &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
 1  2013     1     1      601          600       1     844     850      -6 B6         343 N644JB  EWR    PBI  
 2  2013     1     1      644          636       8     931     940      -9 UA        1701 N75435  EWR    FLL  
 3  2013     1     1      646          645       1     910     916      -6 UA         883 N569UA  LGA    DEN  
 4  2013     1     1      646          645       1    1023    1030      -7 UA        1496 N38727  EWR    SNA  
 5  2013     1     1      701          700       1    1123    1154     -31 UA        1203 N77296  EWR    SJU  
 6  2013     1     1      752          750       2    1025    1029      -4 UA         477 N511UA  LGA    DEN  
 7  2013     1     1      803          800       3    1132    1144     -12 UA         223 N510UA  JFK    SFO  
 8  2013     1     1      826          817       9    1145    1158     -13 UA        1480 N76522  EWR    SFO  
 9  2013     1     1      846          845       1    1138    1205     -27 B6         553 N564JB  EWR    RSW  
10  2013     1     1      856          855       1    1140    1203     -23 UA        1296 N75426  EWR    PBI  
# … with 35,432 more rows, 5 more variables: air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
#   time_hour &lt;dttm&gt;, and abbreviated variable names ¹​sched_dep_time, ²​dep_delay, ³​arr_time, ⁴​sched_arr_time,
#   ⁵​arr_delay</code></pre>
</div>
</div>
</section>
<section id="average-delays-per-origin-and-month" class="slide level2">
<h2>Average Delays per Origin and Month</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-125_3d295e3a7a25396d2cb31c8cc7b90298">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb213-2"><a href="#cb213-2"></a>  <span class="fu">group_by</span>(month, origin) <span class="sc">%&gt;%</span> </span>
<span id="cb213-3"><a href="#cb213-3"></a>  <span class="fu">summarize</span>(</span>
<span id="cb213-4"><a href="#cb213-4"></a>    <span class="at">dep_delay_avg =</span> <span class="fu">mean</span>(dep_delay),</span>
<span id="cb213-5"><a href="#cb213-5"></a>    <span class="at">arr_delay_avg =</span> <span class="fu">mean</span>(arr_delay)</span>
<span id="cb213-6"><a href="#cb213-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb213-7"><a href="#cb213-7"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>arr_delay_avg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 4
# Groups:   month [12]
   month origin dep_delay_avg arr_delay_avg
   &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt;         &lt;dbl&gt;
 1     1 EWR               NA            NA
 2     1 JFK               NA            NA
 3     1 LGA               NA            NA
 4     2 EWR               NA            NA
 5     2 JFK               NA            NA
 6     2 LGA               NA            NA
 7     3 EWR               NA            NA
 8     3 JFK               NA            NA
 9     3 LGA               NA            NA
10     4 EWR               NA            NA
# … with 26 more rows</code></pre>
</div>
</div>
</section>
<section id="average-delays-per-origin-and-month-1" class="slide level2">
<h2>Average Delays per Origin and Month</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-126_5acb67dbde54a71e8a3c4aaef3ef186b">
<div class="sourceCode cell-code" id="cb215" data-code-line-numbers="4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb215-2"><a href="#cb215-2"></a>  <span class="fu">group_by</span>(month, origin) <span class="sc">%&gt;%</span> </span>
<span id="cb215-3"><a href="#cb215-3"></a>  <span class="fu">summarize</span>(</span>
<span id="cb215-4"><a href="#cb215-4"></a>    <span class="at">dep_delay_avg =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb215-5"><a href="#cb215-5"></a>    <span class="at">arr_delay_avg =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb215-6"><a href="#cb215-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb215-7"><a href="#cb215-7"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>arr_delay_avg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 4
# Groups:   month [12]
   month origin dep_delay_avg arr_delay_avg
   &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt;         &lt;dbl&gt;
 1     7 JFK             23.8          20.2
 2    12 EWR             21.0          19.6
 3     6 JFK             20.5          17.6
 4     6 EWR             22.5          16.9
 5     7 EWR             22.0          15.5
 6     6 LGA             19.3          14.8
 7     7 LGA             19.0          14.2
 8     4 EWR             17.4          14.1
 9     1 EWR             14.9          12.8
10    12 JFK             14.8          12.7
# … with 26 more rows</code></pre>
</div>
</div>
</section>
<section id="average-delays-per-origin-and-month-2" class="slide level2">
<h2>Average Delays per Origin and Month</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-127_5d0fe681e8b21e7acb685fb0930fda3c">
<div class="sourceCode cell-code" id="cb217" data-code-line-numbers="4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb217-2"><a href="#cb217-2"></a>  <span class="fu">group_by</span>(month, origin) <span class="sc">%&gt;%</span> </span>
<span id="cb217-3"><a href="#cb217-3"></a>  <span class="fu">summarize</span>(</span>
<span id="cb217-4"><a href="#cb217-4"></a>    <span class="at">dep_delay_avg =</span> <span class="fu">round</span>(<span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb217-5"><a href="#cb217-5"></a>    <span class="at">arr_delay_avg =</span> <span class="fu">round</span>(<span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span>
<span id="cb217-6"><a href="#cb217-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb217-7"><a href="#cb217-7"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>arr_delay_avg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 4
# Groups:   month [12]
   month origin dep_delay_avg arr_delay_avg
   &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt;         &lt;dbl&gt;
 1     7 JFK             23.8          20.2
 2    12 EWR             21            19.6
 3     6 JFK             20.5          17.6
 4     6 EWR             22.5          16.9
 5     7 EWR             22            15.5
 6     6 LGA             19.3          14.8
 7     7 LGA             19            14.2
 8     4 EWR             17.4          14.1
 9     1 EWR             14.9          12.8
10    12 JFK             14.8          12.7
# … with 26 more rows</code></pre>
</div>
</div>
</section>
<section id="average-delays-per-origin-and-month-3" class="slide level2">
<h2>Average Delays per Origin and Month</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-128_b9e70c7694f8c9e520673a49e725a25d">
<div class="sourceCode cell-code" id="cb219" data-code-line-numbers="3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb219-2"><a href="#cb219-2"></a>  <span class="fu">select</span>(month, origin, <span class="fu">ends_with</span>(<span class="st">"delay"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb219-3"><a href="#cb219-3"></a>  <span class="fu">group_by</span>(month, origin) <span class="sc">%&gt;%</span> </span>
<span id="cb219-4"><a href="#cb219-4"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"delay"</span>), <span class="sc">~</span><span class="fu">round</span>(<span class="fu">mean</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb219-5"><a href="#cb219-5"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>arr_delay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 4
# Groups:   month [12]
   month origin dep_delay arr_delay
   &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1     7 JFK         23.8      20.2
 2    12 EWR         21        19.6
 3     6 JFK         20.5      17.6
 4     6 EWR         22.5      16.9
 5     7 EWR         22        15.5
 6     6 LGA         19.3      14.8
 7     7 LGA         19        14.2
 8     4 EWR         17.4      14.1
 9     1 EWR         14.9      12.8
10    12 JFK         14.8      12.7
# … with 26 more rows</code></pre>
</div>
</div>
</section>
<section id="other-helpful-tidyverse-functions" class="slide level2">
<h2>Other Helpful {tidyverse} Functions</h2>

<table style="width:100%;font-size:13pt">
<tbody><tr>
<th>
Function
</th>
<th>
Explanation
</th>
</tr>
<tr>
<td>
<code style="font-weight:700">distinct()</code> and <code style="font-weight:700">n_distinct()</code>
</td>
<td>
Find and count unique values
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">slice()</code>
</td>
<td>
Extract rows by ordinal position
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">slice_sample()</code>
</td>
<td>
Select rows randomly
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">slice_max()</code> and <code style="font-weight:700">slice_min()</code>
</td>
<td>
Pick top or bottom values by variable
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">count()</code> and <code style="font-weight:700">add_count()</code>
</td>
<td>
Count number of observations
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">complete()</code>
</td>
<td>
Create all possible combinations of two variables
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">*_join()</code>
</td>
<td>
Merge two tables
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">pivot_longer()</code> and <code style="font-weight:700">pivot_wider()</code>
</td>
<td>
Turn wide data into long and vice versa
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">fct_*()</code>
</td>
<td>
Change factor levels dynamically
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">str_*()</code>
</td>
<td>
Manipulate character strings
</td>
</tr>
<tr>
<td>
<code style="font-weight:700">glue()</code>
</td>
<td>
Combine strings
</td>
</tr>

</tbody></table>
</section>
<section id="find-unique-values" class="slide level2">
<h2>Find Unique Values</h2>
<p><code>distinct()</code> allows you to retain only unique values (as <code>unique()</code> does):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-129_83071b573bb8ec8382f5f46a0a734daf">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1"></a><span class="fu">distinct</span>(mpg, manufacturer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 1
   manufacturer
   &lt;chr&gt;       
 1 audi        
 2 chevrolet   
 3 dodge       
 4 ford        
 5 honda       
 6 hyundai     
 7 jeep        
 8 land rover  
 9 lincoln     
10 mercury     
11 nissan      
12 pontiac     
13 subaru      
14 toyota      
15 volkswagen  </code></pre>
</div>
</div>
</section>
<section id="find-unique-values-1" class="slide level2">
<h2>Find Unique Values</h2>
<p><code>distinct()</code> allows you to retain only unique values (as <code>unique()</code> does):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-130_e03dfc744fdb060880c5796ae2f118da">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1"></a><span class="fu">distinct</span>(mpg, hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 1
     hwy
   &lt;int&gt;
 1    29
 2    31
 3    30
 4    26
 5    27
 6    25
 7    28
 8    24
 9    23
10    20
# … with 17 more rows</code></pre>
</div>
</div>
</section>
<section id="count-unique-values" class="slide level2">
<h2>Count Unique Values</h2>
<p><code>n_distinct()</code> allows you to calculate the number of unique values (as <code>length(unique())</code> does):</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-131_0bfc7772d3b90094ce09bd8ddc416673">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1"></a><span class="fu">n_distinct</span>(mpg<span class="sc">$</span>model)  <span class="do">## only works with vectors, no 1st data argument</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 38</code></pre>
</div>
</div>
</section>
<section id="extract-rows-by-ordinal-position" class="slide level2">
<h2>Extract Rows by Ordinal Position</h2>
<p><code>slice()</code> allows you to filter rows based on their row value:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-132_a1b35917954c5fd2d31b54f535e65db1">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1"></a><span class="fu">slice</span>(mpg, <span class="dv">100</span><span class="sc">:</span><span class="dv">120</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 11
   manufacturer model  displ  year   cyl trans      drv     cty   hwy fl    class     
   &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
 1 honda        civic    1.6  1999     4 manual(m5) f        28    33 r     subcompact
 2 honda        civic    1.6  1999     4 auto(l4)   f        24    32 r     subcompact
 3 honda        civic    1.6  1999     4 manual(m5) f        25    32 r     subcompact
 4 honda        civic    1.6  1999     4 manual(m5) f        23    29 p     subcompact
 5 honda        civic    1.6  1999     4 auto(l4)   f        24    32 r     subcompact
 6 honda        civic    1.8  2008     4 manual(m5) f        26    34 r     subcompact
 7 honda        civic    1.8  2008     4 auto(l5)   f        25    36 r     subcompact
 8 honda        civic    1.8  2008     4 auto(l5)   f        24    36 c     subcompact
 9 honda        civic    2    2008     4 manual(m6) f        21    29 p     subcompact
10 hyundai      sonata   2.4  1999     4 auto(l4)   f        18    26 r     midsize   
# … with 11 more rows</code></pre>
</div>
</div>
</section>
<section id="extract-rows-by-ordinal-position-1" class="slide level2">
<h2>Extract Rows by Ordinal Position</h2>
<p><code>slice()</code> allows you to filter rows based on their row value - works also per group:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-133_9e4d8d67ce14651ef2629b1d940f4df8">
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 11
# Groups:   manufacturer [15]
   manufacturer model              displ  year   cyl trans      drv     cty   hwy fl    class     
   &lt;chr&gt;        &lt;chr&gt;              &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
 1 audi         a4                   1.8  1999     4 auto(l5)   f        18    29 p     compact   
 2 chevrolet    c1500 suburban 2wd   5.3  2008     8 auto(l4)   r        14    20 r     suv       
 3 dodge        caravan 2wd          2.4  1999     4 auto(l3)   f        18    24 r     minivan   
 4 ford         expedition 2wd       4.6  1999     8 auto(l4)   r        11    17 r     suv       
 5 honda        civic                1.6  1999     4 manual(m5) f        28    33 r     subcompact
 6 hyundai      sonata               2.4  1999     4 auto(l4)   f        18    26 r     midsize   
 7 jeep         grand cherokee 4wd   3    2008     6 auto(l5)   4        17    22 d     suv       
 8 land rover   range rover          4    1999     8 auto(l4)   4        11    15 p     suv       
 9 lincoln      navigator 2wd        5.4  1999     8 auto(l4)   r        11    17 r     suv       
10 mercury      mountaineer 4wd      4    1999     6 auto(l5)   4        14    17 r     suv       
11 nissan       altima               2.4  1999     4 manual(m5) f        21    29 r     compact   
12 pontiac      grand prix           3.1  1999     6 auto(l4)   f        18    26 r     midsize   
13 subaru       forester awd         2.5  1999     4 manual(m5) 4        18    25 r     suv       
14 toyota       4runner 4wd          2.7  1999     4 manual(m5) 4        15    20 r     suv       
15 volkswagen   gti                  2    1999     4 manual(m5) f        21    29 r     compact   </code></pre>
</div>
</div>
</section>
<section id="select-rows-randomly" class="slide level2">
<h2>Select Rows Randomly</h2>
<p><code>slice_sample(n)</code> allows you to create random subsets based on a number of rows:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-134_b1496fe063051e8615c4663cb9e41637">
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1"></a><span class="fu">slice_sample</span>(mpg, <span class="at">n =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 11
  manufacturer model                  displ  year   cyl trans      drv     cty   hwy fl    class     
  &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
1 hyundai      tiburon                  2    1999     4 manual(m5) f        19    29 r     subcompact
2 volkswagen   gti                      2    1999     4 manual(m5) f        21    29 r     compact   
3 toyota       4runner 4wd              2.7  1999     4 auto(l4)   4        16    20 r     suv       
4 honda        civic                    1.8  2008     4 manual(m5) f        26    34 r     subcompact
5 toyota       land cruiser wagon 4wd   5.7  2008     8 auto(s6)   4        13    18 r     suv       </code></pre>
</div>
</div>
</section>
<section id="select-rows-randomly-1" class="slide level2">
<h2>Select Rows Randomly</h2>
<p><code>slice_sample(n)</code> allows you to create random subsets based on a number of rows - also works with groups:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-135_07be66ea0ffe64d2e4cd9b9c8770822f">
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(year, manufacturer) <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 11
# Groups:   year, manufacturer [30]
   manufacturer model              displ  year   cyl trans      drv     cty   hwy fl    class     
   &lt;chr&gt;        &lt;chr&gt;              &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
 1 audi         a4                   2.8  1999     6 auto(l5)   f        16    26 p     compact   
 2 chevrolet    corvette             5.7  1999     8 manual(m6) r        16    26 p     2seater   
 3 dodge        durango 4wd          5.2  1999     8 auto(l4)   4        11    16 r     suv       
 4 ford         expedition 2wd       5.4  1999     8 auto(l4)   r        11    17 r     suv       
 5 honda        civic                1.6  1999     4 manual(m5) f        28    33 r     subcompact
 6 hyundai      sonata               2.4  1999     4 auto(l4)   f        18    26 r     midsize   
 7 jeep         grand cherokee 4wd   4    1999     6 auto(l4)   4        15    20 r     suv       
 8 land rover   range rover          4    1999     8 auto(l4)   4        11    15 p     suv       
 9 lincoln      navigator 2wd        5.4  1999     8 auto(l4)   r        11    17 r     suv       
10 mercury      mountaineer 4wd      4    1999     6 auto(l5)   4        14    17 r     suv       
# … with 20 more rows</code></pre>
</div>
</div>
</section>
<section id="select-rows-randomly-2" class="slide level2">
<h2>Select Rows Randomly</h2>
<p><code>slice_sample(prop)</code> allows you to create random subsets based on a fraction:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-136_01f28daad3e1ab3f8cd80015270e0f48">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1"></a><span class="fu">slice_sample</span>(mpg, <span class="at">prop =</span> .<span class="dv">05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 11
   manufacturer model               displ  year   cyl trans      drv     cty   hwy fl    class     
   &lt;chr&gt;        &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
 1 ford         mustang               4.6  1999     8 auto(l4)   r        15    21 r     subcompact
 2 dodge        dakota pickup 4wd     3.7  2008     6 manual(m6) 4        15    19 r     pickup    
 3 hyundai      tiburon               2    1999     4 manual(m5) f        19    29 r     subcompact
 4 dodge        caravan 2wd           3.3  2008     6 auto(l4)   f        11    17 e     minivan   
 5 toyota       4runner 4wd           3.4  1999     6 auto(l4)   4        15    19 r     suv       
 6 chevrolet    k1500 tahoe 4wd       5.3  2008     8 auto(l4)   4        11    14 e     suv       
 7 chevrolet    malibu                2.4  1999     4 auto(l4)   f        19    27 r     midsize   
 8 dodge        ram 1500 pickup 4wd   4.7  2008     8 manual(m6) 4         9    12 e     pickup    
 9 toyota       corolla               1.8  1999     4 manual(m5) f        26    35 r     compact   
10 toyota       corolla               1.8  2008     4 auto(l4)   f        26    35 r     compact   
11 volkswagen   new beetle            2    1999     4 auto(l4)   f        19    26 r     subcompact</code></pre>
</div>
</div>
</section>
<section id="pick-top-or-bottom-values" class="slide level2">
<h2>Pick Top or Bottom Values</h2>
<p><code>slice_max()</code> allows you to filter the <strong>top</strong> values, ranked by a variable:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-137_533d73bce98108842ac56c1995cfffab">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1"></a><span class="fu">slice_max</span>(mpg, <span class="at">n =</span> <span class="dv">5</span>, <span class="at">order_by =</span> hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
  manufacturer model      displ  year   cyl trans      drv     cty   hwy fl    class     
  &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
1 volkswagen   jetta        1.9  1999     4 manual(m5) f        33    44 d     compact   
2 volkswagen   new beetle   1.9  1999     4 manual(m5) f        35    44 d     subcompact
3 volkswagen   new beetle   1.9  1999     4 auto(l4)   f        29    41 d     subcompact
4 toyota       corolla      1.8  2008     4 manual(m5) f        28    37 r     compact   
5 honda        civic        1.8  2008     4 auto(l5)   f        25    36 r     subcompact
6 honda        civic        1.8  2008     4 auto(l5)   f        24    36 c     subcompact</code></pre>
</div>
</div>
</section>
<section id="pick-top-or-bottom-values-1" class="slide level2">
<h2>Pick Top or Bottom Values</h2>
<p><code>slice_max()</code> allows you to filter the <strong>top</strong> values, ranked by a variable:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-138_a9bec13cdb985e01aba112105b37c508">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1"></a><span class="fu">slice_max</span>(mpg, <span class="at">n =</span> <span class="dv">5</span>, <span class="at">order_by =</span> hwy, <span class="at">with_ties =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 11
  manufacturer model      displ  year   cyl trans      drv     cty   hwy fl    class     
  &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
1 volkswagen   jetta        1.9  1999     4 manual(m5) f        33    44 d     compact   
2 volkswagen   new beetle   1.9  1999     4 manual(m5) f        35    44 d     subcompact
3 volkswagen   new beetle   1.9  1999     4 auto(l4)   f        29    41 d     subcompact
4 toyota       corolla      1.8  2008     4 manual(m5) f        28    37 r     compact   
5 honda        civic        1.8  2008     4 auto(l5)   f        25    36 r     subcompact</code></pre>
</div>
</div>
</section>
<section id="pick-top-or-bottom-values-2" class="slide level2">
<h2>Pick Top or Bottom Values</h2>
<p><code>slice_min()</code> allows you to filter the <strong>bottom</strong> values, ranked by a variable:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-139_7f16318870b6e359c1ebc186ce96c400">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1"></a><span class="fu">slice_min</span>(mpg, <span class="at">n =</span> <span class="dv">5</span>, <span class="at">order_by =</span> hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 11
  manufacturer model               displ  year   cyl trans      drv     cty   hwy fl    class 
  &lt;chr&gt;        &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
1 dodge        dakota pickup 4wd     4.7  2008     8 auto(l5)   4         9    12 e     pickup
2 dodge        durango 4wd           4.7  2008     8 auto(l5)   4         9    12 e     suv   
3 dodge        ram 1500 pickup 4wd   4.7  2008     8 auto(l5)   4         9    12 e     pickup
4 dodge        ram 1500 pickup 4wd   4.7  2008     8 manual(m6) 4         9    12 e     pickup
5 jeep         grand cherokee 4wd    4.7  2008     8 auto(l5)   4         9    12 e     suv   </code></pre>
</div>
</div>
</section>
<section id="pick-top-or-bottom-values-3" class="slide level2">
<h2>Pick Top or Bottom Values</h2>
<p><code>top_n()</code> allows you to filter the top or bottom values, ranked by a variable:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-140_e08521bf9630d831d00982a8215ba7bc">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> hwy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 11
# Groups:   manufacturer [15]
   manufacturer model       displ  year   cyl trans      drv     cty   hwy fl    class     
   &lt;chr&gt;        &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     
 1 audi         a4            2    2008     4 manual(m6) f        20    31 p     compact   
 2 chevrolet    malibu        2.4  2008     4 auto(l4)   f        22    30 r     midsize   
 3 dodge        caravan 2wd   2.4  1999     4 auto(l3)   f        18    24 r     minivan   
 4 dodge        caravan 2wd   3    1999     6 auto(l4)   f        17    24 r     minivan   
 5 dodge        caravan 2wd   3.3  2008     6 auto(l4)   f        17    24 r     minivan   
 6 dodge        caravan 2wd   3.3  2008     6 auto(l4)   f        17    24 r     minivan   
 7 ford         mustang       3.8  1999     6 manual(m5) r        18    26 r     subcompact
 8 ford         mustang       4    2008     6 manual(m5) r        17    26 r     subcompact
 9 honda        civic         1.8  2008     4 auto(l5)   f        25    36 r     subcompact
10 honda        civic         1.8  2008     4 auto(l5)   f        24    36 c     subcompact
# … with 15 more rows</code></pre>
</div>
</div>
</section>
<section id="pick-top-or-bottom-values-4" class="slide level2">
<h2>Pick Top or Bottom Values</h2>
<p><code>slice_max()</code> allows you to filter the top values, ranked by a variable:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-141_237889712636bd5bd91ccf217986c965">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1"></a><span class="fu">slice_max</span>(mpg, <span class="at">prop =</span> .<span class="dv">01</span>, <span class="at">order_by =</span> displ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 11
  manufacturer model           displ  year   cyl trans      drv     cty   hwy fl    class  
  &lt;chr&gt;        &lt;chr&gt;           &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
1 chevrolet    corvette          7    2008     8 manual(m6) r        15    24 p     2seater
2 chevrolet    k1500 tahoe 4wd   6.5  1999     8 auto(l4)   4        14    17 d     suv    </code></pre>
</div>
</div>
</section>
<section id="count-observations" class="slide level2">
<h2>Count Observations</h2>
<p><code>count()</code> calculates the sample size of your data as summary statistic:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-142_19773ca9799209b0fefa3717be00366a">
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1"></a><span class="fu">count</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   234</code></pre>
</div>
</div>
</section>
<section id="count-observations-1" class="slide level2">
<h2>Count Observations</h2>
<p><code>count()</code> calculates the sample size of your data as summary statistic:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-143_8062b0b7cec13cac7103bc77d59ca024">
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1"></a><span class="fu">count</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="simple-highlight-ylw">Equivalent code in base R:</span></p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-144_6c32d95b691d275de5a9cf979350e16d">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1"></a><span class="fu">nrow</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 234</code></pre>
</div>
</div>
</section>
<section id="count-observations-2" class="slide level2">
<h2>Count Observations</h2>
<p><code>count()</code> calculates the sample size of your data as summary statistic:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-145_0e9a29bc73f454a1a911af691115b904" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1"></a><span class="fu">count</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   234</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-146_5de596cec80533faccc5471aad4f557e" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1"></a><span class="fu">summarize</span>(mpg, <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   234</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="count-observations-3" class="slide level2">
<h2>Count Observations</h2>
<p><code>count()</code> calculates the sample size of your data as summary statistic—also per group:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-147_f7b743f600b9a005a2e6f25fbf124542" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1"></a><span class="fu">count</span>(mpg, manufacturer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   manufacturer     n
   &lt;chr&gt;        &lt;int&gt;
 1 audi            18
 2 chevrolet       19
 3 dodge           37
 4 ford            25
 5 honda            9
 6 hyundai         14
 7 jeep             8
 8 land rover       4
 9 lincoln          3
10 mercury          4
11 nissan          13
12 pontiac          5
13 subaru          14
14 toyota          34
15 volkswagen      27</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-148_47719ba83967b1ed36cb764f159f6e4e" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   manufacturer     n
   &lt;chr&gt;        &lt;int&gt;
 1 audi            18
 2 chevrolet       19
 3 dodge           37
 4 ford            25
 5 honda            9
 6 hyundai         14
 7 jeep             8
 8 land rover       4
 9 lincoln          3
10 mercury          4
11 nissan          13
12 pontiac          5
13 subaru          14
14 toyota          34
15 volkswagen      27</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="count-observations-4" class="slide level2">
<h2>Count Observations</h2>
<p><code>count()</code> calculates the sample size of your data as summary statistic—also per group:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-149_4a7e0d1080d73086598e75381ddc2d98">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1"></a><span class="fu">count</span>(mpg, manufacturer, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   manufacturer     n
   &lt;chr&gt;        &lt;int&gt;
 1 dodge           37
 2 toyota          34
 3 volkswagen      27
 4 ford            25
 5 chevrolet       19
 6 audi            18
 7 hyundai         14
 8 subaru          14
 9 nissan          13
10 honda            9
11 jeep             8
12 pontiac          5
13 land rover       4
14 mercury          4
15 lincoln          3</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-150_8475fd0a9cd255e121bcf829ea39c2c8">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1"></a>mpg <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="count-observations-5" class="slide level2">
<h2>Count Observations</h2>
<p><code>add_count()</code> adds the sample size of your data as additional column:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-151_7b00d37fe5802db1471e4ff15d130996">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1"></a><span class="fu">add_count</span>(mpg2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 4
   model        hwy   cty     n
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 a4            29    18   234
 2 a4            29    21   234
 3 a4            31    20   234
 4 a4            30    21   234
 5 a4            26    16   234
 6 a4            26    18   234
 7 a4            27    18   234
 8 a4 quattro    26    18   234
 9 a4 quattro    25    16   234
10 a4 quattro    28    20   234
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="count-observations-6" class="slide level2">
<h2>Count Observations</h2>
<p><code>add_count()</code> adds the sample size of your data as additional column:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-152_35ef8e05cf8def66aa732d4f8ae78892" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1"></a><span class="fu">add_count</span>(mpg2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 4
   model        hwy   cty     n
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 a4            29    18   234
 2 a4            29    21   234
 3 a4            31    20   234
 4 a4            30    21   234
 5 a4            26    16   234
 6 a4            26    18   234
 7 a4            27    18   234
 8 a4 quattro    26    18   234
 9 a4 quattro    25    16   234
10 a4 quattro    28    20   234
# … with 224 more rows</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-153_36a068efcc8773f52f27eab90966d982" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1"></a><span class="fu">mutate</span>(mpg2, <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 4
   model        hwy   cty     n
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 a4            29    18   234
 2 a4            29    21   234
 3 a4            31    20   234
 4 a4            30    21   234
 5 a4            26    16   234
 6 a4            26    18   234
 7 a4            27    18   234
 8 a4 quattro    26    18   234
 9 a4 quattro    25    16   234
10 a4 quattro    28    20   234
# … with 224 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="count-observations-7" class="slide level2">
<h2>Count Observations</h2>
<p><code>add_count()</code> adds the sample size of your data as additional column:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-154_783f62ce3d9555716ab39b12bb8c7f5e" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1"></a><span class="fu">add_count</span>(mpg2, model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 4
   model        hwy   cty     n
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 a4            29    18     7
 2 a4            29    21     7
 3 a4            31    20     7
 4 a4            30    21     7
 5 a4            26    16     7
 6 a4            26    18     7
 7 a4            27    18     7
 8 a4 quattro    26    18     8
 9 a4 quattro    25    16     8
10 a4 quattro    28    20     8
# … with 224 more rows</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-155_ea66a1bdb43a45a1b2f39f0ea57bca0a" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1"></a>mpg2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(model) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 4
# Groups:   model [38]
   model        hwy   cty     n
   &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 a4            29    18     7
 2 a4            29    21     7
 3 a4            31    20     7
 4 a4            30    21     7
 5 a4            26    16     7
 6 a4            26    18     7
 7 a4            27    18     7
 8 a4 quattro    26    18     8
 9 a4 quattro    25    16     8
10 a4 quattro    28    20     8
# … with 224 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="join-data-sets" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-156_cc907ba5feb560ac7d4e7bd60cc80e61" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-157_00db2c4af9229299e93e477ee5a12a63" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1"></a>band_instruments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="join-data-sets-1" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-158_8b22e06bf5978560c587ea273d086ee6">
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1"></a><span class="fu">left_join</span>(band_members, band_instruments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  </code></pre>
</div>
</div>
</section>
<section id="join-data-sets-2" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-159_21e92fe61a7ffc660e91edbe37e8afba">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1"></a><span class="fu">right_join</span>(band_members, band_instruments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 John  Beatles guitar
2 Paul  Beatles bass  
3 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
</section>
<section id="join-data-sets-3" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-160_c759948e854b3566a8d4e2902a5a4279">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1"></a><span class="fu">inner_join</span>(band_members, band_instruments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 John  Beatles guitar
2 Paul  Beatles bass  </code></pre>
</div>
</div>
</section>
<section id="join-data-sets-4" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-161_539015db0ae8cdaa98d7d50336960df4">
<div class="sourceCode cell-code" id="cb283"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1"></a><span class="fu">full_join</span>(band_members, band_instruments)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  
4 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
</section>
<section id="join-data-sets-5" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-162_f8fc5ceebdebd46b8fb075f6630939c7">
<div class="sourceCode cell-code" id="cb285"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1"></a><span class="fu">full_join</span>(band_members, band_instruments, <span class="at">by =</span> <span class="st">"name"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  
4 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
</section>
<section id="join-data-sets-6" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-163_4f02c5067c2741c27843ae03e3f62643" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb287"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-164_e8997166e5947407773a6ae3cf4cecab" style="flex-basis: 50.0%;justify-content: center;">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1"></a>band_instruments2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  artist plays 
  &lt;chr&gt;  &lt;chr&gt; 
1 John   guitar
2 Paul   bass  
3 Keith  guitar</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="join-data-sets-7" class="slide level2">
<h2>Join Data Sets</h2>
<p>Several <code>*_join()</code> functions let you merge two data tables:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-165_f8efaaf020b2332b5f1c04ac6ca56786">
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1"></a><span class="fu">full_join</span>(band_members, band_instruments2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"artist"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  
4 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
</section></section>
<section>
<section id="data-wrangling-tidy-data" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Tidy Data —</b></h1>

</section>
<section id="the-tidyr-package" class="slide level2">
<h2>The {tidyr} Package</h2>
<p>The <strong><code>{tidyr}</code></strong> package contains tools for changing the shape (pivoting) and hierarchy (nesting and unnesting) of a data table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1"></a><span class="co"># install.packages("tidyr")</span></span>
<span id="cb293-2"><a href="#cb293-2"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-comes-in-many-shapes" class="slide level2">
<h2>Data Comes in Many Shapes</h2>

<img data-src="img/2_wrangling/format-wide.png" alt="Different ways to organize data in a tabular format, here illustrating the wide format: variables and/or observations are spread across multiple columns, some values are encoded in the column names." class="r-stretch quarto-figure-center"><p><br></p>
</section>
<section id="data-comes-in-many-shapes-1" class="slide level2">
<h2>Data Comes in Many Shapes</h2>

<img data-src="img/2_wrangling/format-long.png" alt="Different ways to organize data in a tabular format, here illustrating the long format: rows are single measurements, all measurements are stored in a single column." class="r-stretch quarto-figure-center"><p><br></p>
</section>
<section id="data-comes-in-many-shapes-2" class="slide level2">
<h2>Data Comes in Many Shapes</h2>

<img data-src="img/2_wrangling/format-long-tidy.png" alt="Different ways to organize data in a tabular format, here illustrating the tidy format: rows are observations, columns are variables, and all values are cell inputs." class="r-stretch quarto-figure-center"><p><br></p>
</section>
<section id="create-all-possible-combinations" class="slide level2">
<h2>Create All Possible Combinations</h2>
<p><code>complete()</code> turns missing values into explicit missing values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-167_fbe4216fbe93f4e43e75c6bed2ee0d43">
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1"></a>mpg3 <span class="ot">&lt;-</span> <span class="fu">count</span>(mpg, manufacturer, class)</span>
<span id="cb294-2"><a href="#cb294-2"></a>mpg3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 3
   manufacturer class          n
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt;
 1 audi         compact       15
 2 audi         midsize        3
 3 chevrolet    2seater        5
 4 chevrolet    midsize        5
 5 chevrolet    suv            9
 6 dodge        minivan       11
 7 dodge        pickup        19
 8 dodge        suv            7
 9 ford         pickup         7
10 ford         subcompact     9
# … with 22 more rows</code></pre>
</div>
</div>
</section>
<section id="create-all-possible-combinations-1" class="slide level2">
<h2>Create All Possible Combinations</h2>
<p><code>complete()</code> turns missing values into explicit missing values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-168_b00f1d8e45d2d12b9707c58af05cedd1">
<div class="sourceCode cell-code" id="cb296" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a href="#cb296-1"></a>mpg3 <span class="ot">&lt;-</span> <span class="fu">count</span>(mpg, manufacturer, class)</span>
<span id="cb296-2"><a href="#cb296-2"></a><span class="fu">complete</span>(mpg3, manufacturer, <span class="fu">nesting</span>(class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 105 × 3
   manufacturer class          n
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt;
 1 audi         2seater       NA
 2 audi         compact       15
 3 audi         midsize        3
 4 audi         minivan       NA
 5 audi         pickup        NA
 6 audi         subcompact    NA
 7 audi         suv           NA
 8 chevrolet    2seater        5
 9 chevrolet    compact       NA
10 chevrolet    midsize        5
# … with 95 more rows</code></pre>
</div>
</div>
</section>
<section id="create-all-possible-combinations-2" class="slide level2">
<h2>Create All Possible Combinations</h2>
<p><code>complete()</code> turns missing values into explicit missing values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-169_cc04c4043836aaaab763379c02bba91f">
<div class="sourceCode cell-code" id="cb298" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a href="#cb298-1"></a>mpg3 <span class="ot">&lt;-</span> <span class="fu">count</span>(mpg, manufacturer, class)</span>
<span id="cb298-2"><a href="#cb298-2"></a><span class="fu">complete</span>(mpg3, manufacturer, <span class="fu">nesting</span>(class), <span class="at">fill =</span> <span class="fu">list</span>(<span class="at">n =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 105 × 3
   manufacturer class          n
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt;
 1 audi         2seater        0
 2 audi         compact       15
 3 audi         midsize        3
 4 audi         minivan        0
 5 audi         pickup         0
 6 audi         subcompact     0
 7 audi         suv            0
 8 chevrolet    2seater        5
 9 chevrolet    compact        0
10 chevrolet    midsize        5
# … with 95 more rows</code></pre>
</div>
</div>
</section>
<section id="reshaping-data" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_longer()</code> to turn a wide data set into a long one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-170_4cbeab7586b7684d66a329fe5db16a07">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1"></a>mpg4 <span class="ot">&lt;-</span></span>
<span id="cb300-2"><a href="#cb300-2"></a>  mpg <span class="sc">%&gt;%</span> </span>
<span id="cb300-3"><a href="#cb300-3"></a>  <span class="fu">group_by</span>(manufacturer, model, trans, cyl, year) <span class="sc">%&gt;%</span> </span>
<span id="cb300-4"><a href="#cb300-4"></a>  <span class="fu">summarize</span>(<span class="at">cty =</span> <span class="fu">mean</span>(cty, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-171_7f2b2f6385b1e7b9106d9a80212d59e3">
<div class="sourceCode cell-code" id="cb301"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb301-1"><a href="#cb301-1"></a>mpg4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 183 × 6
# Groups:   manufacturer, model, trans, cyl [157]
   manufacturer model      trans        cyl  year   cty
   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
 1 audi         a4         auto(av)       4  2008    21
 2 audi         a4         auto(av)       6  2008    18
 3 audi         a4         auto(l5)       4  1999    18
 4 audi         a4         auto(l5)       6  1999    16
 5 audi         a4         manual(m5)     4  1999    21
 6 audi         a4         manual(m5)     6  1999    18
 7 audi         a4         manual(m6)     4  2008    20
 8 audi         a4 quattro auto(l5)       4  1999    16
 9 audi         a4 quattro auto(l5)       6  1999    15
10 audi         a4 quattro auto(s6)       4  2008    19
# … with 173 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="reshaping-data-1" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_longer()</code> to turn a wide data set into a long one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-172_1b37527bc7fd4ac1b6e16a4ad6228e7c">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb303-1"><a href="#cb303-1"></a>mpg_wide <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb303-2"><a href="#cb303-2"></a>  mpg4,</span>
<span id="cb303-3"><a href="#cb303-3"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(manufacturer, model, trans, cyl),</span>
<span id="cb303-4"><a href="#cb303-4"></a>  <span class="at">names_from =</span> year,  <span class="do">## use as names for columns</span></span>
<span id="cb303-5"><a href="#cb303-5"></a>  <span class="at">values_from =</span> cty   <span class="do">## use as values in these columns</span></span>
<span id="cb303-6"><a href="#cb303-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-173_d9bab773ed2e4417b55f0fa4a73777f0">
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1"></a>mpg_wide</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 6
# Groups:   manufacturer, model, trans, cyl [157]
   manufacturer model      trans        cyl `2008` `1999`
   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 audi         a4         auto(av)       4     21     NA
 2 audi         a4         auto(av)       6     18     NA
 3 audi         a4         auto(l5)       4     NA     18
 4 audi         a4         auto(l5)       6     NA     16
 5 audi         a4         manual(m5)     4     NA     21
 6 audi         a4         manual(m5)     6     NA     18
 7 audi         a4         manual(m6)     4     20     NA
 8 audi         a4 quattro auto(l5)       4     NA     16
 9 audi         a4 quattro auto(l5)       6     NA     15
10 audi         a4 quattro auto(s6)       4     19     NA
# … with 147 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="reshaping-data-2" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_longer()</code> to turn a wide data set into a long one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-174_83aa09307699b0e7bacfcae8d9af5988">
<div class="sourceCode cell-code" id="cb306" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1"></a>mpg_wide <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb306-2"><a href="#cb306-2"></a>  mpg4,</span>
<span id="cb306-3"><a href="#cb306-3"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(manufacturer, model, trans, cyl),</span>
<span id="cb306-4"><a href="#cb306-4"></a>  <span class="at">names_from =</span> year,</span>
<span id="cb306-5"><a href="#cb306-5"></a>  <span class="at">values_from =</span> cty,</span>
<span id="cb306-6"><a href="#cb306-6"></a>  <span class="at">names_prefix =</span> <span class="st">"cty_"</span>  <span class="do">## ad "cty_" to each new column name (-&gt; year)</span></span>
<span id="cb306-7"><a href="#cb306-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-175_3ba4dd67a388ff29d92bd34de22b7827">
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb307-1"><a href="#cb307-1"></a>mpg_wide</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 6
# Groups:   manufacturer, model, trans, cyl [157]
   manufacturer model      trans        cyl cty_2008 cty_1999
   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 audi         a4         auto(av)       4       21       NA
 2 audi         a4         auto(av)       6       18       NA
 3 audi         a4         auto(l5)       4       NA       18
 4 audi         a4         auto(l5)       6       NA       16
 5 audi         a4         manual(m5)     4       NA       21
 6 audi         a4         manual(m5)     6       NA       18
 7 audi         a4         manual(m6)     4       20       NA
 8 audi         a4 quattro auto(l5)       4       NA       16
 9 audi         a4 quattro auto(l5)       6       NA       15
10 audi         a4 quattro auto(s6)       4       19       NA
# … with 147 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="reshaping-data-3" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_wider()</code> to turn a long data set into a wide one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-176_293dc11941e837d6b98b8b3d2cc30d36">
<div class="sourceCode cell-code" id="cb309" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb309-1"><a href="#cb309-1"></a><span class="fu">pivot_wider</span>(</span>
<span id="cb309-2"><a href="#cb309-2"></a>  mpg4,</span>
<span id="cb309-3"><a href="#cb309-3"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(manufacturer, trans, cyl), <span class="do">## removed model</span></span>
<span id="cb309-4"><a href="#cb309-4"></a>  <span class="at">names_from =</span> year,</span>
<span id="cb309-5"><a href="#cb309-5"></a>  <span class="at">values_from =</span> cty,</span>
<span id="cb309-6"><a href="#cb309-6"></a>  <span class="at">names_prefix =</span> <span class="st">"cty_"</span></span>
<span id="cb309-7"><a href="#cb309-7"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 95 × 5
# Groups:   manufacturer, trans, cyl [95]
   manufacturer trans        cyl cty_2008  cty_1999 
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt; &lt;list&gt;    &lt;list&gt;   
 1 audi         auto(av)       4 &lt;dbl [1]&gt; &lt;NULL&gt;   
 2 audi         auto(av)       6 &lt;dbl [1]&gt; &lt;NULL&gt;   
 3 audi         auto(l5)       4 &lt;NULL&gt;    &lt;dbl [2]&gt;
 4 audi         auto(l5)       6 &lt;NULL&gt;    &lt;dbl [3]&gt;
 5 audi         manual(m5)     4 &lt;NULL&gt;    &lt;dbl [2]&gt;
 6 audi         manual(m5)     6 &lt;NULL&gt;    &lt;dbl [2]&gt;
 7 audi         manual(m6)     4 &lt;dbl [2]&gt; &lt;NULL&gt;   
 8 audi         auto(s6)       4 &lt;dbl [1]&gt; &lt;NULL&gt;   
 9 audi         auto(s6)       6 &lt;dbl [2]&gt; &lt;NULL&gt;   
10 audi         manual(m6)     6 &lt;dbl [1]&gt; &lt;NULL&gt;   
# … with 85 more rows</code></pre>
</div>
</div>
</section>
<section id="reshaping-data-4" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_longer()</code> to turn a wide data set into a long one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-177_c99f6d4fd8acc15cfc8250e440fa06a3">
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb311-1"><a href="#cb311-1"></a>mpg_wide <span class="sc">%&gt;%</span> </span>
<span id="cb311-2"><a href="#cb311-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb311-3"><a href="#cb311-3"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"cty_"</span>),</span>
<span id="cb311-4"><a href="#cb311-4"></a>    <span class="at">names_to =</span> <span class="st">"year"</span>,  <span class="do">## column names as values in new column "year"</span></span>
<span id="cb311-5"><a href="#cb311-5"></a>    <span class="at">values_to =</span> <span class="st">"cty"</span>,  <span class="do">## values from these column in new column "cty"</span></span>
<span id="cb311-6"><a href="#cb311-6"></a>    <span class="at">names_prefix =</span> <span class="st">"cty_"</span>  <span class="do">## remove "cty_" from the column names</span></span>
<span id="cb311-7"><a href="#cb311-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 314 × 6
# Groups:   manufacturer, model, trans, cyl [157]
   manufacturer model trans        cyl year    cty
   &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
 1 audi         a4    auto(av)       4 2008     21
 2 audi         a4    auto(av)       4 1999     NA
 3 audi         a4    auto(av)       6 2008     18
 4 audi         a4    auto(av)       6 1999     NA
 5 audi         a4    auto(l5)       4 2008     NA
 6 audi         a4    auto(l5)       4 1999     18
 7 audi         a4    auto(l5)       6 2008     NA
 8 audi         a4    auto(l5)       6 1999     16
 9 audi         a4    manual(m5)     4 2008     NA
10 audi         a4    manual(m5)     4 1999     21
# … with 304 more rows</code></pre>
</div>
</div>
</section>
<section id="reshaping-data-5" class="slide level2">
<h2>Reshaping Data</h2>
<p><code>pivot_longer()</code> to turn a wide data set into a long one:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-178_6b27cef94f92b7b464cbb4513f836279">
<div class="sourceCode cell-code" id="cb313" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb313-1"><a href="#cb313-1"></a>mpg_wide <span class="sc">%&gt;%</span> </span>
<span id="cb313-2"><a href="#cb313-2"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb313-3"><a href="#cb313-3"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"cty_"</span>),</span>
<span id="cb313-4"><a href="#cb313-4"></a>    <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb313-5"><a href="#cb313-5"></a>    <span class="at">values_to =</span> <span class="st">"cty"</span>,</span>
<span id="cb313-6"><a href="#cb313-6"></a>    <span class="at">names_prefix =</span> <span class="st">"cty_"</span>,</span>
<span id="cb313-7"><a href="#cb313-7"></a>    <span class="at">values_drop_na =</span> <span class="cn">TRUE</span></span>
<span id="cb313-8"><a href="#cb313-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 183 × 6
# Groups:   manufacturer, model, trans, cyl [157]
   manufacturer model      trans        cyl year    cty
   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
 1 audi         a4         auto(av)       4 2008     21
 2 audi         a4         auto(av)       6 2008     18
 3 audi         a4         auto(l5)       4 1999     18
 4 audi         a4         auto(l5)       6 1999     16
 5 audi         a4         manual(m5)     4 1999     21
 6 audi         a4         manual(m5)     6 1999     18
 7 audi         a4         manual(m6)     4 2008     20
 8 audi         a4 quattro auto(l5)       4 1999     16
 9 audi         a4 quattro auto(l5)       6 1999     15
10 audi         a4 quattro auto(s6)       4 2008     19
# … with 173 more rows</code></pre>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/2_wrangling/tidyr-pivoting.gif" alt="A conceptional animation of the reshaping process using pviot_wider() and pivot_longer()." class="r-stretch quarto-figure-center"><p class="caption">Created by <a href="https://github.com/gadenbuie/tidyexplain">Garrick Aden-Buie</a></p><p><br></p>
</section></section>
<section>
<section id="data-wrangling-working-with-factors" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Working with Factors —</b></h1>

</section>
<section id="the-forcats-package" class="slide level2">
<h2>The {forcats} Package</h2>
<p>The <strong><code>{forcats}</code></strong> package provides helpers for working with categorical, ordered data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb315"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb315-1"><a href="#cb315-1"></a><span class="co"># install.packages("forcats")</span></span>
<span id="cb315-2"><a href="#cb315-2"></a><span class="fu">library</span>(forcats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-180_9facaa075c85dacff5c30705629feab6">
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1"></a>mpg_fct <span class="ot">&lt;-</span> <span class="fu">mutate</span>(mpg, <span class="at">man_fct =</span> <span class="fu">factor</span>(manufacturer))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-181_76c5f0e0d2bb1f5ab0363b9ae401a0cb">
<div class="sourceCode cell-code" id="cb317"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb317-1"><a href="#cb317-1"></a><span class="fu">levels</span>(mpg_fct<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"       "land rover"
 [9] "lincoln"    "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"     "volkswagen"</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-factors" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions simplify the process of reordering factor levels:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-182_93b734fb5dc10fe42ec601a48b77eb87">
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1"></a>f1 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_inorder</span>(man_fct))</span>
<span id="cb319-2"><a href="#cb319-2"></a><span class="fu">levels</span>(f1<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"       "land rover"
 [9] "lincoln"    "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"     "volkswagen"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-183_b1606871cc87f55bb84fe013ab110cb8">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1"></a>f2 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_infreq</span>(man_fct))</span>
<span id="cb321-2"><a href="#cb321-2"></a><span class="fu">levels</span>(f2<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "dodge"      "toyota"     "volkswagen" "ford"       "chevrolet"  "audi"       "hyundai"    "subaru"    
 [9] "nissan"     "honda"      "jeep"       "pontiac"    "land rover" "mercury"    "lincoln"   </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-184_e1d79ef6fe2b687ecf85a60387f32d98">
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb323-1"><a href="#cb323-1"></a>f3 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_rev</span>(man_fct))</span>
<span id="cb323-2"><a href="#cb323-2"></a><span class="fu">levels</span>(f3<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "volkswagen" "toyota"     "subaru"     "pontiac"    "nissan"     "mercury"    "lincoln"    "land rover"
 [9] "jeep"       "hyundai"    "honda"      "ford"       "dodge"      "chevrolet"  "audi"      </code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-factors-1" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions simplify the process of reordering factor levels:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-185_0a4e8790c423e2a11c27127c009f0d59">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1"></a>f4 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_relevel</span>(man_fct, <span class="st">"volkswagen"</span>, <span class="at">after =</span> <span class="dv">1</span>))</span>
<span id="cb325-2"><a href="#cb325-2"></a><span class="fu">levels</span>(f4<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "volkswagen" "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"      
 [9] "land rover" "lincoln"    "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"    </code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-186_99d3b1d33b1b289e58fb3bfd04a47042">
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1"></a>f5 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_relevel</span>(man_fct, <span class="st">"audi"</span>, <span class="at">after =</span> <span class="cn">Inf</span>))</span>
<span id="cb327-2"><a href="#cb327-2"></a><span class="fu">levels</span>(f5<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"       "land rover" "lincoln"   
 [9] "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"     "volkswagen" "audi"      </code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-factors-2" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions are especially helpful when plotting categorical variables:</p>

<img data-src="2_wrangling_files/figure-revealjs/forcats-ggplot-default-1.png" width="2800" class="r-stretch"></section>
<section id="working-with-factors-3" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions are especially helpful when plotting categorical variables:</p>

<img data-src="2_wrangling_files/figure-revealjs/forcats-ggplot-fct-rev-1.png" width="2800" class="r-stretch"></section>
<section id="working-with-factors-4" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions are especially helpful when plotting categorical variables:</p>

<img data-src="2_wrangling_files/figure-revealjs/forcats-ggplot-fct-infreq-1.png" width="2800" class="r-stretch"></section>
<section id="working-with-factors-5" class="slide level2">
<h2>Working with Factors</h2>
<p>The <code>fct_*</code> functions are especially helpful when plotting categorical variables:</p>

<img data-src="2_wrangling_files/figure-revealjs/forcats-ggplot-fct-rev-infreq-1.png" width="2800" class="r-stretch"></section>
<section id="working-with-factors-6" class="slide level2">
<h2>Working with Factors</h2>
<p>You can also order factor levels based on one or two weights:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-191_a1683eea97bcfac7984ab6adb9a5ec22">
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1"></a>mpg_fct <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(man_fct) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">avg_displ =</span> <span class="fu">mean</span>(displ)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-192_188f1225ecd38d0eeda2a28815bccb86">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb330-1"><a href="#cb330-1"></a>mpg_fct</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 13
   manufacturer model      displ  year   cyl trans      drv     cty   hwy fl    class   man_fct avg_displ
   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;fct&gt;       &lt;dbl&gt;
 1 audi         a4           1.8  1999     4 auto(l5)   f        18    29 p     compact audi         2.54
 2 audi         a4           1.8  1999     4 manual(m5) f        21    29 p     compact audi         2.54
 3 audi         a4           2    2008     4 manual(m6) f        20    31 p     compact audi         2.54
 4 audi         a4           2    2008     4 auto(av)   f        21    30 p     compact audi         2.54
 5 audi         a4           2.8  1999     6 auto(l5)   f        16    26 p     compact audi         2.54
 6 audi         a4           2.8  1999     6 manual(m5) f        18    26 p     compact audi         2.54
 7 audi         a4           3.1  2008     6 auto(av)   f        18    27 p     compact audi         2.54
 8 audi         a4 quattro   1.8  1999     4 manual(m5) 4        18    26 p     compact audi         2.54
 9 audi         a4 quattro   1.8  1999     4 auto(l5)   4        16    25 p     compact audi         2.54
10 audi         a4 quattro   2    2008     4 manual(m6) 4        20    28 p     compact audi         2.54
# … with 224 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-factors-7" class="slide level2">
<h2>Working with Factors</h2>
<p>You can also order factor levels based on one or two weights:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-193_a098fb2008a8d79d4d7d119a92ae4576">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb332-1"><a href="#cb332-1"></a>mpg_fct <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(man_fct) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">avg_displ =</span> <span class="fu">mean</span>(displ)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-194_ca4f57dfeb2e2a50be22ee08855e9035">
<div class="sourceCode cell-code" id="cb333"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1"></a>f6 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_reorder</span>(man_fct, avg_displ))  <span class="do">### also `fct_reorder2()`</span></span>
<span id="cb333-2"><a href="#cb333-2"></a><span class="fu">levels</span>(f6<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "honda"      "volkswagen" "hyundai"    "subaru"     "audi"       "toyota"     "nissan"     "pontiac"   
 [9] "land rover" "dodge"      "mercury"    "ford"       "jeep"       "chevrolet"  "lincoln"   </code></pre>
</div>
</div>
</section>
<section id="working-with-factors-8" class="slide level2">
<h2>Working with Factors</h2>
<p>The <strong><code>{forcats}</code></strong> package also provides functions to “lump” levels:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-195_1a2a67887b2562b6fbec966e0e21926a">
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1"></a>f7 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_lump_n</span>(man_fct, <span class="dv">10</span>))</span>
<span id="cb335-2"><a href="#cb335-2"></a><span class="fu">levels</span>(f7<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "nissan"     "subaru"    
 [9] "toyota"     "volkswagen" "Other"     </code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-196_959161e9cab69d5b763fbc320cc24558">
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1"></a>f8 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_lump_n</span>(man_fct, <span class="dv">10</span>, <span class="at">other_level =</span> <span class="st">"other manufacturers"</span>))</span>
<span id="cb337-2"><a href="#cb337-2"></a><span class="fu">levels</span>(f8<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"                "chevrolet"           "dodge"               "ford"               
 [5] "honda"               "hyundai"             "nissan"              "subaru"             
 [9] "toyota"              "volkswagen"          "other manufacturers"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-197_0bcd09eedf7aa9a547b9fa09aacb6565">
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1"></a>f8 <span class="ot">&lt;-</span> mpg_fct <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">man_fct =</span> <span class="fu">fct_lump_lowfreq</span>(man_fct))</span>
<span id="cb339-2"><a href="#cb339-2"></a><span class="fu">levels</span>(f8<span class="sc">$</span>man_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"       "land rover"
 [9] "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"     "volkswagen" "Other"     </code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-factors-9" class="slide level2">
<h2>Working with Factors</h2>
<p>The <strong><code>{forcats}</code></strong> package also provides functions to “lump” levels:</p>

<img data-src="2_wrangling_files/figure-revealjs/forcats-ggplot-fct-rev-lump-1.png" width="2800" class="r-stretch"></section></section>
<section>
<section id="data-wrangling-working-with-strings" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Working with Strings —</b></h1>

</section>
<section id="the-stringr-package" class="slide level2">
<h2>The {stringr} Package</h2>
<p>The <strong><code>{stringr}</code></strong> package contains consistent, simple and easy to use set of wrappers to work with strings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1"></a><span class="co"># install.packages("stringr")</span></span>
<span id="cb341-2"><a href="#cb341-2"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="working-with-strings" class="slide level2">
<h2>Working with Strings</h2>
<p>Functions from the <strong><code>{stringr}</code></strong> package operate on character strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-200_0b41c57284dec776c7d71e03f026b72a">
<div class="sourceCode cell-code" id="cb342"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb342-1"><a href="#cb342-1"></a>manufacturers <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(manufacturer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-201_c97394db36d725f5f09cd8d91bdef6bd">
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1"></a>manufacturers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "dodge"      "ford"       "honda"      "hyundai"    "jeep"       "land rover"
 [9] "lincoln"    "mercury"    "nissan"     "pontiac"    "subaru"     "toyota"     "volkswagen"</code></pre>
</div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-202_278667188e2cd32bf0190061f6803358">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1"></a><span class="fu">typeof</span>(manufacturers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-strings-1" class="slide level2">
<h2>Working with Strings</h2>
<p>The <code>str_*</code> functions offer a consistent syntax to evaluate and manipulate strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-203_4e4f651c25e7de897701d66a4d951aa3">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1"></a><span class="fu">str_length</span>(manufacturers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  4  9  5  4  5  7  4 10  7  7  6  7  6  6 10</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-204_e352affb33a300891f35d9219815651f">
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1"></a><span class="fu">str_sub</span>(manufacturers, <span class="dv">1</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "aud" "che" "dod" "for" "hon" "hyu" "jee" "lan" "lin" "mer" "nis" "pon" "sub" "toy" "vol"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-205_5ae1ed6c064ba3764a9842ce03dd0c63">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb351-1"><a href="#cb351-1"></a><span class="fu">str_subset</span>(manufacturers, <span class="st">"y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hyundai" "mercury" "toyota" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-206_9119a1ea16e6861e8b8923d5d749444a">
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb353-1"><a href="#cb353-1"></a><span class="fu">str_subset</span>(manufacturers, <span class="st">"[ac]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"       "chevrolet"  "honda"      "hyundai"    "land rover" "lincoln"    "mercury"    "nissan"    
 [9] "pontiac"    "subaru"     "toyota"     "volkswagen"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-207_49d7400e77df88a991b546ca2c0e6ba3">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb355-1"><a href="#cb355-1"></a><span class="fu">str_detect</span>(manufacturers, <span class="st">"[ac]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE  TRUE FALSE FALSE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-208_8e4628f7084ee1a4165f199ed543c27b">
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb357-1"><a href="#cb357-1"></a><span class="fu">str_starts</span>(manufacturers, <span class="st">"[ac]"</span>)  <span class="do">## also `str_ends()`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-strings-2" class="slide level2">
<h2>Working with Strings</h2>
<p>The <code>str_*</code> functions offer a consistent syntax to evaluate and manipulate strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-209_2b56b7675683db0c38cdb5cd89af5451">
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb359-1"><a href="#cb359-1"></a><span class="fu">str_count</span>(manufacturers, <span class="st">"[aeiou]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3 3 2 1 2 3 2 3 2 2 2 3 3 3 3</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-210_cae50c4d5c60d7d221697a498fa1b5c0">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb361-1"><a href="#cb361-1"></a><span class="fu">str_extract</span>(manufacturers, <span class="st">"[aeiou]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "a" "e" "o" "o" "o" "u" "e" "a" "i" "e" "i" "o" "u" "o" "o"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-211_4896faa20b98e04ed1367d3fab9c54ea">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb363-1"><a href="#cb363-1"></a><span class="fu">str_extract_all</span>(manufacturers, <span class="st">"[aeiou]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a" "u" "i"

[[2]]
[1] "e" "o" "e"

[[3]]
[1] "o" "e"

[[4]]
[1] "o"

[[5]]
[1] "o" "a"

[[6]]
[1] "u" "a" "i"

[[7]]
[1] "e" "e"

[[8]]
[1] "a" "o" "e"

[[9]]
[1] "i" "o"

[[10]]
[1] "e" "u"

[[11]]
[1] "i" "a"

[[12]]
[1] "o" "i" "a"

[[13]]
[1] "u" "a" "u"

[[14]]
[1] "o" "o" "a"

[[15]]
[1] "o" "a" "e"</code></pre>
</div>
</div>
<div class="footer">

</div>
</div>
</section>
<section id="working-with-strings-3" class="slide level2">
<h2>Working with Strings</h2>
<p>The <code>str_*</code> functions offer a consistent syntax to evaluate and manipulate strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-212_62af7aca9f997941e185fcfafdc84522">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb365-1"><a href="#cb365-1"></a><span class="fu">str_replace</span>(manufacturers, <span class="st">"[aeiou]"</span>, <span class="st">"X"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Xudi"       "chXvrolet"  "dXdge"      "fXrd"       "hXnda"      "hyXndai"    "jXep"       "lXnd rover"
 [9] "lXncoln"    "mXrcury"    "nXssan"     "pXntiac"    "sXbaru"     "tXyota"     "vXlkswagen"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-213_447385e383f29900752794eda655d6d3">
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb367-1"><a href="#cb367-1"></a><span class="fu">str_replace_all</span>(manufacturers, <span class="st">"[aeiou]"</span>, <span class="st">"X"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "XXdX"       "chXvrXlXt"  "dXdgX"      "fXrd"       "hXndX"      "hyXndXX"    "jXXp"       "lXnd rXvXr"
 [9] "lXncXln"    "mXrcXry"    "nXssXn"     "pXntXXc"    "sXbXrX"     "tXyXtX"     "vXlkswXgXn"</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-strings-4" class="slide level2">
<h2>Working with Strings</h2>
<p>The <code>str_*</code> functions offer a consistent syntax to evaluate and manipulate strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-214_1a64966a6b832d05ca749dd6d3d52cdb">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1"></a><span class="fu">str_remove</span>(manufacturers, <span class="st">"[lrs]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"      "chevolet"  "dodge"     "fod"       "honda"     "hyundai"   "jeep"      "and rover"
 [9] "incoln"    "mecury"    "nisan"     "pontiac"   "ubaru"     "toyota"    "vokswagen"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-215_59afe5d4565ec02496c411fcb37d2f4b">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1"></a><span class="fu">str_remove_all</span>(manufacturers, <span class="st">"[lrs]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"     "chevoet"  "dodge"    "fod"      "honda"    "hyundai"  "jeep"     "and ove"  "incon"   
[10] "mecuy"    "nian"     "pontiac"  "ubau"     "toyota"   "vokwagen"</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-strings-5" class="slide level2">
<h2>Working with Strings</h2>
<p>The <code>str_*</code> functions offer a consistent syntax to evaluate and manipulate strings:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-216_6bab973fa0d8e5ad63e19cd20dccf3e1">
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1"></a><span class="fu">str_trim</span>(<span class="fu">c</span>(<span class="st">"we"</span>, <span class="st">"do not"</span>, <span class="st">"like "</span>, <span class="st">" malformatted variables "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "we"                     "do not"                 "like"                   "malformatted variables"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-217_4c0d4c98a56f874322e39767d9411714">
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1"></a><span class="fu">str_wrap</span>(manufacturers, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"        "chevrolet"   "dodge"       "ford"        "honda"       "hyundai"     "jeep"       
 [8] "land\nrover" "lincoln"     "mercury"     "nissan"      "pontiac"     "subaru"      "toyota"     
[15] "volkswagen" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-218_8c68364f63b7abdf126a2037d3d6731a">
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1"></a><span class="fu">str_trunc</span>(manufacturers, <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "audi"   "che..." "dodge"  "ford"   "honda"  "hyu..." "jeep"   "lan..." "lin..." "mer..." "nissan"
[12] "pon..." "subaru" "toyota" "vol..."</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-strings-6" class="slide level2">
<h2>Working with Strings</h2>
<p>Again, these <code>str_*</code> functions can be helpful when plotting character variables:</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="2_wrangling_files/figure-revealjs/stringr-ggplot-wrap-1.png" width="2000"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="2_wrangling_files/figure-revealjs/stringr-ggplot-trunc-1.png" width="2000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="working-with-strings-7" class="slide level2">
<h2>Working with Strings</h2>
<p>Functions from the <strong><code>{stringr}</code></strong> package also allow to change the letter cases:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-221_8f7ef931be03967556219fe5b621215b">
<div class="sourceCode cell-code" id="cb379"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb379-1"><a href="#cb379-1"></a><span class="fu">str_to_upper</span>(manufacturers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "AUDI"       "CHEVROLET"  "DODGE"      "FORD"       "HONDA"      "HYUNDAI"    "JEEP"       "LAND ROVER"
 [9] "LINCOLN"    "MERCURY"    "NISSAN"     "PONTIAC"    "SUBARU"     "TOYOTA"     "VOLKSWAGEN"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-222_7b94b6cfb7bed3fe023f0c27058f7fb6">
<div class="sourceCode cell-code" id="cb381"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb381-1"><a href="#cb381-1"></a><span class="fu">str_to_title</span>(manufacturers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Audi"       "Chevrolet"  "Dodge"      "Ford"       "Honda"      "Hyundai"    "Jeep"       "Land Rover"
 [9] "Lincoln"    "Mercury"    "Nissan"     "Pontiac"    "Subaru"     "Toyota"     "Volkswagen"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-223_cdec29dede0f35039687aa503cbf53e3">
<div class="sourceCode cell-code" id="cb383"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb383-1"><a href="#cb383-1"></a><span class="fu">str_to_lower</span>(<span class="fu">c</span>(<span class="st">"yes"</span>, <span class="st">"Maybe"</span>, <span class="st">"NO"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "yes"   "maybe" "no"   </code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="data-wrangling-working-with-dates" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Working with Dates —</b></h1>

</section>
<section id="the-lubridate-package" class="slide level2">
<h2>The {lubridate} Package</h2>
<p>The <strong><code>{lubridate}</code></strong> package to parse, extract, and adjust date-time formats and time-spans.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1"></a><span class="co"># install.packages("lubridate")</span></span>
<span id="cb385-2"><a href="#cb385-2"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: timechange</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
</div>
</section>
<section id="working-with-dates" class="slide level2">
<h2>Working with Dates</h2>
<p>Functions from the <strong><code>{lubridate}</code></strong> package operate on dates:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-225_5a1f1c417809b89dd28b5dcf2b743625">
<div class="sourceCode cell-code" id="cb389" data-code-line-numbers="1|2|3,4,5,6|4|5|7|8|9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb389-1"><a href="#cb389-1"></a>flights_selected <span class="ot">&lt;-</span> </span>
<span id="cb389-2"><a href="#cb389-2"></a>  flights <span class="sc">%&gt;%</span> </span>
<span id="cb389-3"><a href="#cb389-3"></a>  <span class="fu">mutate</span>(</span>
<span id="cb389-4"><a href="#cb389-4"></a>    <span class="at">date =</span> <span class="fu">format</span>(time_hour, <span class="at">format =</span> <span class="st">"%d.%m.%Y"</span>),  <span class="do">## turn into date as string</span></span>
<span id="cb389-5"><a href="#cb389-5"></a>    <span class="at">datetime =</span> <span class="fu">str_remove_all</span>(time_hour, <span class="st">":|-"</span>)  <span class="do">## turn into custom formatted datetime string</span></span>
<span id="cb389-6"><a href="#cb389-6"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb389-7"><a href="#cb389-7"></a>  <span class="fu">select</span>(flight, date, datetime) <span class="sc">%&gt;%</span> </span>
<span id="cb389-8"><a href="#cb389-8"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span>  <span class="do">## just use random subset</span></span>
<span id="cb389-9"><a href="#cb389-9"></a>  <span class="fu">arrange</span>(flight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="working-with-dates-1" class="slide level2">
<h2>Working with Dates</h2>
<p>Functions from the <strong><code>{lubridate}</code></strong> package operate on dates:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-226_83f4d840f756553d789cb10018d3e2c0">
<div class="sourceCode cell-code" id="cb390"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb390-1"><a href="#cb390-1"></a>flights_selected</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 3
   flight date       datetime       
    &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;          
 1      6 06.05.2013 20130506 190000
 2     27 22.04.2013 20130422 080000
 3     51 23.05.2013 20130523 100000
 4     61 02.06.2013 20130602 110000
 5     63 07.02.2013 20130207 100000
 6     63 09.05.2013 20130509 140000
 7     65 10.10.2013 20131010 160000
 8    133 13.08.2013 20130813 150000
 9    199 25.02.2013 20130225 210000
10    221 19.11.2013 20131119 170000
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-2" class="slide level2">
<h2>Working with Dates</h2>
<p><strong><code>{lubridate}</code></strong> allows to parse date-time objects of different formats:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-227_e08947bc5b3eea799fdeaa2a26fb4b2a">
<div class="sourceCode cell-code" id="cb392" data-code-line-numbers="1|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb392-1"><a href="#cb392-1"></a>flights_dates <span class="ot">&lt;-</span> flights_selected <span class="sc">%&gt;%</span> </span>
<span id="cb392-2"><a href="#cb392-2"></a>  <span class="fu">mutate</span>(<span class="at">datetime =</span> <span class="fu">ymd_hms</span>(datetime), <span class="at">date =</span> <span class="fu">dmy</span>(date))  <span class="do">## also `ymd*`, `ydm*`, `mdy*`, ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-228_0a92562cca9295dc0321e95ed02cde11">
<div class="sourceCode cell-code" id="cb393"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb393-1"><a href="#cb393-1"></a>flights_dates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 3
   flight date       datetime               
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                 
 1      6 2013-05-06 2013-05-06 19:00:00.000
 2     27 2013-04-22 2013-04-22 08:00:00.000
 3     51 2013-05-23 2013-05-23 10:00:00.000
 4     61 2013-06-02 2013-06-02 11:00:00.000
 5     63 2013-02-07 2013-02-07 10:00:00.000
 6     63 2013-05-09 2013-05-09 14:00:00.000
 7     65 2013-10-10 2013-10-10 16:00:00.000
 8    133 2013-08-13 2013-08-13 15:00:00.000
 9    199 2013-02-25 2013-02-25 21:00:00.000
10    221 2013-11-19 2013-11-19 17:00:00.000
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-dates-3" class="slide level2">
<h2>Working with Dates</h2>
<p><strong><code>{lubridate}</code></strong> allows to parse date-time objects of different formats:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-229_2d4b6fdfe0b5002f4eea13a2573cabb0">
<div class="sourceCode cell-code" id="cb395" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb395-1"><a href="#cb395-1"></a>flights_dates <span class="ot">&lt;-</span> flights_selected <span class="sc">%&gt;%</span> </span>
<span id="cb395-2"><a href="#cb395-2"></a>  <span class="fu">mutate</span>(<span class="at">datetime =</span> <span class="fu">ymd_hms</span>(datetime), <span class="at">date =</span> <span class="fu">dmy</span>(date))  <span class="do">## also `ymd()`, `ydm()`, `mdy()`, ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-230_7e40aa481a4a856fbcc1a1f8c48a49b7">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb396-1"><a href="#cb396-1"></a><span class="fu">head</span>(flights_dates<span class="sc">$</span>datetime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-05-06 19:00:00 UTC" "2013-04-22 08:00:00 UTC" "2013-05-23 10:00:00 UTC" "2013-06-02 11:00:00 UTC"
[5] "2013-02-07 10:00:00 UTC" "2013-05-09 14:00:00 UTC"</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-231_9023e55ad16352e0d99da298f8aadb5d">
<div class="sourceCode cell-code" id="cb398" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb398-1"><a href="#cb398-1"></a>flights_dates <span class="ot">&lt;-</span> flights_selected <span class="sc">%&gt;%</span> </span>
<span id="cb398-2"><a href="#cb398-2"></a>  <span class="fu">mutate</span>(<span class="at">datetime =</span> <span class="fu">ymd_hms</span>(datetime, <span class="at">tz =</span> <span class="st">"America/New_York"</span>), <span class="at">date =</span> <span class="fu">dmy</span>(date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-232_8d9a0a44c1a3e4bbccf32a3c8d4b3a44">
<div class="sourceCode cell-code" id="cb399"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb399-1"><a href="#cb399-1"></a><span class="fu">head</span>(flights_dates<span class="sc">$</span>datetime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-05-06 19:00:00 EDT" "2013-04-22 08:00:00 EDT" "2013-05-23 10:00:00 EDT" "2013-06-02 11:00:00 EDT"
[5] "2013-02-07 10:00:00 EST" "2013-05-09 14:00:00 EDT"</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-dates-4" class="slide level2">
<h2>Working with Dates</h2>
<p><strong><code>{lubridate}</code></strong> also provides helper functions to work with timezones:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-233_e8cc347fc322003f643ea9a55279b7b4">
<div class="sourceCode cell-code" id="cb401" data-code-line-numbers="2,3,4,5|3|3,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb401-1"><a href="#cb401-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb401-2"><a href="#cb401-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb401-3"><a href="#cb401-3"></a>    <span class="at">dt_west =</span> <span class="fu">with_tz</span>(datetime, <span class="st">"America/Los_Angeles"</span>),</span>
<span id="cb401-4"><a href="#cb401-4"></a>    <span class="at">dt_cet  =</span> <span class="fu">with_tz</span>(datetime, <span class="st">"CET"</span>),</span>
<span id="cb401-5"><a href="#cb401-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                dt_west                 dt_cet                 
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;dttm&gt;                  &lt;dttm&gt;                 
 1      6 2013-05-06 2013-05-06 19:00:00.000 2013-05-06 16:00:00.000 2013-05-07 01:00:00.000
 2     27 2013-04-22 2013-04-22 08:00:00.000 2013-04-22 05:00:00.000 2013-04-22 14:00:00.000
 3     51 2013-05-23 2013-05-23 10:00:00.000 2013-05-23 07:00:00.000 2013-05-23 16:00:00.000
 4     61 2013-06-02 2013-06-02 11:00:00.000 2013-06-02 08:00:00.000 2013-06-02 17:00:00.000
 5     63 2013-02-07 2013-02-07 10:00:00.000 2013-02-07 07:00:00.000 2013-02-07 16:00:00.000
 6     63 2013-05-09 2013-05-09 14:00:00.000 2013-05-09 11:00:00.000 2013-05-09 20:00:00.000
 7     65 2013-10-10 2013-10-10 16:00:00.000 2013-10-10 13:00:00.000 2013-10-10 22:00:00.000
 8    133 2013-08-13 2013-08-13 15:00:00.000 2013-08-13 12:00:00.000 2013-08-13 21:00:00.000
 9    199 2013-02-25 2013-02-25 21:00:00.000 2013-02-25 18:00:00.000 2013-02-26 03:00:00.000
10    221 2013-11-19 2013-11-19 17:00:00.000 2013-11-19 14:00:00.000 2013-11-19 23:00:00.000
# … with 90 more rows</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-234_c5ea316a16ab11fc24d42bf354702a86">
<div class="sourceCode cell-code" id="cb403"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb403-1"><a href="#cb403-1"></a>flights_dates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 3
   flight date       datetime               
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                 
 1      6 2013-05-06 2013-05-06 19:00:00.000
 2     27 2013-04-22 2013-04-22 08:00:00.000
 3     51 2013-05-23 2013-05-23 10:00:00.000
 4     61 2013-06-02 2013-06-02 11:00:00.000
 5     63 2013-02-07 2013-02-07 10:00:00.000
 6     63 2013-05-09 2013-05-09 14:00:00.000
 7     65 2013-10-10 2013-10-10 16:00:00.000
 8    133 2013-08-13 2013-08-13 15:00:00.000
 9    199 2013-02-25 2013-02-25 21:00:00.000
10    221 2013-11-19 2013-11-19 17:00:00.000
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-dates-5" class="slide level2">
<h2>Working with Dates</h2>
<p><strong><code>{lubridate}</code></strong> also provides helper functions to work with timezones:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-235_fa57df3316e8c59cd8fd4e78f02df4e7">
<div class="sourceCode cell-code" id="cb405" data-code-line-numbers="3|3,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb405-1"><a href="#cb405-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb405-2"><a href="#cb405-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb405-3"><a href="#cb405-3"></a>    <span class="at">dt_west =</span> <span class="fu">force_tz</span>(datetime, <span class="st">"America/Los_Angeles"</span>),</span>
<span id="cb405-4"><a href="#cb405-4"></a>    <span class="at">dt_cet  =</span> <span class="fu">force_tz</span>(datetime, <span class="st">"CET"</span>),</span>
<span id="cb405-5"><a href="#cb405-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                dt_west                 dt_cet                 
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;dttm&gt;                  &lt;dttm&gt;                 
 1      6 2013-05-06 2013-05-06 19:00:00.000 2013-05-06 19:00:00.000 2013-05-06 19:00:00.000
 2     27 2013-04-22 2013-04-22 08:00:00.000 2013-04-22 08:00:00.000 2013-04-22 08:00:00.000
 3     51 2013-05-23 2013-05-23 10:00:00.000 2013-05-23 10:00:00.000 2013-05-23 10:00:00.000
 4     61 2013-06-02 2013-06-02 11:00:00.000 2013-06-02 11:00:00.000 2013-06-02 11:00:00.000
 5     63 2013-02-07 2013-02-07 10:00:00.000 2013-02-07 10:00:00.000 2013-02-07 10:00:00.000
 6     63 2013-05-09 2013-05-09 14:00:00.000 2013-05-09 14:00:00.000 2013-05-09 14:00:00.000
 7     65 2013-10-10 2013-10-10 16:00:00.000 2013-10-10 16:00:00.000 2013-10-10 16:00:00.000
 8    133 2013-08-13 2013-08-13 15:00:00.000 2013-08-13 15:00:00.000 2013-08-13 15:00:00.000
 9    199 2013-02-25 2013-02-25 21:00:00.000 2013-02-25 21:00:00.000 2013-02-25 21:00:00.000
10    221 2013-11-19 2013-11-19 17:00:00.000 2013-11-19 17:00:00.000 2013-11-19 17:00:00.000
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-6" class="slide level2">
<h2>Working with Dates</h2>
<p>… and functions to extract certain components of date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-236_ea249fcb0be2020726ad6b63f0134788">
<div class="sourceCode cell-code" id="cb407" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb407-1"><a href="#cb407-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb407-2"><a href="#cb407-2"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(date), <span class="at">month =</span> <span class="fu">month</span>(date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                 year month
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;dbl&gt; &lt;dbl&gt;
 1      6 2013-05-06 2013-05-06 19:00:00.000  2013     5
 2     27 2013-04-22 2013-04-22 08:00:00.000  2013     4
 3     51 2013-05-23 2013-05-23 10:00:00.000  2013     5
 4     61 2013-06-02 2013-06-02 11:00:00.000  2013     6
 5     63 2013-02-07 2013-02-07 10:00:00.000  2013     2
 6     63 2013-05-09 2013-05-09 14:00:00.000  2013     5
 7     65 2013-10-10 2013-10-10 16:00:00.000  2013    10
 8    133 2013-08-13 2013-08-13 15:00:00.000  2013     8
 9    199 2013-02-25 2013-02-25 21:00:00.000  2013     2
10    221 2013-11-19 2013-11-19 17:00:00.000  2013    11
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-7" class="slide level2">
<h2>Working with Dates</h2>
<p>… and functions to extract certain components of date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-237_5397f9aedade8b8413b5452ddb2e39c8">
<div class="sourceCode cell-code" id="cb409" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb409-1"><a href="#cb409-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb409-2"><a href="#cb409-2"></a>  <span class="fu">mutate</span>(<span class="at">yday =</span> <span class="fu">yday</span>(date), <span class="at">week =</span> <span class="fu">week</span>(date), <span class="at">wday =</span> <span class="fu">wday</span>(date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 6
   flight date       datetime                 yday  week  wday
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1      6 2013-05-06 2013-05-06 19:00:00.000   126    18     2
 2     27 2013-04-22 2013-04-22 08:00:00.000   112    16     2
 3     51 2013-05-23 2013-05-23 10:00:00.000   143    21     5
 4     61 2013-06-02 2013-06-02 11:00:00.000   153    22     1
 5     63 2013-02-07 2013-02-07 10:00:00.000    38     6     5
 6     63 2013-05-09 2013-05-09 14:00:00.000   129    19     5
 7     65 2013-10-10 2013-10-10 16:00:00.000   283    41     5
 8    133 2013-08-13 2013-08-13 15:00:00.000   225    33     3
 9    199 2013-02-25 2013-02-25 21:00:00.000    56     8     2
10    221 2013-11-19 2013-11-19 17:00:00.000   323    47     3
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-8" class="slide level2">
<h2>Working with Dates</h2>
<p>… and functions to extract certain components of date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-238_98eb4ce828cf5b15c8e5e13f90ffebac">
<div class="sourceCode cell-code" id="cb411" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb411-1"><a href="#cb411-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb411-2"><a href="#cb411-2"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">wday =</span> <span class="fu">wday</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                month wday 
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;ord&gt; &lt;ord&gt;
 1      6 2013-05-06 2013-05-06 19:00:00.000 May   Mon  
 2     27 2013-04-22 2013-04-22 08:00:00.000 Apr   Mon  
 3     51 2013-05-23 2013-05-23 10:00:00.000 May   Thu  
 4     61 2013-06-02 2013-06-02 11:00:00.000 Jun   Sun  
 5     63 2013-02-07 2013-02-07 10:00:00.000 Feb   Thu  
 6     63 2013-05-09 2013-05-09 14:00:00.000 May   Thu  
 7     65 2013-10-10 2013-10-10 16:00:00.000 Oct   Thu  
 8    133 2013-08-13 2013-08-13 15:00:00.000 Aug   Tue  
 9    199 2013-02-25 2013-02-25 21:00:00.000 Feb   Mon  
10    221 2013-11-19 2013-11-19 17:00:00.000 Nov   Tue  
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-9" class="slide level2">
<h2>Working with Dates</h2>
<p>… and functions to extract certain components of date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-239_dfb339fde23c803c3f2132f34b620395">
<div class="sourceCode cell-code" id="cb413" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb413-1"><a href="#cb413-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb413-2"><a href="#cb413-2"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">wday =</span> <span class="fu">wday</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                month wday    
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;ord&gt; &lt;ord&gt;   
 1      6 2013-05-06 2013-05-06 19:00:00.000 May   Monday  
 2     27 2013-04-22 2013-04-22 08:00:00.000 Apr   Monday  
 3     51 2013-05-23 2013-05-23 10:00:00.000 May   Thursday
 4     61 2013-06-02 2013-06-02 11:00:00.000 Jun   Sunday  
 5     63 2013-02-07 2013-02-07 10:00:00.000 Feb   Thursday
 6     63 2013-05-09 2013-05-09 14:00:00.000 May   Thursday
 7     65 2013-10-10 2013-10-10 16:00:00.000 Oct   Thursday
 8    133 2013-08-13 2013-08-13 15:00:00.000 Aug   Tuesday 
 9    199 2013-02-25 2013-02-25 21:00:00.000 Feb   Monday  
10    221 2013-11-19 2013-11-19 17:00:00.000 Nov   Tuesday 
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-10" class="slide level2">
<h2>Working with Dates</h2>
<p>To change the language used for the labels, change the <code>locale</code>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-240_0ffb45b35e24471dc6565b906d73898b">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "de_DE.UTF-8"</code></pre>
</div>
</div>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-241_c30e61f450be2a7bf0af763a6ded84d2">
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1"></a><span class="fu">Sys.setlocale</span>(<span class="st">"LC_TIME"</span>, <span class="st">"de_DE.UTF-8"</span>) <span class="do">## on Mac</span></span>
<span id="cb416-2"><a href="#cb416-2"></a><span class="co"># Sys.setlocale("LC_TIME", "German")    ## on Win</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-242_cf2464d9f3c4be2ae67c72ccb6e76eaf">
<div class="sourceCode cell-code" id="cb417" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb417-1"><a href="#cb417-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb417-2"><a href="#cb417-2"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">wday =</span> <span class="fu">wday</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                month wday      
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;ord&gt; &lt;ord&gt;     
 1      6 2013-05-06 2013-05-06 19:00:00.000 Mai   Montag    
 2     27 2013-04-22 2013-04-22 08:00:00.000 Apr   Montag    
 3     51 2013-05-23 2013-05-23 10:00:00.000 Mai   Donnerstag
 4     61 2013-06-02 2013-06-02 11:00:00.000 Jun   Sonntag   
 5     63 2013-02-07 2013-02-07 10:00:00.000 Feb   Donnerstag
 6     63 2013-05-09 2013-05-09 14:00:00.000 Mai   Donnerstag
 7     65 2013-10-10 2013-10-10 16:00:00.000 Okt   Donnerstag
 8    133 2013-08-13 2013-08-13 15:00:00.000 Aug   Dienstag  
 9    199 2013-02-25 2013-02-25 21:00:00.000 Feb   Montag    
10    221 2013-11-19 2013-11-19 17:00:00.000 Nov   Dienstag  
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-dates-11" class="slide level2">
<h2>Working with Dates</h2>
<p>You can also do arithmetic operations on date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-244_380f35b85d273469f48d936ab8bb5db4">
<div class="sourceCode cell-code" id="cb419" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb419-1"><a href="#cb419-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb419-2"><a href="#cb419-2"></a>  <span class="fu">mutate</span>(<span class="at">date_ahead =</span> date <span class="sc">+</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
   flight date       datetime                date_ahead
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;date&gt;    
 1      6 2013-05-06 2013-05-06 19:00:00.000 2013-06-05
 2     27 2013-04-22 2013-04-22 08:00:00.000 2013-05-22
 3     51 2013-05-23 2013-05-23 10:00:00.000 2013-06-22
 4     61 2013-06-02 2013-06-02 11:00:00.000 2013-07-02
 5     63 2013-02-07 2013-02-07 10:00:00.000 2013-03-09
 6     63 2013-05-09 2013-05-09 14:00:00.000 2013-06-08
 7     65 2013-10-10 2013-10-10 16:00:00.000 2013-11-09
 8    133 2013-08-13 2013-08-13 15:00:00.000 2013-09-12
 9    199 2013-02-25 2013-02-25 21:00:00.000 2013-03-27
10    221 2013-11-19 2013-11-19 17:00:00.000 2013-12-19
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-dates-12" class="slide level2">
<h2>Working with Dates</h2>
<p>You can also do arithmetic operations on date-time objects:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-245_31f21c8af61632489fa99aa7bc1b9cbf">
<div class="sourceCode cell-code" id="cb421" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb421-1"><a href="#cb421-1"></a>flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb421-2"><a href="#cb421-2"></a>  <span class="fu">mutate</span>(<span class="at">date_ahead =</span> date <span class="sc">+</span> <span class="fu">weeks</span>(<span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
   flight date       datetime                date_ahead
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;date&gt;    
 1      6 2013-05-06 2013-05-06 19:00:00.000 2013-06-17
 2     27 2013-04-22 2013-04-22 08:00:00.000 2013-06-03
 3     51 2013-05-23 2013-05-23 10:00:00.000 2013-07-04
 4     61 2013-06-02 2013-06-02 11:00:00.000 2013-07-14
 5     63 2013-02-07 2013-02-07 10:00:00.000 2013-03-21
 6     63 2013-05-09 2013-05-09 14:00:00.000 2013-06-20
 7     65 2013-10-10 2013-10-10 16:00:00.000 2013-11-21
 8    133 2013-08-13 2013-08-13 15:00:00.000 2013-09-24
 9    199 2013-02-25 2013-02-25 21:00:00.000 2013-04-08
10    221 2013-11-19 2013-11-19 17:00:00.000 2013-12-31
# … with 90 more rows</code></pre>
</div>
</div>
</section>
<section id="working-with-times" class="slide level2">
<h2>Working with Times</h2>
<p>Functions from the <strong><code>{hms}</code></strong> package operate on time stamps:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-246_1b5cb226c33eda8e1793dcd3b74898f9">
<div class="sourceCode cell-code" id="cb423"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb423-1"><a href="#cb423-1"></a><span class="co"># install.packages("hms")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-247_5810f27777dd9547c613d07b30c61d2b">
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1"></a><span class="fu">data.frame</span>(<span class="at">hours =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">hms =</span> hms<span class="sc">::</span><span class="fu">hms</span>(<span class="at">hours =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>))  <span class="do">## do not confuse with `lubridate::hms()`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  hours      hms
1     1 01:00:00
2     2 02:00:00
3     3 03:00:00</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-times-1" class="slide level2">
<h2>Working with Times</h2>
<p>Functions from the <strong><code>{hms}</code></strong> package operate on time stamps:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-248_adf574ce54878720356580dfab6841aa">
<div class="sourceCode cell-code" id="cb426" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1"></a>flights_time <span class="ot">&lt;-</span> flights_dates <span class="sc">%&gt;%</span> </span>
<span id="cb426-2"><a href="#cb426-2"></a>  <span class="fu">mutate</span>(<span class="at">time =</span> hms<span class="sc">::</span><span class="fu">as_hms</span>(datetime))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-249_33d890d3392fb3b36869e4ade2d00b3e">
<div class="sourceCode cell-code" id="cb427"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1"></a>flights_time</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 4
   flight date       datetime                time  
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;time&gt;
 1      6 2013-05-06 2013-05-06 19:00:00.000 19:00 
 2     27 2013-04-22 2013-04-22 08:00:00.000 08:00 
 3     51 2013-05-23 2013-05-23 10:00:00.000 10:00 
 4     61 2013-06-02 2013-06-02 11:00:00.000 11:00 
 5     63 2013-02-07 2013-02-07 10:00:00.000 10:00 
 6     63 2013-05-09 2013-05-09 14:00:00.000 14:00 
 7     65 2013-10-10 2013-10-10 16:00:00.000 16:00 
 8    133 2013-08-13 2013-08-13 15:00:00.000 15:00 
 9    199 2013-02-25 2013-02-25 21:00:00.000 21:00 
10    221 2013-11-19 2013-11-19 17:00:00.000 17:00 
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="working-with-times-2" class="slide level2">
<h2>Working with Times</h2>
<p>Functions from the <strong><code>{hms}</code></strong> package operate on time stamps:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-250_8078b648b54ecdd96933f54e89360758">
<div class="sourceCode cell-code" id="cb429"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1"></a>flights_time <span class="sc">%&gt;%</span> </span>
<span id="cb429-2"><a href="#cb429-2"></a>  <span class="fu">mutate</span>(<span class="at">time_num =</span> <span class="fu">as.numeric</span>(time))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 5
   flight date       datetime                time   time_num
    &lt;int&gt; &lt;date&gt;     &lt;dttm&gt;                  &lt;time&gt;    &lt;dbl&gt;
 1      6 2013-05-06 2013-05-06 19:00:00.000 19:00     68400
 2     27 2013-04-22 2013-04-22 08:00:00.000 08:00     28800
 3     51 2013-05-23 2013-05-23 10:00:00.000 10:00     36000
 4     61 2013-06-02 2013-06-02 11:00:00.000 11:00     39600
 5     63 2013-02-07 2013-02-07 10:00:00.000 10:00     36000
 6     63 2013-05-09 2013-05-09 14:00:00.000 14:00     50400
 7     65 2013-10-10 2013-10-10 16:00:00.000 16:00     57600
 8    133 2013-08-13 2013-08-13 15:00:00.000 15:00     54000
 9    199 2013-02-25 2013-02-25 21:00:00.000 21:00     75600
10    221 2013-11-19 2013-11-19 17:00:00.000 17:00     61200
# … with 90 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="data-wrangling-string-interpolation" class="title-slide slide level1 center">
<h1>Data Wrangling<br><b style="color:#404040;font-size:.7em;font-weight:600;">— String Interpolation —</b></h1>

</section>
<section id="the-glue-package" class="slide level2">
<h2>The {glue} Package</h2>
<p>The <strong><code>{glue}</code></strong> package offers simple and fast evaluation of string literals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1"></a><span class="co"># install.packages("glue")</span></span>
<span id="cb431-2"><a href="#cb431-2"></a><span class="fu">library</span>(glue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combining-strings-and-values" class="slide level2">
<h2>Combining Strings (and Values)</h2>
<p><code>glue()</code> allows you to combine strings and values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-252_eab9050622c32fac26773756ab46a21b">
<div class="sourceCode cell-code" id="cb432"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb432-1"><a href="#cb432-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb432-2"><a href="#cb432-2"></a>  <span class="fu">select</span>(manufacturer, model, year, trans) <span class="sc">%&gt;%</span> </span>
<span id="cb432-3"><a href="#cb432-3"></a>  <span class="fu">mutate</span>(</span>
<span id="cb432-4"><a href="#cb432-4"></a>    <span class="at">text =</span> <span class="fu">glue</span>(<span class="st">"The model {manufacturer} {model} with {trans} as transmission was build in {year}."</span>)</span>
<span id="cb432-5"><a href="#cb432-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 5
   manufacturer model       year trans      text                                                              
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;      &lt;glue&gt;                                                            
 1 audi         a4          1999 auto(l5)   The model audi a4 with auto(l5) as transmission was build in 1999.
 2 audi         a4          1999 manual(m5) The model audi a4 with manual(m5) as transmission was build in 19…
 3 audi         a4          2008 manual(m6) The model audi a4 with manual(m6) as transmission was build in 20…
 4 audi         a4          2008 auto(av)   The model audi a4 with auto(av) as transmission was build in 2008.
 5 audi         a4          1999 auto(l5)   The model audi a4 with auto(l5) as transmission was build in 1999.
 6 audi         a4          1999 manual(m5) The model audi a4 with manual(m5) as transmission was build in 19…
 7 audi         a4          2008 auto(av)   The model audi a4 with auto(av) as transmission was build in 2008.
 8 audi         a4 quattro  1999 manual(m5) The model audi a4 quattro with manual(m5) as transmission was bui…
 9 audi         a4 quattro  1999 auto(l5)   The model audi a4 quattro with auto(l5) as transmission was build…
10 audi         a4 quattro  2008 manual(m6) The model audi a4 quattro with manual(m6) as transmission was bui…
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="combining-strings-and-values-1" class="slide level2">
<h2>Combining Strings (and Values)</h2>
<p><code>glue()</code> in combination with functions from <strong><code>{stringr}</code></strong>:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-253_04fc75b5ce5752956320f5ab21c95477">
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb434-2"><a href="#cb434-2"></a>  <span class="fu">select</span>(manufacturer, model, year, trans) <span class="sc">%&gt;%</span> </span>
<span id="cb434-3"><a href="#cb434-3"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> </span>
<span id="cb434-4"><a href="#cb434-4"></a>    <span class="fu">glue</span>(<span class="st">"The {str_to_title(manufacturer)} {str_to_title(model)} with {trans} as transmission was build in {year}."</span>)</span>
<span id="cb434-5"><a href="#cb434-5"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 5
   manufacturer model       year trans      text                                                              
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;      &lt;glue&gt;                                                            
 1 audi         a4          1999 auto(l5)   The Audi A4 with auto(l5) as transmission was build in 1999.      
 2 audi         a4          1999 manual(m5) The Audi A4 with manual(m5) as transmission was build in 1999.    
 3 audi         a4          2008 manual(m6) The Audi A4 with manual(m6) as transmission was build in 2008.    
 4 audi         a4          2008 auto(av)   The Audi A4 with auto(av) as transmission was build in 2008.      
 5 audi         a4          1999 auto(l5)   The Audi A4 with auto(l5) as transmission was build in 1999.      
 6 audi         a4          1999 manual(m5) The Audi A4 with manual(m5) as transmission was build in 1999.    
 7 audi         a4          2008 auto(av)   The Audi A4 with auto(av) as transmission was build in 2008.      
 8 audi         a4 quattro  1999 manual(m5) The Audi A4 Quattro with manual(m5) as transmission was build in …
 9 audi         a4 quattro  1999 auto(l5)   The Audi A4 Quattro with auto(l5) as transmission was build in 19…
10 audi         a4 quattro  2008 manual(m6) The Audi A4 Quattro with manual(m6) as transmission was build in …
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="alternatively-paste-functions" class="slide level2">
<h2>Alternatively: paste Functions</h2>
<p><code>paste</code> and() <code>paste0()</code> also allow you to combine strings and values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-254_7c76db2410de79b1f422bee2b4265749">
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1"></a>date <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb436-2"><a href="#cb436-2"></a>wday <span class="ot">&lt;-</span> <span class="fu">wday</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-255_7f761ed74cb11a339f3af08e1c7d8076">
<div class="sourceCode cell-code" id="cb437"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb437-1"><a href="#cb437-1"></a><span class="fu">paste</span>(<span class="st">"Today is"</span>, wday, <span class="st">","</span>, date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Today is Tuesday , 2023-02-28"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-256_6af7d934d8dc3be963911af99f4760d2">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb439-1"><a href="#cb439-1"></a><span class="fu">paste</span>(<span class="st">"Today is"</span>, wday, <span class="st">","</span>, date, <span class="at">sep =</span> <span class="st">"*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Today is*Tuesday*,*2023-02-28"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-257_f9353d1cf96dc1593a6553e325986085">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb441-1"><a href="#cb441-1"></a><span class="fu">paste</span>(<span class="st">"Today is "</span>, wday, <span class="st">", "</span>, date, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Today is Tuesday, 2023-02-28"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-258_a5f7bcb7d470bbb86dc744550dc39958">
<div class="sourceCode cell-code" id="cb443"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb443-1"><a href="#cb443-1"></a><span class="fu">paste0</span>(<span class="st">"Today is "</span>, wday, <span class="st">", "</span>, date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Today is Tuesday, 2023-02-28"</code></pre>
</div>
</div>
</div>
</section>
<section id="alternatively-paste-functions-1" class="slide level2">
<h2>Alternatively: paste Functions</h2>
<p><code>paste</code> and() <code>paste0()</code> also allow you to combine strings and values:</p>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-259_5a9d5bfe4d201560d5b4278a790bd01c">
<div class="sourceCode cell-code" id="cb445"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb445-1"><a href="#cb445-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb445-2"><a href="#cb445-2"></a>  <span class="fu">select</span>(manufacturer, model, year, trans) <span class="sc">%&gt;%</span> </span>
<span id="cb445-3"><a href="#cb445-3"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> </span>
<span id="cb445-4"><a href="#cb445-4"></a>    <span class="fu">paste0</span>(<span class="st">"The "</span>, <span class="fu">str_to_title</span>(manufacturer), <span class="st">" "</span>, <span class="fu">str_to_title</span>(model), <span class="st">" with "</span>, trans, <span class="st">" as transmission was build in "</span>, year, <span class="st">"."</span>)</span>
<span id="cb445-5"><a href="#cb445-5"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 5
   manufacturer model       year trans      text                                                              
   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;                                                             
 1 audi         a4          1999 auto(l5)   The Audi A4 with auto(l5) as transmission was build in 1999.      
 2 audi         a4          1999 manual(m5) The Audi A4 with manual(m5) as transmission was build in 1999.    
 3 audi         a4          2008 manual(m6) The Audi A4 with manual(m6) as transmission was build in 2008.    
 4 audi         a4          2008 auto(av)   The Audi A4 with auto(av) as transmission was build in 2008.      
 5 audi         a4          1999 auto(l5)   The Audi A4 with auto(l5) as transmission was build in 1999.      
 6 audi         a4          1999 manual(m5) The Audi A4 with manual(m5) as transmission was build in 1999.    
 7 audi         a4          2008 auto(av)   The Audi A4 with auto(av) as transmission was build in 2008.      
 8 audi         a4 quattro  1999 manual(m5) The Audi A4 Quattro with manual(m5) as transmission was build in …
 9 audi         a4 quattro  1999 auto(l5)   The Audi A4 Quattro with auto(l5) as transmission was build in 19…
10 audi         a4 quattro  2008 manual(m6) The Audi A4 Quattro with manual(m6) as transmission was build in …
# … with 224 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-more-data-wrangling" class="slide level2">
<h2>Your Turn: More Data Wrangling</h2>
<div class="exercise">
<div>
<ul>
<li class="fragment">Explore the <code>billboard</code> data set from the <strong><code>{tidyr}</code></strong> package.</li>
<li class="fragment">Turn it into a tidy format.</li>
<li class="fragment">Drop all rows that do not contain information on the rank.</li>
<li class="fragment">Shorten the track title to 20 characters, preferably indicating that the title<br>has been shortened.</li>
<li class="fragment">Add a column with the date in a German format: <code>dd.mm.yyyy</code>.</li>
<li class="fragment">Create a new summary table with 1 line per track containing
<ul>
<li class="fragment">the number of weeks a track was ranked in the Top 100</li>
<li class="fragment">the average rank of each track across weeks</li>
<li class="fragment"><strong>Bonus:</strong> the artist column as a factor ordered by the overall number of weeks and number of tracks and a column with the explicit rank</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="your-turn-inspect-data" class="slide level2">
<h2>Your Turn: Inspect Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-260_1518075aa208d321f89b5334f1a56ce3">
<div class="sourceCode cell-code" id="cb447"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb447-1"><a href="#cb447-1"></a>df_bill <span class="ot">&lt;-</span> tidyr<span class="sc">::</span>billboard</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-261_96237ad4e926badf28a07301c75c67e6">
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1"></a><span class="fu">glimpse</span>(df_bill)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 317
Columns: 79
$ artist       &lt;chr&gt; "2 Pac", "2Ge+her", "3 Doors Down", "3 Doors Down", "504 Boyz", "98^0", "A*Teens", "Aal…
$ track        &lt;chr&gt; "Baby Don't Cry (Keep...", "The Hardest Part Of ...", "Kryptonite", "Loser", "Wobble Wo…
$ date.entered &lt;date&gt; 2000-02-26, 2000-09-02, 2000-04-08, 2000-10-21, 2000-04-15, 2000-08-19, 2000-07-08, 20…
$ wk1          &lt;dbl&gt; 87, 91, 81, 76, 57, 51, 97, 84, 59, 76, 84, 57, 50, 71, 79, 80, 99, 92, 82, 77, 70, 62,…
$ wk2          &lt;dbl&gt; 82, 87, 70, 76, 34, 39, 97, 62, 53, 76, 84, 47, 39, 51, 65, 78, 99, NA, 76, 54, 62, 32,…
$ wk3          &lt;dbl&gt; 72, 92, 68, 72, 25, 34, 96, 51, 38, 74, 75, 45, 30, 28, 53, 76, 96, NA, 76, 50, 56, 30,…
$ wk4          &lt;dbl&gt; 77, NA, 67, 69, 17, 26, 95, 41, 28, 69, 73, 29, 28, 18, 48, 77, 96, 95, 70, 43, 43, 23,…
$ wk5          &lt;dbl&gt; 87, NA, 66, 67, 17, 26, 100, 38, 21, 68, 73, 23, 21, 13, 45, 92, 100, NA, 82, 30, 39, 2…
$ wk6          &lt;dbl&gt; 94, NA, 57, 65, 31, 19, NA, 35, 18, 67, 69, 18, 19, 13, 36, NA, 93, NA, 81, 27, 33, 30,…
$ wk7          &lt;dbl&gt; 99, NA, 54, 55, 36, 2, NA, 35, 16, 61, 68, 11, 20, 11, 34, NA, 93, NA, 74, 21, 26, 35, …
$ wk8          &lt;dbl&gt; NA, NA, 53, 59, 49, 2, NA, 38, 14, 58, 65, 9, 17, 1, 29, NA, 96, NA, 80, 18, 26, 32, 21…
$ wk9          &lt;dbl&gt; NA, NA, 51, 62, 53, 3, NA, 38, 12, 57, 73, 9, 17, 1, 27, NA, NA, NA, 76, 15, 26, 32, 18…
$ wk10         &lt;dbl&gt; NA, NA, 51, 61, 57, 6, NA, 36, 10, 59, 83, 11, 17, 2, 30, NA, NA, NA, 76, 13, 31, 25, 1…
$ wk11         &lt;dbl&gt; NA, NA, 51, 61, 64, 7, NA, 37, 9, 66, 92, 1, 17, 2, 36, NA, 99, NA, 73, 13, 32, 23, 19,…
$ wk12         &lt;dbl&gt; NA, NA, 51, 59, 70, 22, NA, 37, 8, 68, NA, 1, 3, 3, 37, NA, NA, 97, 74, 13, 31, 28, 15,…
$ wk13         &lt;dbl&gt; NA, NA, 47, 61, 75, 29, NA, 38, 6, 61, NA, 1, 3, 3, 39, NA, 96, NA, 87, 13, 38, 27, 18,…
$ wk14         &lt;dbl&gt; NA, NA, 44, 66, 76, 36, NA, 49, 1, 67, NA, 1, 7, 4, 49, NA, 96, NA, 83, 5, 38, 29, 13, …
$ wk15         &lt;dbl&gt; NA, NA, 38, 72, 78, 47, NA, 61, 2, 59, NA, 4, 10, 12, 57, NA, 99, NA, 89, 2, 52, 27, 16…
$ wk16         &lt;dbl&gt; NA, NA, 28, 76, 85, 67, NA, 63, 2, 63, NA, 8, 17, 11, 63, NA, 98, NA, 93, 2, 57, 31, 15…
$ wk17         &lt;dbl&gt; NA, NA, 22, 75, 92, 66, NA, 62, 2, 67, NA, 12, 25, 13, 65, NA, 98, NA, 94, 5, 64, 31, 1…
$ wk18         &lt;dbl&gt; NA, NA, 18, 67, 96, 84, NA, 67, 2, 71, NA, 22, 29, 15, 68, NA, NA, NA, 94, 7, 73, 33, 1…
$ wk19         &lt;dbl&gt; NA, NA, 18, 73, NA, 93, NA, 83, 3, 79, NA, 23, 29, 18, 79, NA, 95, NA, 91, 9, 81, 40, 1…
$ wk20         &lt;dbl&gt; NA, NA, 14, 70, NA, 94, NA, 86, 4, 89, NA, 43, 40, 20, 86, NA, 88, NA, 90, 12, 79, 51, …
$ wk21         &lt;dbl&gt; NA, NA, 12, NA, NA, NA, NA, NA, 5, NA, NA, 44, 43, 30, NA, NA, 88, NA, NA, 12, NA, NA, …
$ wk22         &lt;dbl&gt; NA, NA, 7, NA, NA, NA, NA, NA, 5, NA, NA, NA, 50, 40, NA, NA, 79, NA, NA, 16, NA, NA, 1…
$ wk23         &lt;dbl&gt; NA, NA, 6, NA, NA, NA, NA, NA, 6, NA, NA, NA, NA, 39, NA, NA, 76, NA, NA, 20, NA, NA, 1…
$ wk24         &lt;dbl&gt; NA, NA, 6, NA, NA, NA, NA, NA, 9, NA, NA, NA, NA, 44, NA, NA, 69, NA, NA, 20, NA, NA, 2…
$ wk25         &lt;dbl&gt; NA, NA, 6, NA, NA, NA, NA, NA, 13, NA, NA, NA, NA, NA, NA, NA, 69, NA, NA, 22, NA, NA, …
$ wk26         &lt;dbl&gt; NA, NA, 5, NA, NA, NA, NA, NA, 14, NA, NA, NA, NA, NA, NA, NA, 59, NA, NA, 25, NA, NA, …
$ wk27         &lt;dbl&gt; NA, NA, 5, NA, NA, NA, NA, NA, 16, NA, NA, NA, NA, NA, NA, NA, 58, NA, NA, 26, NA, NA, …
$ wk28         &lt;dbl&gt; NA, NA, 4, NA, NA, NA, NA, NA, 23, NA, NA, NA, NA, NA, NA, NA, 58, NA, NA, 29, NA, NA, …
$ wk29         &lt;dbl&gt; NA, NA, 4, NA, NA, NA, NA, NA, 22, NA, NA, NA, NA, NA, NA, NA, 49, NA, NA, 35, NA, NA, …
$ wk30         &lt;dbl&gt; NA, NA, 4, NA, NA, NA, NA, NA, 33, NA, NA, NA, NA, NA, NA, NA, 44, NA, NA, 33, NA, NA, …
$ wk31         &lt;dbl&gt; NA, NA, 4, NA, NA, NA, NA, NA, 36, NA, NA, NA, NA, NA, NA, NA, 42, NA, NA, 40, NA, NA, …
$ wk32         &lt;dbl&gt; NA, NA, 3, NA, NA, NA, NA, NA, 43, NA, NA, NA, NA, NA, NA, NA, 46, NA, NA, 44, NA, NA, …
$ wk33         &lt;dbl&gt; NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 50, NA, NA, NA, NA, NA, …
$ wk34         &lt;dbl&gt; NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk35         &lt;dbl&gt; NA, NA, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk36         &lt;dbl&gt; NA, NA, 5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk37         &lt;dbl&gt; NA, NA, 5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk38         &lt;dbl&gt; NA, NA, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk39         &lt;dbl&gt; NA, NA, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ wk40         &lt;dbl&gt; NA, NA, 15, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk41         &lt;dbl&gt; NA, NA, 14, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk42         &lt;dbl&gt; NA, NA, 13, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk43         &lt;dbl&gt; NA, NA, 14, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk44         &lt;dbl&gt; NA, NA, 16, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk45         &lt;dbl&gt; NA, NA, 17, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk46         &lt;dbl&gt; NA, NA, 21, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk47         &lt;dbl&gt; NA, NA, 22, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk48         &lt;dbl&gt; NA, NA, 24, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk49         &lt;dbl&gt; NA, NA, 28, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk50         &lt;dbl&gt; NA, NA, 33, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk51         &lt;dbl&gt; NA, NA, 42, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk52         &lt;dbl&gt; NA, NA, 42, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk53         &lt;dbl&gt; NA, NA, 49, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk54         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk55         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk56         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk57         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk58         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk59         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk60         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk61         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk62         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk63         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk64         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk65         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk66         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk67         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk68         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk69         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk70         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk71         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk72         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk73         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk74         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk75         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ wk76         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="question">
<p>Of which format is the <code>billboard</code> data set?</p>
</div>
</div>
</section>
<section id="your-turn-tidy-data" class="slide level2">
<h2>Your Turn: Tidy Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-262_42c03fd2a1a14e152e0add28dd679b78">
<div class="sourceCode cell-code" id="cb450" data-code-line-numbers="1|2,6|3|4|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb450-1"><a href="#cb450-1"></a>df_bill <span class="sc">%&gt;%</span> </span>
<span id="cb450-2"><a href="#cb450-2"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb450-3"><a href="#cb450-3"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(artist, track, date.entered),</span>
<span id="cb450-4"><a href="#cb450-4"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb450-5"><a href="#cb450-5"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span></span>
<span id="cb450-6"><a href="#cb450-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24,092 × 5
   artist track                   date.entered week   rank
   &lt;chr&gt;  &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk1      87
 2 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk2      82
 3 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk3      72
 4 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk4      77
 5 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk5      87
 6 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk6      94
 7 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk7      99
 8 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk8      NA
 9 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk9      NA
10 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk10     NA
# … with 24,082 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-tidy-data-1" class="slide level2">
<h2>Your Turn: Tidy Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-263_82aab9cf68cef2bfe05d4d346bdcfb0d">
<div class="sourceCode cell-code" id="cb452" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb452-1"><a href="#cb452-1"></a>df_bill <span class="sc">%&gt;%</span> </span>
<span id="cb452-2"><a href="#cb452-2"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb452-3"><a href="#cb452-3"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(artist, track, date.entered),</span>
<span id="cb452-4"><a href="#cb452-4"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb452-5"><a href="#cb452-5"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb452-6"><a href="#cb452-6"></a>    <span class="at">names_prefix =</span> <span class="st">"wk"</span></span>
<span id="cb452-7"><a href="#cb452-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24,092 × 5
   artist track                   date.entered week   rank
   &lt;chr&gt;  &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac  Baby Don't Cry (Keep... 2000-02-26   1        87
 2 2 Pac  Baby Don't Cry (Keep... 2000-02-26   2        82
 3 2 Pac  Baby Don't Cry (Keep... 2000-02-26   3        72
 4 2 Pac  Baby Don't Cry (Keep... 2000-02-26   4        77
 5 2 Pac  Baby Don't Cry (Keep... 2000-02-26   5        87
 6 2 Pac  Baby Don't Cry (Keep... 2000-02-26   6        94
 7 2 Pac  Baby Don't Cry (Keep... 2000-02-26   7        99
 8 2 Pac  Baby Don't Cry (Keep... 2000-02-26   8        NA
 9 2 Pac  Baby Don't Cry (Keep... 2000-02-26   9        NA
10 2 Pac  Baby Don't Cry (Keep... 2000-02-26   10       NA
# … with 24,082 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-tidy-data-2" class="slide level2">
<h2>Your Turn: Tidy Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-264_980f0084cab301b5b3bc2f64b9f4d726">
<div class="sourceCode cell-code" id="cb454" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb454-1"><a href="#cb454-1"></a>df_bill <span class="sc">%&gt;%</span> </span>
<span id="cb454-2"><a href="#cb454-2"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb454-3"><a href="#cb454-3"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(artist, track, date.entered),</span>
<span id="cb454-4"><a href="#cb454-4"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb454-5"><a href="#cb454-5"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb454-6"><a href="#cb454-6"></a>    <span class="at">names_prefix =</span> <span class="st">"wk"</span>,</span>
<span id="cb454-7"><a href="#cb454-7"></a>    <span class="at">values_drop_na =</span> <span class="cn">TRUE</span></span>
<span id="cb454-8"><a href="#cb454-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 × 5
   artist  track                   date.entered week   rank
   &lt;chr&gt;   &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac   Baby Don't Cry (Keep... 2000-02-26   1        87
 2 2 Pac   Baby Don't Cry (Keep... 2000-02-26   2        82
 3 2 Pac   Baby Don't Cry (Keep... 2000-02-26   3        72
 4 2 Pac   Baby Don't Cry (Keep... 2000-02-26   4        77
 5 2 Pac   Baby Don't Cry (Keep... 2000-02-26   5        87
 6 2 Pac   Baby Don't Cry (Keep... 2000-02-26   6        94
 7 2 Pac   Baby Don't Cry (Keep... 2000-02-26   7        99
 8 2Ge+her The Hardest Part Of ... 2000-09-02   1        91
 9 2Ge+her The Hardest Part Of ... 2000-09-02   2        87
10 2Ge+her The Hardest Part Of ... 2000-09-02   3        92
# … with 5,297 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-tidy-data-3" class="slide level2">
<h2>Your Turn: Tidy Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-265_344ae6203b0a696c598458d6991707f7">
<div class="sourceCode cell-code" id="cb456" data-code-line-numbers="8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb456-1"><a href="#cb456-1"></a>df_bill <span class="sc">%&gt;%</span> </span>
<span id="cb456-2"><a href="#cb456-2"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb456-3"><a href="#cb456-3"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(artist, track, date.entered),</span>
<span id="cb456-4"><a href="#cb456-4"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb456-5"><a href="#cb456-5"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb456-6"><a href="#cb456-6"></a>    <span class="at">names_prefix =</span> <span class="st">"wk"</span></span>
<span id="cb456-7"><a href="#cb456-7"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb456-8"><a href="#cb456-8"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(rank))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 × 5
   artist  track                   date.entered week   rank
   &lt;chr&gt;   &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac   Baby Don't Cry (Keep... 2000-02-26   1        87
 2 2 Pac   Baby Don't Cry (Keep... 2000-02-26   2        82
 3 2 Pac   Baby Don't Cry (Keep... 2000-02-26   3        72
 4 2 Pac   Baby Don't Cry (Keep... 2000-02-26   4        77
 5 2 Pac   Baby Don't Cry (Keep... 2000-02-26   5        87
 6 2 Pac   Baby Don't Cry (Keep... 2000-02-26   6        94
 7 2 Pac   Baby Don't Cry (Keep... 2000-02-26   7        99
 8 2Ge+her The Hardest Part Of ... 2000-09-02   1        91
 9 2Ge+her The Hardest Part Of ... 2000-09-02   2        87
10 2Ge+her The Hardest Part Of ... 2000-09-02   3        92
# … with 5,297 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-tidy-data-4" class="slide level2">
<h2>Your Turn: Tidy Data</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-266_a162350e49fa7af1e2a6966d6bf3bdd7">
<div class="sourceCode cell-code" id="cb458" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb458-1"><a href="#cb458-1"></a>df_bill_tidy <span class="ot">&lt;-</span> </span>
<span id="cb458-2"><a href="#cb458-2"></a>   df_bill <span class="sc">%&gt;%</span> </span>
<span id="cb458-3"><a href="#cb458-3"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb458-4"><a href="#cb458-4"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(artist, track, date.entered),</span>
<span id="cb458-5"><a href="#cb458-5"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb458-6"><a href="#cb458-6"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb458-7"><a href="#cb458-7"></a>    <span class="at">names_prefix =</span> <span class="st">"wk"</span>,</span>
<span id="cb458-8"><a href="#cb458-8"></a>    <span class="at">values_drop_na =</span> <span class="cn">TRUE</span></span>
<span id="cb458-9"><a href="#cb458-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-shorten-track-names" class="slide level2">
<h2>Your Turn: Shorten Track Names</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-267_972d59d2a303c4f2cf225cabdbf34883">
<div class="sourceCode cell-code" id="cb459" data-code-line-numbers="1|2,4|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb459-1"><a href="#cb459-1"></a>df_bill_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb459-2"><a href="#cb459-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb459-3"><a href="#cb459-3"></a>    <span class="at">track =</span> stringr<span class="sc">::</span><span class="fu">str_trunc</span>(track, <span class="dv">20</span>)</span>
<span id="cb459-4"><a href="#cb459-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 × 5
   artist  track                date.entered week   rank
   &lt;chr&gt;   &lt;chr&gt;                &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac   Baby Don't Cry (K... 2000-02-26   1        87
 2 2 Pac   Baby Don't Cry (K... 2000-02-26   2        82
 3 2 Pac   Baby Don't Cry (K... 2000-02-26   3        72
 4 2 Pac   Baby Don't Cry (K... 2000-02-26   4        77
 5 2 Pac   Baby Don't Cry (K... 2000-02-26   5        87
 6 2 Pac   Baby Don't Cry (K... 2000-02-26   6        94
 7 2 Pac   Baby Don't Cry (K... 2000-02-26   7        99
 8 2Ge+her The Hardest Part ... 2000-09-02   1        91
 9 2Ge+her The Hardest Part ... 2000-09-02   2        87
10 2Ge+her The Hardest Part ... 2000-09-02   3        92
# … with 5,297 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-shorten-track-names-1" class="slide level2">
<h2>Your Turn: Shorten Track Names</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-268_7be1f031e0e09b958223b6d1205809ae">
<div class="sourceCode cell-code" id="cb461" data-code-line-numbers="1|2,4|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb461-1"><a href="#cb461-1"></a>stringr<span class="sc">::</span><span class="fu">str_trunc</span>(df_bill<span class="sc">$</span>track, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Baby Don't Cry (K..." "The Hardest Part ..." "Kryptonite"           "Loser"               
  [5] "Wobble Wobble"        "Give Me Just One ..." "Dancing Queen"        "I Don't Wanna"       
  [9] "Try Again"            "Open My Heart"        "More"                 "Come On Over Baby..."
 [13] "I Turn To You"        "What A Girl Wants"    "Better Off Alone"     "Smoke Rings In Th..."
 [17] "Sexual"               "I'm Outta Love"       "My Baby You"          "You Sang To Me"      
 [21] "My First Love"        "Separated"            "Back Here"            "Shape Of My Heart"   
 [25] "Show Me The Meani..." "The One"              "Bag Lady"             "Who Let The Dogs Out"
 [29] "Pinch Me"             "Girls Dem Sugar"      "Monica"               "Tricky Tricky"       
 [33] "It's So Hard"         "Whoa!"                "Been There"           "Bring It All To Me"  
 [37] "Deep Inside"          "Give Me You"          "All The Small Things" "The Bad Touch"       
 [41] "It's My Life"         "He Wasn't Man Enough" "Just Be A Man Abo..." "Spanish Guitar"      
 [45] "A Country Boy Can..." "Yes!"                 "You'll Always Be ..." "Do What You Gotta Do"
 [49] "Put Your Hand In ..." "My Love Goes On A..." "What Means The Wo..." "Crybaby"             
 [53] "Thank God I Found..." "Aaron's Party (Co..." "Take That"            "That Other Woman"    
 [57] "I Lost It"            "What I Need To Do"    "Meanwhile Back At..." "A Little Gasoline"   
 [61] "The Light"            "Hanginaround"         "Higher"               "With Arms Wide Open" 
 [65] "You Won't Be Lone..." "Left &amp; Right"         "Untitled (How Doe..." "Party Up (Up In H..."
 [69] "What You Want"        "What's My Name"       "That's What I'm L..." "What'Chu Like"       
 [73] "Unconditional"        "All Good?"            "Independent Women..." "Jumpin' Jumpin'"     
 [77] "Say My Name"          "It's Always Somet..." "The Quittin' Kind"    "That's The Way It Is"
 [81] "Cold Day In July"     "Cowboy Take Me Away"  "Goodbye Earl"         "Without You"         
 [85] "Forgot About Dre"     "The Next Episode"     "Left, Right, Left"    "He Loves U Not"      
 [89] "G'D Up"               "Got Beef"             "Blue"                 "Hot Boyz"            
 [93] "Stan"                 "The Real Slim Shady"  "The Way I Am"         "Riddle"              
 [97] "No Me Dejes De Qu..." "Born To Fly"          "Got It All"           "Love Is Blind"       
[101] "Wonderful"            "I Will Love Again"    "The Rockafeller S..." "Take A Picture"      
[105] "Learn To Fly"         "Toca's Miracle"       "Do You"               "Cherchez LaGhost"    
[109] "Feels Like Love"      "One Voice"            "None Of Ur Friend..." "The Best Man I Ca..."
[113] "Broadway"             "I Try"                "She's More"           "Dancin'"             
[117] "This Time Around"     "L.A. Song"            "Flowers On The Wall"  "Taking You Home"     
[121] "No Mercy"             "Breathe"              "Let's Make Love"      "Another Dumb Blonde" 
[125] "Can't Stay"           "I Need A Hot Girl"    "Could I Have This..." "I Learned From Th..."
[129] "My Love Is Your Love" "Same Script, Diff..." "Stay The Night"       "You Can Do It"       
[133] "Whatever"             "Be With You"          "Rhythm Divine"        "One Night Stand"     
[137] "Between Me And You"   "It Must Be Love"      "Pop A Top"            "www.memory"          
[141] "He Can't Love U"      "Let's Get Married"    "Doesn't Really Ma..." "Anything"            
[145] "Big Pimpin'"          "Do It Again (Put ..." "Hey Papi"             "I Just Wanna Love..."
[149] "911"                  "I Wanna Know"         "Treat Her Like A ..." "Someday Out Of Th..."
[153] "Where I Wanna Be"     "Get It On.. Tonite"   "U Understand"         "Don't Think I'm Not" 
[157] "Country Comes To ..." "How Do You Like M..." "Caught Out There"     "Auld Lang Syne (T..."
[161] "Only God Knows Why"   "I Belong To You"      "U Don't Love Me"      "I Don't Wanna Kis..."
[165] "West Side Story"      "Imagine That"         "Get Up"               "Lessons Learned"     
[169] "Baby U Are"           "Mr. Too Damn Good"    "Bounce With Me"       "Tha Block Is Hot"    
[173] "How Many Licks?"      "No Matter What Th..." "Ta Da"                "Callin' Me"          
[177] "N 2 Gether Now"       "Re-Arranged"          "Rollin'"              "Amazed"              
[181] "Smile"                "What About Now"       "Feelin' Good"         "That's The Kind O..."
[185] "Ryde or Die, Chick"   "Dance Tonight"        "What's Your Fantasy"  "Don't Say You Lov..."
[189] "Mirror Mirror"        "Don't Call Me Baby"   "American Pie"         "Music"               
[193] "Private Emotion"      "Shake Your Bon-Bon"   "She Bangs"            "Shackles (Praise ..."
[197] "Souljas"              "Love's The Only H..." "There You Are"        "I'll Be"             
[201] "What Do You Say"      "My Best Friend"       "My Next Thirty Years" "Some Things Never..."
[205] "Stay Or Let It Go"    "Because You Love Me"  "That's The Way"       "I Disappear"         
[209] "No Leaf Clover (L..." "Daddy Won't Sell ..." "The Little Girl"      "Straight Up"         
[213] "I Wanna Be With You"  "Gotta Tell You"       "Just Friends"         "Case Of The Ex (W..."
[217] "The Best Of Me"       "Shake Ya Ass"         "Bye Bye Bye"          "It's Gonna Be Me"    
[221] "This I Promise You"   "You Owe Me"           "(Hot S**t) Countr..." "Wifey"               
[225] "Absolutely (Story..." "If I Am"              "Simple Kind Of Life"  "3 Little Words"      
[229] "Original Prankster"   "Me Neither"           "We Danced"            "Last Resort"         
[233] "Nothing As It Seems"  "Most Girls"           "There U Go"           "As We Lay"           
[237] "Love Sets You Free"   "You Should've Tol..." "Liar"                 "Best Friend"         
[241] "Breathe And Stop"     "The Great Beyond"     "Prayin' For Daylight" "Couldn't Last A M..."
[245] "Californication"      "Otherside"            "Big Deal"             "Can't Fight The M..."
[249] "I Need You"           "Buy Me A Rose"        "No More"              "I Like It"           
[253] "Maria, Maria"         "Crash And Burn"       "I Knew I Loved You"   "Deck The Halls"      
[257] "I Will.. But"         "This Woman Needs"     "Where I Wanna Be"     "Bad Boyz"            
[261] "I Think I'm In Lo..." "Where You Are"        "Got To Get It"        "Incomplete"          
[265] "Thong Song"           "Change Your Mind"     "Then The Morning ..." "Freakin' It"         
[269] "A Puro Dolor (Pur..." "It Feels So Good"     "Faded"                "From The Bottom O..."
[273] "Lucky"                "Oops!.. I Did It ..." "Still In My Heart"    "I Think God Can E..."
[277] "Desert Rose"          "Sour Girl"            "No More Rain (In ..." "Go On"               
[281] "The Best Day"         "Falls Apart"          "Dear Lie"             "If You Don't Wann..."
[285] "Can't Go For That"    "Deep Inside Of You"   "Never Let You Go"     "Emotional"           
[289] "I Wish"               "Summer Rain"          "Kiss This"            "Meet Virginia"       
[293] "Shut Up"              "Pull Over"            "Best Of Intentions"   "I Know"              
[297] "Your Everything"      "Pop Ya Collar"        "Carlene"              "Just Another Day ..."
[301] "Everything You Want"  "You're A God"         "Graduation (Frien..." "The Itch"            
[305] "Live, Laugh, Love"    "The Chain Of Love"    "Sleepwalker"          "Swear It Again"      
[309] "Angels"               "Back At One"          "When You Need My ..." "It Was"              
[313] "Another Nine Minutes" "Real Live Woman"      "Whistle While You..." "Kernkraft 400"       
[317] "Bent"                </code></pre>
</div>
</div>
</section>
<section id="your-turn-change-date-format" class="slide level2">
<h2>Your Turn: Change Date Format</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-269_e42f2aef429555c48b0fa9e5795c530e">
<div class="sourceCode cell-code" id="cb463" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb463-1"><a href="#cb463-1"></a>df_bill_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb463-2"><a href="#cb463-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb463-3"><a href="#cb463-3"></a>    <span class="at">track =</span> stringr<span class="sc">::</span><span class="fu">str_trunc</span>(track, <span class="dv">20</span>),</span>
<span id="cb463-4"><a href="#cb463-4"></a>    <span class="at">date.entered.german =</span> <span class="fu">format</span>(date.entered, <span class="at">format =</span> <span class="st">"%d.%m.%Y"</span>)</span>
<span id="cb463-5"><a href="#cb463-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 × 6
   artist  track                date.entered week   rank date.entered.german
   &lt;chr&gt;   &lt;chr&gt;                &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;              
 1 2 Pac   Baby Don't Cry (K... 2000-02-26   1        87 26.02.2000         
 2 2 Pac   Baby Don't Cry (K... 2000-02-26   2        82 26.02.2000         
 3 2 Pac   Baby Don't Cry (K... 2000-02-26   3        72 26.02.2000         
 4 2 Pac   Baby Don't Cry (K... 2000-02-26   4        77 26.02.2000         
 5 2 Pac   Baby Don't Cry (K... 2000-02-26   5        87 26.02.2000         
 6 2 Pac   Baby Don't Cry (K... 2000-02-26   6        94 26.02.2000         
 7 2 Pac   Baby Don't Cry (K... 2000-02-26   7        99 26.02.2000         
 8 2Ge+her The Hardest Part ... 2000-09-02   1        91 02.09.2000         
 9 2Ge+her The Hardest Part ... 2000-09-02   2        87 02.09.2000         
10 2Ge+her The Hardest Part ... 2000-09-02   3        92 02.09.2000         
# … with 5,297 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-change-date-format-1" class="slide level2">
<h2>Your Turn: Change Date Format</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-270_e184731e604cfe71a98aae4c92290fb0">
<div class="sourceCode cell-code" id="cb465" data-code-line-numbers="1|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb465-1"><a href="#cb465-1"></a>(df_bill_custom <span class="ot">&lt;-</span> </span>
<span id="cb465-2"><a href="#cb465-2"></a>  df_bill_tidy <span class="sc">%&gt;%</span> </span>
<span id="cb465-3"><a href="#cb465-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb465-4"><a href="#cb465-4"></a>    <span class="at">track =</span> stringr<span class="sc">::</span><span class="fu">str_trunc</span>(track, <span class="dv">20</span>),</span>
<span id="cb465-5"><a href="#cb465-5"></a>    <span class="at">date.entered.german =</span> <span class="fu">format</span>(date.entered, <span class="at">format =</span> <span class="st">"%d.%m.%Y"</span>)</span>
<span id="cb465-6"><a href="#cb465-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb465-7"><a href="#cb465-7"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(artist, track, week, rank, <span class="fu">starts_with</span>(<span class="st">"date."</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 × 6
   artist  track                week   rank date.entered date.entered.german
   &lt;chr&gt;   &lt;chr&gt;                &lt;chr&gt; &lt;dbl&gt; &lt;date&gt;       &lt;chr&gt;              
 1 2 Pac   Baby Don't Cry (K... 1        87 2000-02-26   26.02.2000         
 2 2 Pac   Baby Don't Cry (K... 2        82 2000-02-26   26.02.2000         
 3 2 Pac   Baby Don't Cry (K... 3        72 2000-02-26   26.02.2000         
 4 2 Pac   Baby Don't Cry (K... 4        77 2000-02-26   26.02.2000         
 5 2 Pac   Baby Don't Cry (K... 5        87 2000-02-26   26.02.2000         
 6 2 Pac   Baby Don't Cry (K... 6        94 2000-02-26   26.02.2000         
 7 2 Pac   Baby Don't Cry (K... 7        99 2000-02-26   26.02.2000         
 8 2Ge+her The Hardest Part ... 1        91 2000-09-02   02.09.2000         
 9 2Ge+her The Hardest Part ... 2        87 2000-09-02   02.09.2000         
10 2Ge+her The Hardest Part ... 3        92 2000-09-02   02.09.2000         
# … with 5,297 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-271_ab135e66e356f256a5681014e930e741">
<div class="sourceCode cell-code" id="cb467"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb467-1"><a href="#cb467-1"></a>df_bill_custom <span class="sc">%&gt;%</span> </span>
<span id="cb467-2"><a href="#cb467-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(artist, track)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 3
   artist         track                    n
   &lt;chr&gt;          &lt;chr&gt;                &lt;int&gt;
 1 2 Pac          Baby Don't Cry (K...     7
 2 2Ge+her        The Hardest Part ...     3
 3 3 Doors Down   Kryptonite              53
 4 3 Doors Down   Loser                   20
 5 504 Boyz       Wobble Wobble           18
 6 98^0           Give Me Just One ...    20
 7 A*Teens        Dancing Queen            5
 8 Aaliyah        I Don't Wanna           20
 9 Aaliyah        Try Again               32
10 Adams, Yolanda Open My Heart           20
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-check-for-duplicates" class="slide level2">
<h2>Your Turn: Check for Duplicates</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-272_7fd1829cdc2800aff216aef740272944">
<div class="sourceCode cell-code" id="cb469" data-code-line-numbers="2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb469-1"><a href="#cb469-1"></a>df_bill_custom <span class="sc">%&gt;%</span> </span>
<span id="cb469-2"><a href="#cb469-2"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(artist, track, week) <span class="sc">%&gt;%</span> </span>
<span id="cb469-3"><a href="#cb469-3"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 4
# … with 4 variables: artist &lt;chr&gt;, track &lt;chr&gt;, week &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-1" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-273_68e25b2365f05257c9279fd2a4650432">
<div class="sourceCode cell-code" id="cb471" data-code-line-numbers="2,3,4,5,6,7|3|4|5|6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb471-1"><a href="#cb471-1"></a>df_bill_custom <span class="sc">%&gt;%</span> </span>
<span id="cb471-2"><a href="#cb471-2"></a>  <span class="do">## same as `count()`...</span></span>
<span id="cb471-3"><a href="#cb471-3"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(artist, track) <span class="sc">%&gt;%</span> </span>
<span id="cb471-4"><a href="#cb471-4"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb471-5"><a href="#cb471-5"></a>    <span class="at">weeks =</span> dplyr<span class="sc">::</span><span class="fu">n</span>() </span>
<span id="cb471-6"><a href="#cb471-6"></a>    <span class="do">## ... but we need to add more here</span></span>
<span id="cb471-7"><a href="#cb471-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 3
# Groups:   artist [228]
   artist         track                weeks
   &lt;chr&gt;          &lt;chr&gt;                &lt;int&gt;
 1 2 Pac          Baby Don't Cry (K...     7
 2 2Ge+her        The Hardest Part ...     3
 3 3 Doors Down   Kryptonite              53
 4 3 Doors Down   Loser                   20
 5 504 Boyz       Wobble Wobble           18
 6 98^0           Give Me Just One ...    20
 7 A*Teens        Dancing Queen            5
 8 Aaliyah        I Don't Wanna           20
 9 Aaliyah        Try Again               32
10 Adams, Yolanda Open My Heart           20
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-2" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-274_2d4437df849cf80061135a9dd5542242">
<div class="sourceCode cell-code" id="cb473" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb473-1"><a href="#cb473-1"></a>df_bill_custom <span class="sc">%&gt;%</span> </span>
<span id="cb473-2"><a href="#cb473-2"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(artist, track) <span class="sc">%&gt;%</span> </span>
<span id="cb473-3"><a href="#cb473-3"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb473-4"><a href="#cb473-4"></a>    <span class="at">weeks =</span> dplyr<span class="sc">::</span><span class="fu">n</span>(),</span>
<span id="cb473-5"><a href="#cb473-5"></a>    <span class="at">avg_rank =</span> <span class="fu">mean</span>(rank) </span>
<span id="cb473-6"><a href="#cb473-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 4
# Groups:   artist [228]
   artist         track                weeks avg_rank
   &lt;chr&gt;          &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;
 1 2 Pac          Baby Don't Cry (K...     7     85.4
 2 2Ge+her        The Hardest Part ...     3     90  
 3 3 Doors Down   Kryptonite              53     26.5
 4 3 Doors Down   Loser                   20     67.1
 5 504 Boyz       Wobble Wobble           18     56.2
 6 98^0           Give Me Just One ...    20     37.6
 7 A*Teens        Dancing Queen            5     97  
 8 Aaliyah        I Don't Wanna           20     52.0
 9 Aaliyah        Try Again               32     16.7
10 Adams, Yolanda Open My Heart           20     67.8
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-3" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-275_aa0d871e33fc3164f4c09a616562c8ab">
<div class="sourceCode cell-code" id="cb475" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb475-1"><a href="#cb475-1"></a>df_bill_sum <span class="ot">&lt;-</span> </span>
<span id="cb475-2"><a href="#cb475-2"></a>  df_bill_custom <span class="sc">%&gt;%</span> </span>
<span id="cb475-3"><a href="#cb475-3"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(artist, track) <span class="sc">%&gt;%</span> </span>
<span id="cb475-4"><a href="#cb475-4"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb475-5"><a href="#cb475-5"></a>    <span class="at">weeks =</span> dplyr<span class="sc">::</span><span class="fu">n</span>(),</span>
<span id="cb475-6"><a href="#cb475-6"></a>    <span class="at">avg_rank =</span> <span class="fu">mean</span>(rank) </span>
<span id="cb475-7"><a href="#cb475-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-summary-table-4" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-276_151e6cbcf87d6816909560e456da6b8f">
<div class="sourceCode cell-code" id="cb476"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb476-1"><a href="#cb476-1"></a>df_bill_sum <span class="sc">%&gt;%</span> </span>
<span id="cb476-2"><a href="#cb476-2"></a>  <span class="fu">add_count</span>(artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 5
# Groups:   artist [228]
   artist         track                weeks avg_rank     n
   &lt;chr&gt;          &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
 1 2 Pac          Baby Don't Cry (K...     7     85.4     1
 2 2Ge+her        The Hardest Part ...     3     90       1
 3 3 Doors Down   Kryptonite              53     26.5     2
 4 3 Doors Down   Loser                   20     67.1     2
 5 504 Boyz       Wobble Wobble           18     56.2     1
 6 98^0           Give Me Just One ...    20     37.6     1
 7 A*Teens        Dancing Queen            5     97       1
 8 Aaliyah        I Don't Wanna           20     52.0     2
 9 Aaliyah        Try Again               32     16.7     2
10 Adams, Yolanda Open My Heart           20     67.8     1
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-5" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-277_ea73ee16ac8040ef89d7139da6a8a94a">
<div class="sourceCode cell-code" id="cb478" data-code-line-numbers="2|3,4,5,6|4|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1"></a>df_bill_sum <span class="sc">%&gt;%</span></span>
<span id="cb478-2"><a href="#cb478-2"></a>  <span class="do">## still grouped--otherwise group by artist first!</span></span>
<span id="cb478-3"><a href="#cb478-3"></a>  <span class="fu">mutate</span>(  </span>
<span id="cb478-4"><a href="#cb478-4"></a>    <span class="at">weeks_artist =</span> <span class="fu">sum</span>(weeks),</span>
<span id="cb478-5"><a href="#cb478-5"></a>    <span class="at">tracks_artist =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb478-6"><a href="#cb478-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 6
# Groups:   artist [228]
   artist         track                weeks avg_rank weeks_artist tracks_artist
   &lt;chr&gt;          &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;        &lt;int&gt;         &lt;int&gt;
 1 2 Pac          Baby Don't Cry (K...     7     85.4            7             1
 2 2Ge+her        The Hardest Part ...     3     90              3             1
 3 3 Doors Down   Kryptonite              53     26.5           73             2
 4 3 Doors Down   Loser                   20     67.1           73             2
 5 504 Boyz       Wobble Wobble           18     56.2           18             1
 6 98^0           Give Me Just One ...    20     37.6           20             1
 7 A*Teens        Dancing Queen            5     97              5             1
 8 Aaliyah        I Don't Wanna           20     52.0           52             2
 9 Aaliyah        Try Again               32     16.7           52             2
10 Adams, Yolanda Open My Heart           20     67.8           20             1
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-6" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-278_8041fc2b1936b92c2572041598c0f564">
<div class="sourceCode cell-code" id="cb480" data-code-line-numbers="5,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1"></a>df_bill_sum <span class="sc">%&gt;%</span> </span>
<span id="cb480-2"><a href="#cb480-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb480-3"><a href="#cb480-3"></a>    <span class="at">weeks_artist =</span> <span class="fu">sum</span>(weeks),</span>
<span id="cb480-4"><a href="#cb480-4"></a>    <span class="at">tracks_artist =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb480-5"><a href="#cb480-5"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb480-6"><a href="#cb480-6"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>weeks_artist, <span class="sc">-</span>tracks_artist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 6
# Groups:   artist [228]
   artist          track                weeks avg_rank weeks_artist tracks_artist
   &lt;chr&gt;           &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;        &lt;int&gt;         &lt;int&gt;
 1 Creed           Higher                  57     36.9          104             2
 2 Creed           With Arms Wide Open     47     33.8          104             2
 3 Lonestar        Amazed                  55     26.7           95             3
 4 Lonestar        Smile                   20     60.3           95             3
 5 Lonestar        What About Now          20     49.9           95             3
 6 Destiny's Child Independent Women...    28     14.8           92             3
 7 Destiny's Child Jumpin' Jumpin'         32     22.9           92             3
 8 Destiny's Child Say My Name             32     20.9           92             3
 9 N'Sync          Bye Bye Bye             23     14.3           74             3
10 N'Sync          It's Gonna Be Me        25     21.7           74             3
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="your-turn-summary-table-7" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-279_33b40d23c303aab6b0fdf416d64a1414">
<div class="sourceCode cell-code" id="cb482" data-code-line-numbers="7,8,9|8|1|1,2,3,4,5,6,7,8,9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1"></a>df_bill_sum_fct <span class="ot">&lt;-</span> </span>
<span id="cb482-2"><a href="#cb482-2"></a>  df_bill_sum <span class="sc">%&gt;%</span> </span>
<span id="cb482-3"><a href="#cb482-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb482-4"><a href="#cb482-4"></a>    <span class="at">weeks_artist =</span> <span class="fu">sum</span>(weeks),</span>
<span id="cb482-5"><a href="#cb482-5"></a>    <span class="at">tracks_artist =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb482-6"><a href="#cb482-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb482-7"><a href="#cb482-7"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">artist =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder2</span>(</span>
<span id="cb482-8"><a href="#cb482-8"></a>    artist, weeks_artist, tracks_artist</span>
<span id="cb482-9"><a href="#cb482-9"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-280_18fc02cd9f266894b1353914cdaf95a9">
<div class="sourceCode cell-code" id="cb483"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb483-1"><a href="#cb483-1"></a><span class="fu">head</span>(<span class="fu">levels</span>(df_bill_sum_fct<span class="sc">$</span>artist), <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2 Pac"               "2Ge+her"             "3 Doors Down"        "504 Boyz"           
 [5] "98^0"                "A*Teens"             "Aaliyah"             "Adams, Yolanda"     
 [9] "Adkins, Trace"       "Aguilera, Christina"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><span class="simple-highlight-ylw">Factor levels not correct–what’s wrong?</span></p>
</div>
</section>
<section id="your-turn-summary-table-8" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-281_a4ef0ecb249ecdbb9ee767ece2d466cd">
<div class="sourceCode cell-code" id="cb485" data-code-line-numbers="7|1,2,3,4,5,6,7,8,9,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb485-1"><a href="#cb485-1"></a>df_bill_sum_fct <span class="ot">&lt;-</span> </span>
<span id="cb485-2"><a href="#cb485-2"></a>  df_bill_sum <span class="sc">%&gt;%</span> </span>
<span id="cb485-3"><a href="#cb485-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb485-4"><a href="#cb485-4"></a>    <span class="at">weeks_artist =</span> <span class="fu">sum</span>(weeks),</span>
<span id="cb485-5"><a href="#cb485-5"></a>    <span class="at">tracks_artist =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb485-6"><a href="#cb485-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb485-7"><a href="#cb485-7"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb485-8"><a href="#cb485-8"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">artist =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder2</span>(</span>
<span id="cb485-9"><a href="#cb485-9"></a>    artist, weeks_artist, tracks_artist</span>
<span id="cb485-10"><a href="#cb485-10"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-282_c25296c78be11450f79311458cc3e6e2">
<div class="sourceCode cell-code" id="cb486"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1"></a><span class="fu">head</span>(<span class="fu">levels</span>(df_bill_sum_fct<span class="sc">$</span>artist), <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Jay-Z"                "Dixie Chicks, The"    "Houston, Whitney"     "Aguilera, Christina" 
 [5] "Backstreet Boys, The" "Braxton, Toni"        "Destiny's Child"      "DMX"                 
 [9] "Eminem"               "Jackson, Alan"       </code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><span class="simple-highlight-ylw">Factor levels not correct–what’s wrong?</span></p>
</div>
</section>
<section id="your-turn-summary-table-9" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-283_623c8bb8d96214744ec339ebcc7247ab">
<div class="sourceCode cell-code" id="cb488" data-code-line-numbers="9|1,2,3,4,5,6,7,8,9,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb488-1"><a href="#cb488-1"></a>df_bill_sum_fct <span class="ot">&lt;-</span> </span>
<span id="cb488-2"><a href="#cb488-2"></a>  df_bill_sum <span class="sc">%&gt;%</span> </span>
<span id="cb488-3"><a href="#cb488-3"></a>  <span class="fu">mutate</span>(</span>
<span id="cb488-4"><a href="#cb488-4"></a>    <span class="at">tracks_artist =</span> dplyr<span class="sc">::</span><span class="fu">n</span>(),</span>
<span id="cb488-5"><a href="#cb488-5"></a>    <span class="at">weeks_artist =</span> <span class="fu">sum</span>(weeks)</span>
<span id="cb488-6"><a href="#cb488-6"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb488-7"><a href="#cb488-7"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb488-8"><a href="#cb488-8"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">artist =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder2</span>(</span>
<span id="cb488-9"><a href="#cb488-9"></a>    artist, weeks_artist, tracks_artist, <span class="at">.fun =</span> unique</span>
<span id="cb488-10"><a href="#cb488-10"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-284_c8f16d1f67d4ae624e716e4397ae440a">
<div class="sourceCode cell-code" id="cb489"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb489-1"><a href="#cb489-1"></a><span class="fu">head</span>(<span class="fu">levels</span>(df_bill_sum_fct<span class="sc">$</span>artist), <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Creed"               "Lonestar"            "Destiny's Child"     "N'Sync"             
 [5] "Sisqo"               "3 Doors Down"        "Jay-Z"               "Aguilera, Christina"
 [9] "Hill, Faith"         "Houston, Whitney"   </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-285_064eab11754ee7c4abf6b49f1acb9ab3">
<div class="sourceCode cell-code" id="cb491"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb491-1"><a href="#cb491-1"></a><span class="fu">tail</span>(<span class="fu">levels</span>(df_bill_sum_fct<span class="sc">$</span>artist), <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "De La Soul"       "Larrieux, Amel"   "Spencer, Tracie"  "LL Cool J"        "Tuesday"         
 [6] "Zombie Nation"    "Estefan, Gloria"  "Fragma"           "Ghostface Killah" "Master P"        </code></pre>
</div>
</div>
</div>
</section>
<section id="your-turn-summary-table-10" class="slide level2">
<h2>Your Turn: Summary Table</h2>
<div class="cell" data-hash="2_wrangling_cache/revealjs/unnamed-chunk-286_a8cb37199c4f5fd7b388cdbf1f782d92">
<div class="sourceCode cell-code" id="cb493" data-code-line-numbers="1|2,3,4|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb493-1"><a href="#cb493-1"></a>df_bill_sum_fct <span class="sc">%&gt;%</span> </span>
<span id="cb493-2"><a href="#cb493-2"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb493-3"><a href="#cb493-3"></a>    <span class="at">rank_artist =</span> <span class="fu">as.numeric</span>(artist)</span>
<span id="cb493-4"><a href="#cb493-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 317 × 7
   artist         track                weeks avg_rank tracks_artist weeks_artist rank_artist
   &lt;fct&gt;          &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;         &lt;int&gt;        &lt;int&gt;       &lt;dbl&gt;
 1 2 Pac          Baby Don't Cry (K...     7     85.4             1            7         189
 2 2Ge+her        The Hardest Part ...     3     90               1            3         216
 3 3 Doors Down   Kryptonite              53     26.5             2           73           6
 4 3 Doors Down   Loser                   20     67.1             2           73           6
 5 504 Boyz       Wobble Wobble           18     56.2             1           18         135
 6 98^0           Give Me Just One ...    20     37.6             1           20          89
 7 A*Teens        Dancing Queen            5     97               1            5         205
 8 Aaliyah        I Don't Wanna           20     52.0             2           52          20
 9 Aaliyah        Try Again               32     16.7             2           52          20
10 Adams, Yolanda Open My Heart           20     67.8             1           20          90
# … with 307 more rows</code></pre>
</div>
</div>
</section>
<section id="resources" class="slide level2">
<h2>Resources</h2>
<ul>
<li><a href="https://r4ds.had.co.nz/">“R for Data Science”</a> by Hadley Wickham and Garrett Grolemund</li>
<li><a href="https://www.tidyverse.org/">tidvyerse Webpage</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/data-transformation-1.pdf">{dplyr} cheatsheet</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/tidyr.pdf">{tidyr} cheatsheet</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/factors-1.pdf">{forcats} cheatsheet</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/strings-1.pdf">{stringr} cheatsheet</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/lubridate-1.pdf">{lubridate} cheatsheet</a></li>
<li><a href="https://posit.co/wp-content/uploads/2022/10/data-import.pdf">{readr} cheatsheet (incl.&nbsp;{readxl} and {googlesheets4r} )</a></li>
</ul>
</section></section>
<section>
<section id="whats-next" class="title-slide slide level1 center">
<h1>What’s Next?</h1>

</section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-workflow.png" alt="A conceptional representation of the data science workflow: the first step is data import, afterwards the data gets tidied (prepared, shaped). Then follows an iterative process of visualization, transformation and modeling. Once the final analysis is done, the results need to be communicated." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-tidy-transform-done.png" alt="The same conceptional representation of the data science workflow with the steps import, tidy, and transform being highlighted in green (as we have already covered these steps)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-visualize.png" alt="The same conceptional representation of the data science workflow with the step visualize being highlighted in yellow (as it is coming next)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section>
<section class="slide level2">

<p><br><br></p>

<img data-src="img/data-science-visualize-communicate.png" alt="The same conceptional representation of the data science workflow with the steps visualize and communicate being highlighted in yellow (as they are coming next)." class="r-stretch quarto-figure-center"><p class="caption">The data science workflow, modified from <a href="https://r4ds.had.co.nz/">“R for Data Science”</a></p></section></section>
<section id="thats-it-folks-thank-you" class="title-slide slide level1 center">
<h1>That’s it Folks…<br><b style="color:#404040;font-size:.7em;font-weight:600;">— Thank you! —</b></h1>

<img src="https://d33wubrfki0l68.cloudfront.net/d4cd9bd8e591d8973d68f98a71544bbe65d53733/79b34/img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><strong><a href="https://cedricscherer.com">Cédric Scherer</a> //</strong> R Course TU Dresden <strong>//</strong> Data Wrangling with the {tidyverse}</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="2_wrangling_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="2_wrangling_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="2_wrangling_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="2_wrangling_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard","boardmarkerWidth":4},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>